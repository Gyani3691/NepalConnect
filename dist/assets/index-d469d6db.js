var Qt=Object.defineProperty;var Jt=(e,o,i)=>o in e?Qt(e,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[o]=i;var kt=(e,o,i)=>(Jt(e,typeof o!="symbol"?o+"":o,i),i),Xt=(e,o,i)=>{if(!o.has(e))throw TypeError("Cannot "+i)};var _t=(e,o,i)=>(Xt(e,o,"read from private field"),i?i.call(e):o.get(e)),Wt=(e,o,i)=>{if(o.has(e))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(e):o.set(e,i)},Gt=(e,o,i,s)=>(Xt(e,o,"write to private field"),s?s.call(e,i):o.set(e,i),i);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,o,i){this.props=e,this.context=o,this.refs=D$1,this.updater=i||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,o){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,o,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,o,i){this.props=e,this.context=o,this.refs=D$1,this.updater=i||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,o,i){var s,a={},c=null,d=null;if(o!=null)for(s in o.ref!==void 0&&(d=o.ref),o.key!==void 0&&(c=""+o.key),o)J.call(o,s)&&!L$1.hasOwnProperty(s)&&(a[s]=o[s]);var h=arguments.length-2;if(h===1)a.children=i;else if(1<h){for(var g=Array(h),b=0;b<h;b++)g[b]=arguments[b+2];a.children=g}if(e&&e.defaultProps)for(s in h=e.defaultProps,h)a[s]===void 0&&(a[s]=h[s]);return{$$typeof:l$1,type:e,key:c,ref:d,props:a,_owner:K$1.current}}function N$1(e,o){return{$$typeof:l$1,type:e.type,key:o,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape(e){var o={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return o[i]})}var P$1=/\/+/g;function Q$1(e,o){return typeof e=="object"&&e!==null&&e.key!=null?escape(""+e.key):o.toString(36)}function R$1(e,o,i,s,a){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:d=!0}}if(d)return d=e,a=a(d),e=s===""?"."+Q$1(d,0):s,I$1(a)?(i="",e!=null&&(i=e.replace(P$1,"$&/")+"/"),R$1(a,o,i,"",function(b){return b})):a!=null&&(O$1(a)&&(a=N$1(a,i+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(P$1,"$&/")+"/")+e)),o.push(a)),1;if(d=0,s=s===""?".":s+":",I$1(e))for(var h=0;h<e.length;h++){c=e[h];var g=s+Q$1(c,h);d+=R$1(c,o,i,g,a)}else if(g=A$1(e),typeof g=="function")for(e=g.call(e),h=0;!(c=e.next()).done;)c=c.value,g=s+Q$1(c,h++),d+=R$1(c,o,i,g,a);else if(c==="object")throw o=String(e),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return d}function S$1(e,o,i){if(e==null)return e;var s=[],a=0;return R$1(e,s,"","",function(c){return o.call(i,c,a++)}),s}function T$1(e){if(e._status===-1){var o=e._result;o=o(),o.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=o)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$3={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(e,o,i){S$1(e,function(){o.apply(this,arguments)},i)},count:function(e){var o=0;return S$1(e,function(){o++}),o},toArray:function(e){return S$1(e,function(o){return o})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(e,o,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=C$1({},e.props),a=e.key,c=e.ref,d=e._owner;if(o!=null){if(o.ref!==void 0&&(c=o.ref,d=K$1.current),o.key!==void 0&&(a=""+o.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(g in o)J.call(o,g)&&!L$1.hasOwnProperty(g)&&(s[g]=o[g]===void 0&&h!==void 0?h[g]:o[g])}var g=arguments.length-2;if(g===1)s.children=i;else if(1<g){h=Array(g);for(var b=0;b<g;b++)h[b]=arguments[b+2];s.children=h}return{$$typeof:l$1,type:e.type,key:a,ref:c,props:s,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var o=M$1.bind(null,e);return o.type=e,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,o){return{$$typeof:x,type:e,compare:o===void 0?null:o}};react_production_min.startTransition=function(e){var o=V$3.transition;V$3.transition={};try{e()}finally{V$3.transition=o}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(e,o){return U$1.current.useCallback(e,o)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,o){return U$1.current.useEffect(e,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,o,i){return U$1.current.useImperativeHandle(e,o,i)};react_production_min.useInsertionEffect=function(e,o){return U$1.current.useInsertionEffect(e,o)};react_production_min.useLayoutEffect=function(e,o){return U$1.current.useLayoutEffect(e,o)};react_production_min.useMemo=function(e,o){return U$1.current.useMemo(e,o)};react_production_min.useReducer=function(e,o,i){return U$1.current.useReducer(e,o,i)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,o,i){return U$1.current.useSyncExternalStore(e,o,i)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(e,o,i){var s,a={},c=null,d=null;i!==void 0&&(c=""+i),o.key!==void 0&&(c=""+o.key),o.ref!==void 0&&(d=o.ref);for(s in o)m$1.call(o,s)&&!p$1.hasOwnProperty(s)&&(a[s]=o[s]);if(e&&e.defaultProps)for(s in o=e.defaultProps,o)a[s]===void 0&&(a[s]=o[s]);return{$$typeof:k,type:e,key:c,ref:d,props:a,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function o(ht,mt){var vt=ht.length;ht.push(mt);e:for(;0<vt;){var Et=vt-1>>>1,xt=ht[Et];if(0<a(xt,mt))ht[Et]=mt,ht[vt]=xt,vt=Et;else break e}}function i(ht){return ht.length===0?null:ht[0]}function s(ht){if(ht.length===0)return null;var mt=ht[0],vt=ht.pop();if(vt!==mt){ht[0]=vt;e:for(var Et=0,xt=ht.length,Tt=xt>>>1;Et<Tt;){var Ct=2*(Et+1)-1,Dt=ht[Ct],At=Ct+1,Ut=ht[At];if(0>a(Dt,vt))At<xt&&0>a(Ut,Dt)?(ht[Et]=Ut,ht[At]=vt,Et=At):(ht[Et]=Dt,ht[Ct]=vt,Et=Ct);else if(At<xt&&0>a(Ut,vt))ht[Et]=Ut,ht[At]=vt,Et=At;else break e}}return mt}function a(ht,mt){var vt=ht.sortIndex-mt.sortIndex;return vt!==0?vt:ht.id-mt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var g=[],b=[],$=1,j=null,tt=3,at=!1,_=!1,ot=!1,ut=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _e(ht){for(var mt=i(b);mt!==null;){if(mt.callback===null)s(b);else if(mt.startTime<=ht)s(b),mt.sortIndex=mt.expirationTime,o(g,mt);else break;mt=i(b)}}function rt(ht){if(ot=!1,_e(ht),!_)if(i(g)!==null)_=!0,St(it);else{var mt=i(b);mt!==null&&bt(rt,mt.startTime-ht)}}function it(ht,mt){_=!1,ot&&(ot=!1,nt(ft),ft=-1),at=!0;var vt=tt;try{for(_e(mt),j=i(g);j!==null&&(!(j.expirationTime>mt)||ht&&!$t());){var Et=j.callback;if(typeof Et=="function"){j.callback=null,tt=j.priorityLevel;var xt=Et(j.expirationTime<=mt);mt=e.unstable_now(),typeof xt=="function"?j.callback=xt:j===i(g)&&s(g),_e(mt)}else s(g);j=i(g)}if(j!==null)var Tt=!0;else{var Ct=i(b);Ct!==null&&bt(rt,Ct.startTime-mt),Tt=!1}return Tt}finally{j=null,tt=vt,at=!1}}var lt=!1,st=null,ft=-1,pt=5,wt=-1;function $t(){return!(e.unstable_now()-wt<pt)}function dt(){if(st!==null){var ht=e.unstable_now();wt=ht;var mt=!0;try{mt=st(!0,ht)}finally{mt?ct():(lt=!1,st=null)}}else lt=!1}var ct;if(typeof et=="function")ct=function(){et(dt)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,gt=yt.port2;yt.port1.onmessage=dt,ct=function(){gt.postMessage(null)}}else ct=function(){ut(dt,0)};function St(ht){st=ht,lt||(lt=!0,ct())}function bt(ht,mt){ft=ut(function(){ht(e.unstable_now())},mt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ht){ht.callback=null},e.unstable_continueExecution=function(){_||at||(_=!0,St(it))},e.unstable_forceFrameRate=function(ht){0>ht||125<ht?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pt=0<ht?Math.floor(1e3/ht):5},e.unstable_getCurrentPriorityLevel=function(){return tt},e.unstable_getFirstCallbackNode=function(){return i(g)},e.unstable_next=function(ht){switch(tt){case 1:case 2:case 3:var mt=3;break;default:mt=tt}var vt=tt;tt=mt;try{return ht()}finally{tt=vt}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ht,mt){switch(ht){case 1:case 2:case 3:case 4:case 5:break;default:ht=3}var vt=tt;tt=ht;try{return mt()}finally{tt=vt}},e.unstable_scheduleCallback=function(ht,mt,vt){var Et=e.unstable_now();switch(typeof vt=="object"&&vt!==null?(vt=vt.delay,vt=typeof vt=="number"&&0<vt?Et+vt:Et):vt=Et,ht){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return xt=vt+xt,ht={id:$++,callback:mt,priorityLevel:ht,startTime:vt,expirationTime:xt,sortIndex:-1},vt>Et?(ht.sortIndex=vt,o(b,ht),i(g)===null&&ht===i(b)&&(ot?(nt(ft),ft=-1):ot=!0,bt(rt,vt-Et))):(ht.sortIndex=xt,o(g,ht),_||at||(_=!0,St(it))),ht},e.unstable_shouldYield=$t,e.unstable_wrapCallback=function(ht){var mt=tt;return function(){var vt=tt;tt=mt;try{return ht.apply(this,arguments)}finally{tt=vt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(e){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)o+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,o){ha(e,o),ha(e+"Capture",o)}function ha(e,o){for(ea[e]=o,e=0;e<o.length;e++)da.add(o[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,o,i,s){if(i!==null&&i.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,o,i,s){if(o===null||typeof o>"u"||pa(e,o,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v(e,o,i,s,a,c,d){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=i,this.propertyName=e,this.type=o,this.sanitizeURL=c,this.removeEmptyString=d}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var o=e[0];z[o]=new v(o,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var o=e.replace(ra,sa);z[o]=new v(o,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var o=e.replace(ra,sa);z[o]=new v(o,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var o=e.replace(ra,sa);z[o]=new v(o,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta(e,o,i,s){var a=z.hasOwnProperty(o)?z[o]:null;(a!==null?a.type!==0:s||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa(o,i,a,s)&&(i=null),s||a===null?oa(o)&&(i===null?e.removeAttribute(o):e.setAttribute(o,""+i)):a.mustUseProperty?e[a.propertyName]=i===null?a.type===3?!1:"":i:(o=a.attributeName,s=a.attributeNamespace,i===null?e.removeAttribute(o):(a=a.type,i=a===3||a===4&&i===!0?"":""+i,s?e.setAttributeNS(s,o,i):e.setAttribute(o,i))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(i){var o=i.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+e}var Na=!1;function Oa(e,o){if(!e||Na)return"";Na=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(b){var s=b}Reflect.construct(e,[],o)}else{try{o.call()}catch(b){s=b}e.call(o.prototype)}else{try{throw Error()}catch(b){s=b}e()}}catch(b){if(b&&s&&typeof b.stack=="string"){for(var a=b.stack.split(`
`),c=s.stack.split(`
`),d=a.length-1,h=c.length-1;1<=d&&0<=h&&a[d]!==c[h];)h--;for(;1<=d&&0<=h;d--,h--)if(a[d]!==c[h]){if(d!==1||h!==1)do if(d--,h--,0>h||a[d]!==c[h]){var g=`
`+a[d].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=d&&0<=h);break}}}finally{Na=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var o=e.render;return e=e.displayName,e||(e=o.displayName||o.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return o=e.displayName||null,o!==null?o:Qa(e.type)||"Memo";case Ha:o=e._payload,e=e._init;try{return Qa(e(o))}catch{}}return null}function Ra(e){var o=e.type;switch(e.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=o.render,e=e.displayName||e.name||"",o.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(o);case 8:return o===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var o=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua(e){var o=Ta(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,o),s=""+e[o];if(!e.hasOwnProperty(o)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,c=i.set;return Object.defineProperty(e,o,{configurable:!0,get:function(){return a.call(this)},set:function(d){s=""+d,c.call(this,d)}}),Object.defineProperty(e,o,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[o]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var o=e._valueTracker;if(!o)return!0;var i=o.getValue(),s="";return e&&(s=Ta(e)?e.checked?"true":"false":e.value),e=s,e!==i?(o.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,o){var i=o.checked;return A({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Za(e,o){var i=o.defaultValue==null?"":o.defaultValue,s=o.checked!=null?o.checked:o.defaultChecked;i=Sa(o.value!=null?o.value:i),e._wrapperState={initialChecked:s,initialValue:i,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(e,o){o=o.checked,o!=null&&ta(e,"checked",o,!1)}function bb(e,o){ab(e,o);var i=Sa(o.value),s=o.type;if(i!=null)s==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}o.hasOwnProperty("value")?cb(e,o.type,i):o.hasOwnProperty("defaultValue")&&cb(e,o.type,Sa(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(e.defaultChecked=!!o.defaultChecked)}function db(e,o,i){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var s=o.type;if(!(s!=="submit"&&s!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+e._wrapperState.initialValue,i||o===e.value||(e.value=o),e.defaultValue=o}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function cb(e,o,i){(o!=="number"||Xa(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var eb=Array.isArray;function fb(e,o,i,s){if(e=e.options,o){o={};for(var a=0;a<i.length;a++)o["$"+i[a]]=!0;for(i=0;i<e.length;i++)a=o.hasOwnProperty("$"+e[i].value),e[i].selected!==a&&(e[i].selected=a),a&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Sa(i),o=null,a=0;a<e.length;a++){if(e[a].value===i){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}o!==null||e[a].disabled||(o=e[a])}o!==null&&(o.selected=!0)}}function gb(e,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},o,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,o){var i=o.value;if(i==null){if(i=o.children,o=o.defaultValue,i!=null){if(o!=null)throw Error(p(92));if(eb(i)){if(1<i.length)throw Error(p(93));i=i[0]}o=i}o==null&&(o=""),i=o}e._wrapperState={initialValue:Sa(i)}}function ib(e,o){var i=Sa(o.value),s=Sa(o.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),o.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),s!=null&&(e.defaultValue=""+s)}function jb(e){var o=e.textContent;o===e._wrapperState.initialValue&&o!==""&&o!==null&&(e.value=o)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,o){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(o):e==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,i,s,a){MSApp.execUnsafeLocalFunction(function(){return e(o,i,s,a)})}:e}(function(e,o){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;o.firstChild;)e.appendChild(o.firstChild)}});function ob(e,o){if(o){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=o;return}}e.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(o){o=o+e.charAt(0).toUpperCase()+e.substring(1),pb[o]=pb[e]})});function rb(e,o,i){return o==null||typeof o=="boolean"||o===""?"":i||typeof o!="number"||o===0||pb.hasOwnProperty(e)&&pb[e]?(""+o).trim():o+"px"}function sb(e,o){e=e.style;for(var i in o)if(o.hasOwnProperty(i)){var s=i.indexOf("--")===0,a=rb(i,o[i],s);i==="float"&&(i="cssFloat"),s?e.setProperty(i,a):e[i]=a}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,o){if(o){if(tb[e]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p(137,e));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p(62))}}function vb(e,o){if(e.indexOf("-")===-1)return typeof o.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p(280));var o=e.stateNode;o&&(o=Db(o),yb(e.stateNode,e.type,o))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,o=Ab;if(Ab=zb=null,Bb(e),o)for(e=0;e<o.length;e++)Bb(o[e])}}function Gb(e,o){return e(o)}function Hb(){}var Ib=!1;function Jb(e,o,i){if(Ib)return e(o,i);Ib=!0;try{return Gb(e,o,i)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,o){var i=e.stateNode;if(i===null)return null;var s=Db(i);if(s===null)return null;i=s[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(p(231,o,typeof i));return i}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,o,i,s,a,c,d,h,g){var b=Array.prototype.slice.call(arguments,3);try{o.apply(i,b)}catch($){this.onError($)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,o,i,s,a,c,d,h,g){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,o,i,s,a,c,d,h,g){if(Tb.apply(this,arguments),Ob){if(Ob){var b=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=b)}}function Vb(e){var o=e,i=e;if(e.alternate)for(;o.return;)o=o.return;else{e=o;do o=e,o.flags&4098&&(i=o.return),e=o.return;while(e)}return o.tag===3?i:null}function Wb(e){if(e.tag===13){var o=e.memoizedState;if(o===null&&(e=e.alternate,e!==null&&(o=e.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p(188))}function Yb(e){var o=e.alternate;if(!o){if(o=Vb(e),o===null)throw Error(p(188));return o!==e?null:e}for(var i=e,s=o;;){var a=i.return;if(a===null)break;var c=a.alternate;if(c===null){if(s=a.return,s!==null){i=s;continue}break}if(a.child===c.child){for(c=a.child;c;){if(c===i)return Xb(a),e;if(c===s)return Xb(a),o;c=c.sibling}throw Error(p(188))}if(i.return!==s.return)i=a,s=c;else{for(var d=!1,h=a.child;h;){if(h===i){d=!0,i=a,s=c;break}if(h===s){d=!0,s=a,i=c;break}h=h.sibling}if(!d){for(h=c.child;h;){if(h===i){d=!0,i=c,s=a;break}if(h===s){d=!0,s=c,i=a;break}h=h.sibling}if(!d)throw Error(p(189))}}if(i.alternate!==s)throw Error(p(190))}if(i.tag!==3)throw Error(p(188));return i.stateNode.current===i?e:o}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var o=$b(e);if(o!==null)return o;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,o){var i=e.pendingLanes;if(i===0)return 0;var s=0,a=e.suspendedLanes,c=e.pingedLanes,d=i&268435455;if(d!==0){var h=d&~a;h!==0?s=tc(h):(c&=d,c!==0&&(s=tc(c)))}else d=i&~a,d!==0?s=tc(d):c!==0&&(s=tc(c));if(s===0)return 0;if(o!==0&&o!==s&&!(o&a)&&(a=s&-s,c=o&-o,a>=c||a===16&&(c&4194240)!==0))return o;if(s&4&&(s|=i&16),o=e.entangledLanes,o!==0)for(e=e.entanglements,o&=s;0<o;)i=31-oc(o),a=1<<i,s|=e[i],o&=~a;return s}function vc(e,o){switch(e){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,o){for(var i=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,c=e.pendingLanes;0<c;){var d=31-oc(c),h=1<<d,g=a[d];g===-1?(!(h&i)||h&s)&&(a[d]=vc(h,o)):g<=o&&(e.expiredLanes|=h),c&=~h}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var o=[],i=0;31>i;i++)o.push(e);return o}function Ac(e,o,i){e.pendingLanes|=o,o!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,o=31-oc(o),e[o]=i}function Bc(e,o){var i=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<i;){var a=31-oc(i),c=1<<a;o[a]=0,s[a]=-1,e[a]=-1,i&=~c}}function Cc(e,o){var i=e.entangledLanes|=o;for(e=e.entanglements;i;){var s=31-oc(i),a=1<<s;a&o|e[s]&o&&(e[s]|=o),i&=~a}}var C=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,o){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(o.pointerId)}}function Tc(e,o,i,s,a,c){return e===null||e.nativeEvent!==c?(e={blockedOn:o,domEventName:i,eventSystemFlags:s,nativeEvent:c,targetContainers:[a]},o!==null&&(o=Cb(o),o!==null&&Fc(o)),e):(e.eventSystemFlags|=s,o=e.targetContainers,a!==null&&o.indexOf(a)===-1&&o.push(a),e)}function Uc(e,o,i,s,a){switch(o){case"focusin":return Lc=Tc(Lc,e,o,i,s,a),!0;case"dragenter":return Mc=Tc(Mc,e,o,i,s,a),!0;case"mouseover":return Nc=Tc(Nc,e,o,i,s,a),!0;case"pointerover":var c=a.pointerId;return Oc.set(c,Tc(Oc.get(c)||null,e,o,i,s,a)),!0;case"gotpointercapture":return c=a.pointerId,Pc.set(c,Tc(Pc.get(c)||null,e,o,i,s,a)),!0}return!1}function Vc(e){var o=Wc(e.target);if(o!==null){var i=Vb(o);if(i!==null){if(o=i.tag,o===13){if(o=Wb(i),o!==null){e.blockedOn=o,Ic(e.priority,function(){Gc(i)});return}}else if(o===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var o=e.targetContainers;0<o.length;){var i=Yc(e.domEventName,e.eventSystemFlags,o[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);wb=s,i.target.dispatchEvent(s),wb=null}else return o=Cb(i),o!==null&&Fc(o),e.blockedOn=i,!1;o.shift()}return!0}function Zc(e,o,i){Xc(e)&&i.delete(o)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,o){e.blockedOn===o&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function o(a){return ad(a,e)}if(0<Kc.length){ad(Kc[0],e);for(var i=1;i<Kc.length;i++){var s=Kc[i];s.blockedOn===e&&(s.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(o),Pc.forEach(o),i=0;i<Qc.length;i++)s=Qc[i],s.blockedOn===e&&(s.blockedOn=null);for(;0<Qc.length&&(i=Qc[0],i.blockedOn===null);)Vc(i),i.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,o,i,s){var a=C,c=cd.transition;cd.transition=null;try{C=1,fd(e,o,i,s)}finally{C=a,cd.transition=c}}function gd(e,o,i,s){var a=C,c=cd.transition;cd.transition=null;try{C=4,fd(e,o,i,s)}finally{C=a,cd.transition=c}}function fd(e,o,i,s){if(dd){var a=Yc(e,o,i,s);if(a===null)hd(e,o,s,id,i),Sc(e,s);else if(Uc(a,e,o,i,s))s.stopPropagation();else if(Sc(e,s),o&4&&-1<Rc.indexOf(e)){for(;a!==null;){var c=Cb(a);if(c!==null&&Ec(c),c=Yc(e,o,i,s),c===null&&hd(e,o,s,id,i),c===a)break;a=c}a!==null&&s.stopPropagation()}else hd(e,o,s,null,i)}}var id=null;function Yc(e,o,i,s){if(id=null,e=xb(s),e=Wc(e),e!==null)if(o=Vb(e),o===null)e=null;else if(i=o.tag,i===13){if(e=Wb(o),e!==null)return e;e=null}else if(i===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;e=null}else o!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,o=ld,i=o.length,s,a="value"in kd?kd.value:kd.textContent,c=a.length;for(e=0;e<i&&o[e]===a[e];e++);var d=i-e;for(s=1;s<=d&&o[i-s]===a[c-s];s++);return md=a.slice(e,1<s?1-s:void 0)}function od(e){var o=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&o===13&&(e=13)):e=o,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function o(i,s,a,c,d){this._reactName=i,this._targetInst=a,this.type=s,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(i=e[h],this[h]=i?i(c):c[h]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(e):(e=Od[e])?!!o[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var o=Md[e.key]||e.key;if(o!=="Unidentified")return o}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(e,o){switch(e){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je(e,o){switch(e){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(fe=!0,ee);case"textInput":return e=o.data,e===ee&&fe?null:e;default:return null}}function ke(e,o){if(ie)return e==="compositionend"||!ae&&ge(e,o)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de&&o.locale!=="ko"?null:o.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(e){var o=e&&e.nodeName&&e.nodeName.toLowerCase();return o==="input"?!!le[e.type]:o==="textarea"}function ne(e,o,i,s){Eb(s),o=oe(o,"onChange"),0<o.length&&(i=new td("onChange","change",null,i,s),e.push({event:i,listeners:o}))}var pe=null,qe=null;function re(e){se(e,0)}function te(e){var o=ue(e);if(Wa(o))return e}function ve(e,o){if(e==="change")return o}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(e){if(e.propertyName==="value"&&te(qe)){var o=[];ne(o,qe,e,xb(e)),Jb(re,o)}}function Ce(e,o,i){e==="focusin"?(Ae(),pe=o,qe=i,pe.attachEvent("onpropertychange",Be)):e==="focusout"&&Ae()}function De(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te(qe)}function Ee(e,o){if(e==="click")return te(o)}function Fe(e,o){if(e==="input"||e==="change")return te(o)}function Ge(e,o){return e===o&&(e!==0||1/e===1/o)||e!==e&&o!==o}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(e,o){if(He(e,o))return!0;if(typeof e!="object"||e===null||typeof o!="object"||o===null)return!1;var i=Object.keys(e),s=Object.keys(o);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var a=i[s];if(!ja.call(o,a)||!He(e[a],o[a]))return!1}return!0}function Je(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,o){var i=Je(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=o&&s>=o)return{node:i,offset:o-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Je(i)}}function Le(e,o){return e&&o?e===o?!0:e&&e.nodeType===3?!1:o&&o.nodeType===3?Le(e,o.parentNode):"contains"in e?e.contains(o):e.compareDocumentPosition?!!(e.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var e=window,o=Xa();o instanceof e.HTMLIFrameElement;){try{var i=typeof o.contentWindow.location.href=="string"}catch{i=!1}if(i)e=o.contentWindow;else break;o=Xa(e.document)}return o}function Ne(e){var o=e&&e.nodeName&&e.nodeName.toLowerCase();return o&&(o==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||o==="textarea"||e.contentEditable==="true")}function Oe(e){var o=Me(),i=e.focusedElem,s=e.selectionRange;if(o!==i&&i&&i.ownerDocument&&Le(i.ownerDocument.documentElement,i)){if(s!==null&&Ne(i)){if(o=s.start,e=s.end,e===void 0&&(e=o),"selectionStart"in i)i.selectionStart=o,i.selectionEnd=Math.min(e,i.value.length);else if(e=(o=i.ownerDocument||document)&&o.defaultView||window,e.getSelection){e=e.getSelection();var a=i.textContent.length,c=Math.min(s.start,a);s=s.end===void 0?c:Math.min(s.end,a),!e.extend&&c>s&&(a=s,s=c,c=a),a=Ke(i,c);var d=Ke(i,s);a&&d&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(o=o.createRange(),o.setStart(a.node,a.offset),e.removeAllRanges(),c>s?(e.addRange(o),e.extend(d.node,d.offset)):(o.setEnd(d.node,d.offset),e.addRange(o)))}}for(o=[],e=i;e=e.parentNode;)e.nodeType===1&&o.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<o.length;i++)e=o[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(e,o,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Te||Qe==null||Qe!==Xa(s)||(s=Qe,"selectionStart"in s&&Ne(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Se&&Ie(Se,s)||(Se=s,s=oe(Re,"onSelect"),0<s.length&&(o=new td("onSelect","select",null,o,i),e.push({event:o,listeners:s}),o.target=Qe)))}function Ve(e,o){var i={};return i[e.toLowerCase()]=o.toLowerCase(),i["Webkit"+e]="webkit"+o,i["Moz"+e]="moz"+o,i}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(e){if(Xe[e])return Xe[e];if(!We[e])return e;var o=We[e],i;for(i in o)if(o.hasOwnProperty(i)&&i in Ye)return Xe[e]=o[i];return e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,o){df.set(e,o),fa(o,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,o,i){var s=e.type||"unknown-event";e.currentTarget=i,Ub(s,o,void 0,e),e.currentTarget=null}function se(e,o){o=(o&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],a=s.event;s=s.listeners;e:{var c=void 0;if(o)for(var d=s.length-1;0<=d;d--){var h=s[d],g=h.instance,b=h.currentTarget;if(h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,b),c=g}else for(d=0;d<s.length;d++){if(h=s[d],g=h.instance,b=h.currentTarget,h=h.listener,g!==c&&a.isPropagationStopped())break e;nf(a,h,b),c=g}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D(e,o){var i=o[of];i===void 0&&(i=o[of]=new Set);var s=e+"__bubble";i.has(s)||(pf(o,e,2,!1),i.add(s))}function qf(e,o,i){var s=0;o&&(s|=4),pf(i,e,s,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(i){i!=="selectionchange"&&(mf.has(i)||qf(i,!1,e),qf(i,!0,e))});var o=e.nodeType===9?e:e.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(e,o,i,s){switch(jd(o)){case 1:var a=ed;break;case 4:a=gd;break;default:a=fd}i=a.bind(null,o,i,e),a=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(o,i,{capture:!0,passive:a}):e.addEventListener(o,i,!0):a!==void 0?e.addEventListener(o,i,{passive:a}):e.addEventListener(o,i,!1)}function hd(e,o,i,s,a){var c=s;if(!(o&1)&&!(o&2)&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var h=s.stateNode.containerInfo;if(h===a||h.nodeType===8&&h.parentNode===a)break;if(d===4)for(d=s.return;d!==null;){var g=d.tag;if((g===3||g===4)&&(g=d.stateNode.containerInfo,g===a||g.nodeType===8&&g.parentNode===a))return;d=d.return}for(;h!==null;){if(d=Wc(h),d===null)return;if(g=d.tag,g===5||g===6){s=c=d;continue e}h=h.parentNode}}s=s.return}Jb(function(){var b=c,$=xb(i),j=[];e:{var tt=df.get(e);if(tt!==void 0){var at=td,_=e;switch(e){case"keypress":if(od(i)===0)break e;case"keydown":case"keyup":at=Rd;break;case"focusin":_="focus",at=Fd;break;case"focusout":_="blur",at=Fd;break;case"beforeblur":case"afterblur":at=Fd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Vd;break;case $e:case af:case bf:at=Hd;break;case cf:at=Xd;break;case"scroll":at=vd;break;case"wheel":at=Zd;break;case"copy":case"cut":case"paste":at=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=Td}var ot=(o&4)!==0,ut=!ot&&e==="scroll",nt=ot?tt!==null?tt+"Capture":null:tt;ot=[];for(var et=b,_e;et!==null;){_e=et;var rt=_e.stateNode;if(_e.tag===5&&rt!==null&&(_e=rt,nt!==null&&(rt=Kb(et,nt),rt!=null&&ot.push(tf(et,rt,_e)))),ut)break;et=et.return}0<ot.length&&(tt=new at(tt,_,null,i,$),j.push({event:tt,listeners:ot}))}}if(!(o&7)){e:{if(tt=e==="mouseover"||e==="pointerover",at=e==="mouseout"||e==="pointerout",tt&&i!==wb&&(_=i.relatedTarget||i.fromElement)&&(Wc(_)||_[uf]))break e;if((at||tt)&&(tt=$.window===$?$:(tt=$.ownerDocument)?tt.defaultView||tt.parentWindow:window,at?(_=i.relatedTarget||i.toElement,at=b,_=_?Wc(_):null,_!==null&&(ut=Vb(_),_!==ut||_.tag!==5&&_.tag!==6)&&(_=null)):(at=null,_=b),at!==_)){if(ot=Bd,rt="onMouseLeave",nt="onMouseEnter",et="mouse",(e==="pointerout"||e==="pointerover")&&(ot=Td,rt="onPointerLeave",nt="onPointerEnter",et="pointer"),ut=at==null?tt:ue(at),_e=_==null?tt:ue(_),tt=new ot(rt,et+"leave",at,i,$),tt.target=ut,tt.relatedTarget=_e,rt=null,Wc($)===b&&(ot=new ot(nt,et+"enter",_,i,$),ot.target=_e,ot.relatedTarget=ut,rt=ot),ut=rt,at&&_)t:{for(ot=at,nt=_,et=0,_e=ot;_e;_e=vf(_e))et++;for(_e=0,rt=nt;rt;rt=vf(rt))_e++;for(;0<et-_e;)ot=vf(ot),et--;for(;0<_e-et;)nt=vf(nt),_e--;for(;et--;){if(ot===nt||nt!==null&&ot===nt.alternate)break t;ot=vf(ot),nt=vf(nt)}ot=null}else ot=null;at!==null&&wf(j,tt,at,ot,!1),_!==null&&ut!==null&&wf(j,ut,_,ot,!0)}}e:{if(tt=b?ue(b):window,at=tt.nodeName&&tt.nodeName.toLowerCase(),at==="select"||at==="input"&&tt.type==="file")var it=ve;else if(me(tt))if(we)it=Fe;else{it=De;var lt=Ce}else(at=tt.nodeName)&&at.toLowerCase()==="input"&&(tt.type==="checkbox"||tt.type==="radio")&&(it=Ee);if(it&&(it=it(e,b))){ne(j,it,i,$);break e}lt&&lt(e,tt,b),e==="focusout"&&(lt=tt._wrapperState)&&lt.controlled&&tt.type==="number"&&cb(tt,"number",tt.value)}switch(lt=b?ue(b):window,e){case"focusin":(me(lt)||lt.contentEditable==="true")&&(Qe=lt,Re=b,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(j,i,$);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(j,i,$)}var st;if(ae)e:{switch(e){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else ie?ge(e,i)&&(ft="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ft="onCompositionStart");ft&&(de&&i.locale!=="ko"&&(ie||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&ie&&(st=nd()):(kd=$,ld="value"in kd?kd.value:kd.textContent,ie=!0)),lt=oe(b,ft),0<lt.length&&(ft=new Ld(ft,e,null,i,$),j.push({event:ft,listeners:lt}),st?ft.data=st:(st=he(i),st!==null&&(ft.data=st)))),(st=ce?je(e,i):ke(e,i))&&(b=oe(b,"onBeforeInput"),0<b.length&&($=new Ld("onBeforeInput","beforeinput",null,i,$),j.push({event:$,listeners:b}),$.data=st))}se(j,o)})}function tf(e,o,i){return{instance:e,listener:o,currentTarget:i}}function oe(e,o){for(var i=o+"Capture",s=[];e!==null;){var a=e,c=a.stateNode;a.tag===5&&c!==null&&(a=c,c=Kb(e,i),c!=null&&s.unshift(tf(e,c,a)),c=Kb(e,o),c!=null&&s.push(tf(e,c,a))),e=e.return}return s}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,o,i,s,a){for(var c=o._reactName,d=[];i!==null&&i!==s;){var h=i,g=h.alternate,b=h.stateNode;if(g!==null&&g===s)break;h.tag===5&&b!==null&&(h=b,a?(g=Kb(i,c),g!=null&&d.unshift(tf(i,g,h))):a||(g=Kb(i,c),g!=null&&d.push(tf(i,g,h)))),i=i.return}d.length!==0&&e.push({event:o,listeners:d})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,o,i){if(o=zf(o),zf(e)!==o&&i)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,o){return e==="textarea"||e==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,o){var i=o,s=0;do{var a=i.nextSibling;if(e.removeChild(i),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(s===0){e.removeChild(a),bd(o);return}s--}else i!=="$"&&i!=="$?"&&i!=="$!"||s++;i=a}while(i);bd(o)}function Lf(e){for(;e!=null;e=e.nextSibling){var o=e.nodeType;if(o===1||o===3)break;if(o===8){if(o=e.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var o=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(o===0)return e;o--}else i==="/$"&&o++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var o=e[Of];if(o)return o;for(var i=e.parentNode;i;){if(o=i[uf]||i[Of]){if(i=o.alternate,o.child!==null||i!==null&&i.child!==null)for(e=Mf(e);e!==null;){if(i=e[Of])return i;e=Mf(e)}return o}e=i,i=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,o){Tf++,Sf[Tf]=e.current,e.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,o){var i=e.type.contextTypes;if(!i)return Vf;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===o)return s.__reactInternalMemoizedMaskedChildContext;var a={},c;for(c in i)a[c]=o[c];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),a}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,o,i){if(H.current!==Vf)throw Error(p(168));G(H,o),G(Wf,i)}function bg(e,o,i){var s=e.stateNode;if(o=o.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var a in s)if(!(a in o))throw Error(p(108,Ra(e)||"Unknown",a));return A({},i,s)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,o,i){var s=e.stateNode;if(!s)throw Error(p(169));i?(e=bg(e,o,Xf),s.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,i)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,o=C;try{var i=eg;for(C=1;e<i.length;e++){var s=i[e];do s=s(!0);while(s!==null)}eg=null,fg=!1}catch(a){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),a}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,o){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=o}function ug(e,o,i){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var s=rg;e=sg;var a=32-oc(s)-1;s&=~(1<<a),i+=1;var c=32-oc(o)+a;if(30<c){var d=a-a%5;c=(s&(1<<d)-1).toString(32),s>>=d,a-=d,rg=1<<32-oc(o)+a|i<<a|s,sg=c+e}else rg=1<<c|i<<a|s,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,o){var i=Bg(5,null,null,0);i.elementType="DELETED",i.stateNode=o,i.return=e,o=e.deletions,o===null?(e.deletions=[i],e.flags|=16):o.push(i)}function Cg(e,o){switch(e.tag){case 5:var i=e.type;return o=o.nodeType!==1||i.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(e.stateNode=o,xg=e,yg=Lf(o.firstChild),!0):!1;case 6:return o=e.pendingProps===""||o.nodeType!==3?null:o,o!==null?(e.stateNode=o,xg=e,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(i=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:o,treeContext:i,retryLane:1073741824},i=Bg(18,null,null,0),i.stateNode=o,i.return=e,e.child=i,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var o=yg;if(o){var i=o;if(!Cg(e,o)){if(Dg(e))throw Error(p(418));o=Lf(i.nextSibling);var s=xg;o&&Cg(e,o)?Ag(s,i):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var o;if((o=e.tag!==3)&&!(o=e.tag!==5)&&(o=e.type,o=o!=="head"&&o!=="body"&&!Ef(e.type,e.memoizedProps)),o&&(o=yg)){if(Dg(e))throw Hg(),Error(p(418));for(;o;)Ag(e,o),o=Lf(o.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));e:{for(e=e.nextSibling,o=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(o===0){yg=Lf(e.nextSibling);break e}o--}else i!=="$"&&i!=="$!"&&i!=="$?"||o++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,o,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(p(309));var s=i.stateNode}if(!s)throw Error(p(147,e));var a=s,c=""+e;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===c?o.ref:(o=function(d){var h=a.refs;d===null?delete h[c]:h[c]=d},o._stringRef=c,o)}if(typeof e!="string")throw Error(p(284));if(!i._owner)throw Error(p(290,e))}return e}function Mg(e,o){throw e=Object.prototype.toString.call(o),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e))}function Ng(e){var o=e._init;return o(e._payload)}function Og(e){function o(nt,et){if(e){var _e=nt.deletions;_e===null?(nt.deletions=[et],nt.flags|=16):_e.push(et)}}function i(nt,et){if(!e)return null;for(;et!==null;)o(nt,et),et=et.sibling;return null}function s(nt,et){for(nt=new Map;et!==null;)et.key!==null?nt.set(et.key,et):nt.set(et.index,et),et=et.sibling;return nt}function a(nt,et){return nt=Pg(nt,et),nt.index=0,nt.sibling=null,nt}function c(nt,et,_e){return nt.index=_e,e?(_e=nt.alternate,_e!==null?(_e=_e.index,_e<et?(nt.flags|=2,et):_e):(nt.flags|=2,et)):(nt.flags|=1048576,et)}function d(nt){return e&&nt.alternate===null&&(nt.flags|=2),nt}function h(nt,et,_e,rt){return et===null||et.tag!==6?(et=Qg(_e,nt.mode,rt),et.return=nt,et):(et=a(et,_e),et.return=nt,et)}function g(nt,et,_e,rt){var it=_e.type;return it===ya?$(nt,et,_e.props.children,rt,_e.key):et!==null&&(et.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===Ha&&Ng(it)===et.type)?(rt=a(et,_e.props),rt.ref=Lg(nt,et,_e),rt.return=nt,rt):(rt=Rg(_e.type,_e.key,_e.props,null,nt.mode,rt),rt.ref=Lg(nt,et,_e),rt.return=nt,rt)}function b(nt,et,_e,rt){return et===null||et.tag!==4||et.stateNode.containerInfo!==_e.containerInfo||et.stateNode.implementation!==_e.implementation?(et=Sg(_e,nt.mode,rt),et.return=nt,et):(et=a(et,_e.children||[]),et.return=nt,et)}function $(nt,et,_e,rt,it){return et===null||et.tag!==7?(et=Tg(_e,nt.mode,rt,it),et.return=nt,et):(et=a(et,_e),et.return=nt,et)}function j(nt,et,_e){if(typeof et=="string"&&et!==""||typeof et=="number")return et=Qg(""+et,nt.mode,_e),et.return=nt,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case va:return _e=Rg(et.type,et.key,et.props,null,nt.mode,_e),_e.ref=Lg(nt,null,et),_e.return=nt,_e;case wa:return et=Sg(et,nt.mode,_e),et.return=nt,et;case Ha:var rt=et._init;return j(nt,rt(et._payload),_e)}if(eb(et)||Ka(et))return et=Tg(et,nt.mode,_e,null),et.return=nt,et;Mg(nt,et)}return null}function tt(nt,et,_e,rt){var it=et!==null?et.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return it!==null?null:h(nt,et,""+_e,rt);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case va:return _e.key===it?g(nt,et,_e,rt):null;case wa:return _e.key===it?b(nt,et,_e,rt):null;case Ha:return it=_e._init,tt(nt,et,it(_e._payload),rt)}if(eb(_e)||Ka(_e))return it!==null?null:$(nt,et,_e,rt,null);Mg(nt,_e)}return null}function at(nt,et,_e,rt,it){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return nt=nt.get(_e)||null,h(et,nt,""+rt,it);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case va:return nt=nt.get(rt.key===null?_e:rt.key)||null,g(et,nt,rt,it);case wa:return nt=nt.get(rt.key===null?_e:rt.key)||null,b(et,nt,rt,it);case Ha:var lt=rt._init;return at(nt,et,_e,lt(rt._payload),it)}if(eb(rt)||Ka(rt))return nt=nt.get(_e)||null,$(et,nt,rt,it,null);Mg(et,rt)}return null}function _(nt,et,_e,rt){for(var it=null,lt=null,st=et,ft=et=0,pt=null;st!==null&&ft<_e.length;ft++){st.index>ft?(pt=st,st=null):pt=st.sibling;var wt=tt(nt,st,_e[ft],rt);if(wt===null){st===null&&(st=pt);break}e&&st&&wt.alternate===null&&o(nt,st),et=c(wt,et,ft),lt===null?it=wt:lt.sibling=wt,lt=wt,st=pt}if(ft===_e.length)return i(nt,st),I&&tg(nt,ft),it;if(st===null){for(;ft<_e.length;ft++)st=j(nt,_e[ft],rt),st!==null&&(et=c(st,et,ft),lt===null?it=st:lt.sibling=st,lt=st);return I&&tg(nt,ft),it}for(st=s(nt,st);ft<_e.length;ft++)pt=at(st,nt,ft,_e[ft],rt),pt!==null&&(e&&pt.alternate!==null&&st.delete(pt.key===null?ft:pt.key),et=c(pt,et,ft),lt===null?it=pt:lt.sibling=pt,lt=pt);return e&&st.forEach(function($t){return o(nt,$t)}),I&&tg(nt,ft),it}function ot(nt,et,_e,rt){var it=Ka(_e);if(typeof it!="function")throw Error(p(150));if(_e=it.call(_e),_e==null)throw Error(p(151));for(var lt=it=null,st=et,ft=et=0,pt=null,wt=_e.next();st!==null&&!wt.done;ft++,wt=_e.next()){st.index>ft?(pt=st,st=null):pt=st.sibling;var $t=tt(nt,st,wt.value,rt);if($t===null){st===null&&(st=pt);break}e&&st&&$t.alternate===null&&o(nt,st),et=c($t,et,ft),lt===null?it=$t:lt.sibling=$t,lt=$t,st=pt}if(wt.done)return i(nt,st),I&&tg(nt,ft),it;if(st===null){for(;!wt.done;ft++,wt=_e.next())wt=j(nt,wt.value,rt),wt!==null&&(et=c(wt,et,ft),lt===null?it=wt:lt.sibling=wt,lt=wt);return I&&tg(nt,ft),it}for(st=s(nt,st);!wt.done;ft++,wt=_e.next())wt=at(st,nt,ft,wt.value,rt),wt!==null&&(e&&wt.alternate!==null&&st.delete(wt.key===null?ft:wt.key),et=c(wt,et,ft),lt===null?it=wt:lt.sibling=wt,lt=wt);return e&&st.forEach(function(dt){return o(nt,dt)}),I&&tg(nt,ft),it}function ut(nt,et,_e,rt){if(typeof _e=="object"&&_e!==null&&_e.type===ya&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case va:e:{for(var it=_e.key,lt=et;lt!==null;){if(lt.key===it){if(it=_e.type,it===ya){if(lt.tag===7){i(nt,lt.sibling),et=a(lt,_e.props.children),et.return=nt,nt=et;break e}}else if(lt.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===Ha&&Ng(it)===lt.type){i(nt,lt.sibling),et=a(lt,_e.props),et.ref=Lg(nt,lt,_e),et.return=nt,nt=et;break e}i(nt,lt);break}else o(nt,lt);lt=lt.sibling}_e.type===ya?(et=Tg(_e.props.children,nt.mode,rt,_e.key),et.return=nt,nt=et):(rt=Rg(_e.type,_e.key,_e.props,null,nt.mode,rt),rt.ref=Lg(nt,et,_e),rt.return=nt,nt=rt)}return d(nt);case wa:e:{for(lt=_e.key;et!==null;){if(et.key===lt)if(et.tag===4&&et.stateNode.containerInfo===_e.containerInfo&&et.stateNode.implementation===_e.implementation){i(nt,et.sibling),et=a(et,_e.children||[]),et.return=nt,nt=et;break e}else{i(nt,et);break}else o(nt,et);et=et.sibling}et=Sg(_e,nt.mode,rt),et.return=nt,nt=et}return d(nt);case Ha:return lt=_e._init,ut(nt,et,lt(_e._payload),rt)}if(eb(_e))return _(nt,et,_e,rt);if(Ka(_e))return ot(nt,et,_e,rt);Mg(nt,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,et!==null&&et.tag===6?(i(nt,et.sibling),et=a(et,_e),et.return=nt,nt=et):(i(nt,et),et=Qg(_e,nt.mode,rt),et.return=nt,nt=et),d(nt)):i(nt,et)}return ut}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var o=Wg.current;E(Wg),e._currentValue=o}function bh(e,o,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&o)!==o?(e.childLanes|=o,s!==null&&(s.childLanes|=o)):s!==null&&(s.childLanes&o)!==o&&(s.childLanes|=o),e===i)break;e=e.return}}function ch(e,o){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&o&&(dh=!0),e.firstContext=null)}function eh(e){var o=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:o,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return o}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,o,i,s){var a=o.interleaved;return a===null?(i.next=i,gh(o)):(i.next=a.next,a.next=i),o.interleaved=i,ih(e,s)}function ih(e,o){e.lanes|=o;var i=e.alternate;for(i!==null&&(i.lanes|=o),i=e,e=e.return;e!==null;)e.childLanes|=o,i=e.alternate,i!==null&&(i.childLanes|=o),i=e,e=e.return;return i.tag===3?i.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,o){e=e.updateQueue,o.updateQueue===e&&(o.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,o){return{eventTime:e,lane:o,tag:0,payload:null,callback:null,next:null}}function nh(e,o,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,K&2){var a=s.pending;return a===null?o.next=o:(o.next=a.next,a.next=o),s.pending=o,ih(e,i)}return a=s.interleaved,a===null?(o.next=o,gh(s)):(o.next=a.next,a.next=o),s.interleaved=o,ih(e,i)}function oh(e,o,i){if(o=o.updateQueue,o!==null&&(o=o.shared,(i&4194240)!==0)){var s=o.lanes;s&=e.pendingLanes,i|=s,o.lanes=i,Cc(e,i)}}function ph(e,o){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var a=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};c===null?a=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?a=c=o:c=c.next=o}else a=c=o;i={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:c,shared:s.shared,effects:s.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=o:e.next=o,i.lastBaseUpdate=o}function qh(e,o,i,s){var a=e.updateQueue;jh=!1;var c=a.firstBaseUpdate,d=a.lastBaseUpdate,h=a.shared.pending;if(h!==null){a.shared.pending=null;var g=h,b=g.next;g.next=null,d===null?c=b:d.next=b,d=g;var $=e.alternate;$!==null&&($=$.updateQueue,h=$.lastBaseUpdate,h!==d&&(h===null?$.firstBaseUpdate=b:h.next=b,$.lastBaseUpdate=g))}if(c!==null){var j=a.baseState;d=0,$=b=g=null,h=c;do{var tt=h.lane,at=h.eventTime;if((s&tt)===tt){$!==null&&($=$.next={eventTime:at,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var _=e,ot=h;switch(tt=o,at=i,ot.tag){case 1:if(_=ot.payload,typeof _=="function"){j=_.call(at,j,tt);break e}j=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=ot.payload,tt=typeof _=="function"?_.call(at,j,tt):_,tt==null)break e;j=A({},j,tt);break e;case 2:jh=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,tt=a.effects,tt===null?a.effects=[h]:tt.push(h))}else at={eventTime:at,lane:tt,tag:h.tag,payload:h.payload,callback:h.callback,next:null},$===null?(b=$=at,g=j):$=$.next=at,d|=tt;if(h=h.next,h===null){if(h=a.shared.pending,h===null)break;tt=h,h=tt.next,tt.next=null,a.lastBaseUpdate=tt,a.shared.pending=null}}while(1);if($===null&&(g=j),a.baseState=g,a.firstBaseUpdate=b,a.lastBaseUpdate=$,o=a.shared.interleaved,o!==null){a=o;do d|=a.lane,a=a.next;while(a!==o)}else c===null&&(a.shared.lanes=0);rh|=d,e.lanes=d,e.memoizedState=j}}function sh(e,o,i){if(e=o.effects,o.effects=null,e!==null)for(o=0;o<e.length;o++){var s=e[o],a=s.callback;if(a!==null){if(s.callback=null,s=i,typeof a!="function")throw Error(p(191,a));a.call(s)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p(174));return e}function yh(e,o){switch(G(wh,o),G(vh,e),G(uh,th),e=o.nodeType,e){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:e=e===8?o.parentNode:o,o=e.namespaceURI||null,e=e.tagName,o=lb(o,e)}E(uh),G(uh,o)}function zh(){E(uh),E(vh),E(wh)}function Ah(e){xh(wh.current);var o=xh(uh.current),i=lb(o,e.type);o!==i&&(G(vh,e),G(uh,i))}function Bh(e){vh.current===e&&(E(uh),E(vh))}var L=Uf(0);function Ch(e){for(var o=e;o!==null;){if(o.tag===13){var i=o.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(e,o){if(o===null)return!1;for(var i=0;i<o.length&&i<e.length;i++)if(!He(e[i],o[i]))return!1;return!0}function Nh(e,o,i,s,a,c){if(Hh=c,M=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=i(s,a),Jh){c=0;do{if(Jh=!1,Kh=0,25<=c)throw Error(p(301));c+=1,O=N=null,o.updateQueue=null,Fh.current=Qh,e=i(s,a)}while(Jh)}if(Fh.current=Rh,o=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,o)throw Error(p(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N.next;var o=O===null?M.memoizedState:O.next;if(o!==null)O=o,N=e;else{if(e===null)throw Error(p(310));N=e,e={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,o){return typeof o=="function"?o(e):o}function Wh(e){var o=Uh(),i=o.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var s=N,a=s.baseQueue,c=i.pending;if(c!==null){if(a!==null){var d=a.next;a.next=c.next,c.next=d}s.baseQueue=a=c,i.pending=null}if(a!==null){c=a.next,s=s.baseState;var h=d=null,g=null,b=c;do{var $=b.lane;if((Hh&$)===$)g!==null&&(g=g.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),s=b.hasEagerState?b.eagerState:e(s,b.action);else{var j={lane:$,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};g===null?(h=g=j,d=s):g=g.next=j,M.lanes|=$,rh|=$}b=b.next}while(b!==null&&b!==c);g===null?d=s:g.next=h,He(s,o.memoizedState)||(dh=!0),o.memoizedState=s,o.baseState=d,o.baseQueue=g,i.lastRenderedState=s}if(e=i.interleaved,e!==null){a=e;do c=a.lane,M.lanes|=c,rh|=c,a=a.next;while(a!==e)}else a===null&&(i.lanes=0);return[o.memoizedState,i.dispatch]}function Xh(e){var o=Uh(),i=o.queue;if(i===null)throw Error(p(311));i.lastRenderedReducer=e;var s=i.dispatch,a=i.pending,c=o.memoizedState;if(a!==null){i.pending=null;var d=a=a.next;do c=e(c,d.action),d=d.next;while(d!==a);He(c,o.memoizedState)||(dh=!0),o.memoizedState=c,o.baseQueue===null&&(o.baseState=c),i.lastRenderedState=c}return[c,s]}function Yh(){}function Zh(e,o){var i=M,s=Uh(),a=o(),c=!He(s.memoizedState,a);if(c&&(s.memoizedState=a,dh=!0),s=s.queue,$h(ai.bind(null,i,s,e),[e]),s.getSnapshot!==o||c||O!==null&&O.memoizedState.tag&1){if(i.flags|=2048,bi(9,ci.bind(null,i,s,a,o),void 0,null),Q===null)throw Error(p(349));Hh&30||di(i,o,a)}return a}function di(e,o,i){e.flags|=16384,e={getSnapshot:o,value:i},o=M.updateQueue,o===null?(o={lastEffect:null,stores:null},M.updateQueue=o,o.stores=[e]):(i=o.stores,i===null?o.stores=[e]:i.push(e))}function ci(e,o,i,s){o.value=i,o.getSnapshot=s,ei(o)&&fi(e)}function ai(e,o,i){return i(function(){ei(o)&&fi(e)})}function ei(e){var o=e.getSnapshot;e=e.value;try{var i=o();return!He(e,i)}catch{return!0}}function fi(e){var o=ih(e,1);o!==null&&gi(o,e,1,-1)}function hi(e){var o=Th();return typeof e=="function"&&(e=e()),o.memoizedState=o.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},o.queue=e,e=e.dispatch=ii.bind(null,M,e),[o.memoizedState,e]}function bi(e,o,i,s){return e={tag:e,create:o,destroy:i,deps:s,next:null},o=M.updateQueue,o===null?(o={lastEffect:null,stores:null},M.updateQueue=o,o.lastEffect=e.next=e):(i=o.lastEffect,i===null?o.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,o.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,o,i,s){var a=Th();M.flags|=e,a.memoizedState=bi(1|o,i,void 0,s===void 0?null:s)}function li(e,o,i,s){var a=Uh();s=s===void 0?null:s;var c=void 0;if(N!==null){var d=N.memoizedState;if(c=d.destroy,s!==null&&Mh(s,d.deps)){a.memoizedState=bi(o,i,c,s);return}}M.flags|=e,a.memoizedState=bi(1|o,i,c,s)}function mi(e,o){return ki(8390656,8,e,o)}function $h(e,o){return li(2048,8,e,o)}function ni(e,o){return li(4,2,e,o)}function oi(e,o){return li(4,4,e,o)}function pi(e,o){if(typeof o=="function")return e=e(),o(e),function(){o(null)};if(o!=null)return e=e(),o.current=e,function(){o.current=null}}function qi(e,o,i){return i=i!=null?i.concat([e]):null,li(4,4,pi.bind(null,o,e),i)}function ri(){}function si(e,o){var i=Uh();o=o===void 0?null:o;var s=i.memoizedState;return s!==null&&o!==null&&Mh(o,s[1])?s[0]:(i.memoizedState=[e,o],e)}function ti(e,o){var i=Uh();o=o===void 0?null:o;var s=i.memoizedState;return s!==null&&o!==null&&Mh(o,s[1])?s[0]:(e=e(),i.memoizedState=[e,o],e)}function ui(e,o,i){return Hh&21?(He(i,o)||(i=yc(),M.lanes|=i,rh|=i,e.baseState=!0),o):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=i)}function vi(e,o){var i=C;C=i!==0&&4>i?i:4,e(!0);var s=Gh.transition;Gh.transition={};try{e(!1),o()}finally{C=i,Gh.transition=s}}function wi(){return Uh().memoizedState}function xi(e,o,i){var s=yi(e);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(o,i);else if(i=hh(e,o,i,s),i!==null){var a=R();gi(i,e,s,a),Bi(i,o,s)}}function ii(e,o,i){var s=yi(e),a={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(o,a);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=o.lastRenderedReducer,c!==null))try{var d=o.lastRenderedState,h=c(d,i);if(a.hasEagerState=!0,a.eagerState=h,He(h,d)){var g=o.interleaved;g===null?(a.next=a,gh(o)):(a.next=g.next,g.next=a),o.interleaved=a;return}}catch{}finally{}i=hh(e,o,a,s),i!==null&&(a=R(),gi(i,e,s,a),Bi(i,o,s))}}function zi(e){var o=e.alternate;return e===M||o!==null&&o===M}function Ai(e,o){Jh=Ih=!0;var i=e.pending;i===null?o.next=o:(o.next=i.next,i.next=o),e.pending=o}function Bi(e,o,i){if(i&4194240){var s=o.lanes;s&=e.pendingLanes,i|=s,o.lanes=i,Cc(e,i)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,o){return Th().memoizedState=[e,o===void 0?null:o],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,o,i){return i=i!=null?i.concat([e]):null,ki(4194308,4,pi.bind(null,o,e),i)},useLayoutEffect:function(e,o){return ki(4194308,4,e,o)},useInsertionEffect:function(e,o){return ki(4,2,e,o)},useMemo:function(e,o){var i=Th();return o=o===void 0?null:o,e=e(),i.memoizedState=[e,o],e},useReducer:function(e,o,i){var s=Th();return o=i!==void 0?i(o):o,s.memoizedState=s.baseState=o,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=xi.bind(null,M,e),[s.memoizedState,e]},useRef:function(e){var o=Th();return e={current:e},o.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),o=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[o,e]},useMutableSource:function(){},useSyncExternalStore:function(e,o,i){var s=M,a=Th();if(I){if(i===void 0)throw Error(p(407));i=i()}else{if(i=o(),Q===null)throw Error(p(349));Hh&30||di(s,o,i)}a.memoizedState=i;var c={value:i,getSnapshot:o};return a.queue=c,mi(ai.bind(null,s,c,e),[e]),s.flags|=2048,bi(9,ci.bind(null,s,c,i,o),void 0,null),i},useId:function(){var e=Th(),o=Q.identifierPrefix;if(I){var i=sg,s=rg;i=(s&~(1<<32-oc(s)-1)).toString(32)+i,o=":"+o+"R"+i,i=Kh++,0<i&&(o+="H"+i.toString(32)),o+=":"}else i=Lh++,o=":"+o+"r"+i.toString(32)+":";return e.memoizedState=o},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var o=Uh();return ui(o,N.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],o=Uh().memoizedState;return[e,o]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var o=Uh();return N===null?o.memoizedState=e:ui(o,N.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],o=Uh().memoizedState;return[e,o]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,o){if(e&&e.defaultProps){o=A({},o),e=e.defaultProps;for(var i in e)o[i]===void 0&&(o[i]=e[i]);return o}return o}function Di(e,o,i,s){o=e.memoizedState,i=i(s,o),i=i==null?o:A({},o,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,o,i){e=e._reactInternals;var s=R(),a=yi(e),c=mh(s,a);c.payload=o,i!=null&&(c.callback=i),o=nh(e,c,a),o!==null&&(gi(o,e,a,s),oh(o,e,a))},enqueueReplaceState:function(e,o,i){e=e._reactInternals;var s=R(),a=yi(e),c=mh(s,a);c.tag=1,c.payload=o,i!=null&&(c.callback=i),o=nh(e,c,a),o!==null&&(gi(o,e,a,s),oh(o,e,a))},enqueueForceUpdate:function(e,o){e=e._reactInternals;var i=R(),s=yi(e),a=mh(i,s);a.tag=2,o!=null&&(a.callback=o),o=nh(e,a,s),o!==null&&(gi(o,e,s,i),oh(o,e,s))}};function Fi(e,o,i,s,a,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,d):o.prototype&&o.prototype.isPureReactComponent?!Ie(i,s)||!Ie(a,c):!0}function Gi(e,o,i){var s=!1,a=Vf,c=o.contextType;return typeof c=="object"&&c!==null?c=eh(c):(a=Zf(o)?Xf:H.current,s=o.contextTypes,c=(s=s!=null)?Yf(e,a):Vf),o=new o(i,c),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ei,e.stateNode=o,o._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=c),o}function Hi(e,o,i,s){e=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(i,s),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(i,s),o.state!==e&&Ei.enqueueReplaceState(o,o.state,null)}function Ii(e,o,i,s){var a=e.stateNode;a.props=i,a.state=e.memoizedState,a.refs={},kh(e);var c=o.contextType;typeof c=="object"&&c!==null?a.context=eh(c):(c=Zf(o)?Xf:H.current,a.context=Yf(e,c)),a.state=e.memoizedState,c=o.getDerivedStateFromProps,typeof c=="function"&&(Di(e,o,c,i),a.state=e.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&Ei.enqueueReplaceState(a,a.state,null),qh(e,i,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,o){try{var i="",s=o;do i+=Pa(s),s=s.return;while(s);var a=i}catch(c){a=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:o,stack:a,digest:null}}function Ki(e,o,i){return{value:e,source:null,stack:i??null,digest:o??null}}function Li(e,o){try{console.error(o.value)}catch(i){setTimeout(function(){throw i})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,o,i){i=mh(-1,i),i.tag=3,i.payload={element:null};var s=o.value;return i.callback=function(){Oi||(Oi=!0,Pi=s),Li(e,o)},i}function Qi(e,o,i){i=mh(-1,i),i.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=o.value;i.payload=function(){return s(a)},i.callback=function(){Li(e,o)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(i.callback=function(){Li(e,o),typeof s!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var d=o.stack;this.componentDidCatch(o.value,{componentStack:d!==null?d:""})}),i}function Si(e,o,i){var s=e.pingCache;if(s===null){s=e.pingCache=new Mi;var a=new Set;s.set(o,a)}else a=s.get(o),a===void 0&&(a=new Set,s.set(o,a));a.has(i)||(a.add(i),e=Ti.bind(null,e,o,i),o.then(e,e))}function Ui(e){do{var o;if((o=e.tag===13)&&(o=e.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return e;e=e.return}while(e!==null);return null}function Vi(e,o,i,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===o?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(o=mh(-1,1),o.tag=2,nh(i,o,1))),i.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,o,i,s){o.child=e===null?Vg(o,null,i,s):Ug(o,e.child,i,s)}function Yi(e,o,i,s,a){i=i.render;var c=o.ref;return ch(o,a),s=Nh(e,o,i,s,c,a),i=Sh(),e!==null&&!dh?(o.updateQueue=e.updateQueue,o.flags&=-2053,e.lanes&=~a,Zi(e,o,a)):(I&&i&&vg(o),o.flags|=1,Xi(e,o,s,a),o.child)}function $i(e,o,i,s,a){if(e===null){var c=i.type;return typeof c=="function"&&!aj(c)&&c.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(o.tag=15,o.type=c,bj(e,o,c,s,a)):(e=Rg(i.type,null,s,o,o.mode,a),e.ref=o.ref,e.return=o,o.child=e)}if(c=e.child,!(e.lanes&a)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:Ie,i(d,s)&&e.ref===o.ref)return Zi(e,o,a)}return o.flags|=1,e=Pg(c,s),e.ref=o.ref,e.return=o,o.child=e}function bj(e,o,i,s,a){if(e!==null){var c=e.memoizedProps;if(Ie(c,s)&&e.ref===o.ref)if(dh=!1,o.pendingProps=s=c,(e.lanes&a)!==0)e.flags&131072&&(dh=!0);else return o.lanes=e.lanes,Zi(e,o,a)}return cj(e,o,i,s,a)}function dj(e,o,i){var s=o.pendingProps,a=s.children,c=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=i;else{if(!(i&1073741824))return e=c!==null?c.baseLanes|i:i,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:e,cachePool:null,transitions:null},o.updateQueue=null,G(ej,fj),fj|=e,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=c!==null?c.baseLanes:i,G(ej,fj),fj|=s}else c!==null?(s=c.baseLanes|i,o.memoizedState=null):s=i,G(ej,fj),fj|=s;return Xi(e,o,a,i),o.child}function gj(e,o){var i=o.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(o.flags|=512,o.flags|=2097152)}function cj(e,o,i,s,a){var c=Zf(i)?Xf:H.current;return c=Yf(o,c),ch(o,a),i=Nh(e,o,i,s,c,a),s=Sh(),e!==null&&!dh?(o.updateQueue=e.updateQueue,o.flags&=-2053,e.lanes&=~a,Zi(e,o,a)):(I&&s&&vg(o),o.flags|=1,Xi(e,o,i,a),o.child)}function hj(e,o,i,s,a){if(Zf(i)){var c=!0;cg(o)}else c=!1;if(ch(o,a),o.stateNode===null)ij(e,o),Gi(o,i,s),Ii(o,i,s,a),s=!0;else if(e===null){var d=o.stateNode,h=o.memoizedProps;d.props=h;var g=d.context,b=i.contextType;typeof b=="object"&&b!==null?b=eh(b):(b=Zf(i)?Xf:H.current,b=Yf(o,b));var $=i.getDerivedStateFromProps,j=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function";j||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==s||g!==b)&&Hi(o,d,s,b),jh=!1;var tt=o.memoizedState;d.state=tt,qh(o,s,d,a),g=o.memoizedState,h!==s||tt!==g||Wf.current||jh?(typeof $=="function"&&(Di(o,i,$,s),g=o.memoizedState),(h=jh||Fi(o,i,h,s,tt,g,b))?(j||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(o.flags|=4194308)):(typeof d.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=s,o.memoizedState=g),d.props=s,d.state=g,d.context=b,s=h):(typeof d.componentDidMount=="function"&&(o.flags|=4194308),s=!1)}else{d=o.stateNode,lh(e,o),h=o.memoizedProps,b=o.type===o.elementType?h:Ci(o.type,h),d.props=b,j=o.pendingProps,tt=d.context,g=i.contextType,typeof g=="object"&&g!==null?g=eh(g):(g=Zf(i)?Xf:H.current,g=Yf(o,g));var at=i.getDerivedStateFromProps;($=typeof at=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==j||tt!==g)&&Hi(o,d,s,g),jh=!1,tt=o.memoizedState,d.state=tt,qh(o,s,d,a);var _=o.memoizedState;h!==j||tt!==_||Wf.current||jh?(typeof at=="function"&&(Di(o,i,at,s),_=o.memoizedState),(b=jh||Fi(o,i,b,s,tt,_,g)||!1)?($||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,_,g),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,_,g)),typeof d.componentDidUpdate=="function"&&(o.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&tt===e.memoizedState||(o.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&tt===e.memoizedState||(o.flags|=1024),o.memoizedProps=s,o.memoizedState=_),d.props=s,d.state=_,d.context=g,s=b):(typeof d.componentDidUpdate!="function"||h===e.memoizedProps&&tt===e.memoizedState||(o.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&tt===e.memoizedState||(o.flags|=1024),s=!1)}return jj(e,o,i,s,c,a)}function jj(e,o,i,s,a,c){gj(e,o);var d=(o.flags&128)!==0;if(!s&&!d)return a&&dg(o,i,!1),Zi(e,o,c);s=o.stateNode,Wi.current=o;var h=d&&typeof i.getDerivedStateFromError!="function"?null:s.render();return o.flags|=1,e!==null&&d?(o.child=Ug(o,e.child,null,c),o.child=Ug(o,null,h,c)):Xi(e,o,h,c),o.memoizedState=s.state,a&&dg(o,i,!0),o.child}function kj(e){var o=e.stateNode;o.pendingContext?ag(e,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(e,o.context,!1),yh(e,o.containerInfo)}function lj(e,o,i,s,a){return Ig(),Jg(a),o.flags|=256,Xi(e,o,i,s),o.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,o,i){var s=o.pendingProps,a=L.current,c=!1,d=(o.flags&128)!==0,h;if((h=d)||(h=e!==null&&e.memoizedState===null?!1:(a&2)!==0),h?(c=!0,o.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),G(L,a&1),e===null)return Eg(o),e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(o.mode&1?e.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(d=s.children,e=s.fallback,c?(s=o.mode,c=o.child,d={mode:"hidden",children:d},!(s&1)&&c!==null?(c.childLanes=0,c.pendingProps=d):c=pj(d,s,0,null),e=Tg(e,s,i,null),c.return=o,e.return=o,c.sibling=e,o.child=c,o.child.memoizedState=nj(i),o.memoizedState=mj,e):qj(o,d));if(a=e.memoizedState,a!==null&&(h=a.dehydrated,h!==null))return rj(e,o,d,s,h,a,i);if(c){c=s.fallback,d=o.mode,a=e.child,h=a.sibling;var g={mode:"hidden",children:s.children};return!(d&1)&&o.child!==a?(s=o.child,s.childLanes=0,s.pendingProps=g,o.deletions=null):(s=Pg(a,g),s.subtreeFlags=a.subtreeFlags&14680064),h!==null?c=Pg(h,c):(c=Tg(c,d,i,null),c.flags|=2),c.return=o,s.return=o,s.sibling=c,o.child=s,s=c,c=o.child,d=e.child.memoizedState,d=d===null?nj(i):{baseLanes:d.baseLanes|i,cachePool:null,transitions:d.transitions},c.memoizedState=d,c.childLanes=e.childLanes&~i,o.memoizedState=mj,s}return c=e.child,e=c.sibling,s=Pg(c,{mode:"visible",children:s.children}),!(o.mode&1)&&(s.lanes=i),s.return=o,s.sibling=null,e!==null&&(i=o.deletions,i===null?(o.deletions=[e],o.flags|=16):i.push(e)),o.child=s,o.memoizedState=null,s}function qj(e,o){return o=pj({mode:"visible",children:o},e.mode,0,null),o.return=e,e.child=o}function sj(e,o,i,s){return s!==null&&Jg(s),Ug(o,e.child,null,i),e=qj(o,o.pendingProps.children),e.flags|=2,o.memoizedState=null,e}function rj(e,o,i,s,a,c,d){if(i)return o.flags&256?(o.flags&=-257,s=Ki(Error(p(422))),sj(e,o,d,s)):o.memoizedState!==null?(o.child=e.child,o.flags|=128,null):(c=s.fallback,a=o.mode,s=pj({mode:"visible",children:s.children},a,0,null),c=Tg(c,a,d,null),c.flags|=2,s.return=o,c.return=o,s.sibling=c,o.child=s,o.mode&1&&Ug(o,e.child,null,d),o.child.memoizedState=nj(d),o.memoizedState=mj,c);if(!(o.mode&1))return sj(e,o,d,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var h=s.dgst;return s=h,c=Error(p(419)),s=Ki(c,s,void 0),sj(e,o,d,s)}if(h=(d&e.childLanes)!==0,dh||h){if(s=Q,s!==null){switch(d&-d){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|d)?0:a,a!==0&&a!==c.retryLane&&(c.retryLane=a,ih(e,a),gi(s,e,a,-1))}return tj(),s=Ki(Error(p(421))),sj(e,o,d,s)}return a.data==="$?"?(o.flags|=128,o.child=e.child,o=uj.bind(null,e),a._reactRetry=o,null):(e=c.treeContext,yg=Lf(a.nextSibling),xg=o,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=o),o=qj(o,s.children),o.flags|=4096,o)}function vj(e,o,i){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o),bh(e.return,o,i)}function wj(e,o,i,s,a){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:a}:(c.isBackwards=o,c.rendering=null,c.renderingStartTime=0,c.last=s,c.tail=i,c.tailMode=a)}function xj(e,o,i){var s=o.pendingProps,a=s.revealOrder,c=s.tail;if(Xi(e,o,s.children,i),s=L.current,s&2)s=s&1|2,o.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=o.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,i,o);else if(e.tag===19)vj(e,i,o);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===o)break e;for(;e.sibling===null;){if(e.return===null||e.return===o)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(G(L,s),!(o.mode&1))o.memoizedState=null;else switch(a){case"forwards":for(i=o.child,a=null;i!==null;)e=i.alternate,e!==null&&Ch(e)===null&&(a=i),i=i.sibling;i=a,i===null?(a=o.child,o.child=null):(a=i.sibling,i.sibling=null),wj(o,!1,a,i,c);break;case"backwards":for(i=null,a=o.child,o.child=null;a!==null;){if(e=a.alternate,e!==null&&Ch(e)===null){o.child=a;break}e=a.sibling,a.sibling=i,i=a,a=e}wj(o,!0,i,null,c);break;case"together":wj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ij(e,o){!(o.mode&1)&&e!==null&&(e.alternate=null,o.alternate=null,o.flags|=2)}function Zi(e,o,i){if(e!==null&&(o.dependencies=e.dependencies),rh|=o.lanes,!(i&o.childLanes))return null;if(e!==null&&o.child!==e.child)throw Error(p(153));if(o.child!==null){for(e=o.child,i=Pg(e,e.pendingProps),o.child=i,i.return=o;e.sibling!==null;)e=e.sibling,i=i.sibling=Pg(e,e.pendingProps),i.return=o;i.sibling=null}return o.child}function yj(e,o,i){switch(o.tag){case 3:kj(o),Ig();break;case 5:Ah(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:yh(o,o.stateNode.containerInfo);break;case 10:var s=o.type._context,a=o.memoizedProps.value;G(Wg,s._currentValue),s._currentValue=a;break;case 13:if(s=o.memoizedState,s!==null)return s.dehydrated!==null?(G(L,L.current&1),o.flags|=128,null):i&o.child.childLanes?oj(e,o,i):(G(L,L.current&1),e=Zi(e,o,i),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(s=(i&o.childLanes)!==0,e.flags&128){if(s)return xj(e,o,i);o.flags|=128}if(a=o.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),G(L,L.current),s)break;return null;case 22:case 23:return o.lanes=0,dj(e,o,i)}return Zi(e,o,i)}var zj,Aj,Bj,Cj;zj=function(e,o){for(var i=o.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Aj=function(){};Bj=function(e,o,i,s){var a=e.memoizedProps;if(a!==s){e=o.stateNode,xh(uh.current);var c=null;switch(i){case"input":a=Ya(e,a),s=Ya(e,s),c=[];break;case"select":a=A({},a,{value:void 0}),s=A({},s,{value:void 0}),c=[];break;case"textarea":a=gb(e,a),s=gb(e,s),c=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Bf)}ub(i,s);var d;i=null;for(b in a)if(!s.hasOwnProperty(b)&&a.hasOwnProperty(b)&&a[b]!=null)if(b==="style"){var h=a[b];for(d in h)h.hasOwnProperty(d)&&(i||(i={}),i[d]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(ea.hasOwnProperty(b)?c||(c=[]):(c=c||[]).push(b,null));for(b in s){var g=s[b];if(h=a!=null?a[b]:void 0,s.hasOwnProperty(b)&&g!==h&&(g!=null||h!=null))if(b==="style")if(h){for(d in h)!h.hasOwnProperty(d)||g&&g.hasOwnProperty(d)||(i||(i={}),i[d]="");for(d in g)g.hasOwnProperty(d)&&h[d]!==g[d]&&(i||(i={}),i[d]=g[d])}else i||(c||(c=[]),c.push(b,i)),i=g;else b==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,h=h?h.__html:void 0,g!=null&&h!==g&&(c=c||[]).push(b,g)):b==="children"?typeof g!="string"&&typeof g!="number"||(c=c||[]).push(b,""+g):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(ea.hasOwnProperty(b)?(g!=null&&b==="onScroll"&&D("scroll",e),c||h===g||(c=[])):(c=c||[]).push(b,g))}i&&(c=c||[]).push("style",i);var b=c;(o.updateQueue=b)&&(o.flags|=4)}};Cj=function(e,o,i,s){i!==s&&(o.flags|=4)};function Dj(e,o){if(!I)switch(e.tailMode){case"hidden":o=e.tail;for(var i=null;o!==null;)o.alternate!==null&&(i=o),o=o.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?o||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function S(e){var o=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(o)for(var a=e.child;a!==null;)i|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)i|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=i,o}function Ej(e,o,i){var s=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(o),null;case 1:return Zf(o.type)&&$f(),S(o),null;case 3:return s=o.stateNode,zh(),E(Wf),E(H),Eh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Gg(o)?o.flags|=4:e===null||e.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,o),S(o),null;case 5:Bh(o);var a=xh(wh.current);if(i=o.type,e!==null&&o.stateNode!=null)Bj(e,o,i,s,a),e.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!s){if(o.stateNode===null)throw Error(p(166));return S(o),null}if(e=xh(uh.current),Gg(o)){s=o.stateNode,i=o.type;var c=o.memoizedProps;switch(s[Of]=o,s[Pf]=c,e=(o.mode&1)!==0,i){case"dialog":D("cancel",s),D("close",s);break;case"iframe":case"object":case"embed":D("load",s);break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],s);break;case"source":D("error",s);break;case"img":case"image":case"link":D("error",s),D("load",s);break;case"details":D("toggle",s);break;case"input":Za(s,c),D("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!c.multiple},D("invalid",s);break;case"textarea":hb(s,c),D("invalid",s)}ub(i,c),a=null;for(var d in c)if(c.hasOwnProperty(d)){var h=c[d];d==="children"?typeof h=="string"?s.textContent!==h&&(c.suppressHydrationWarning!==!0&&Af(s.textContent,h,e),a=["children",h]):typeof h=="number"&&s.textContent!==""+h&&(c.suppressHydrationWarning!==!0&&Af(s.textContent,h,e),a=["children",""+h]):ea.hasOwnProperty(d)&&h!=null&&d==="onScroll"&&D("scroll",s)}switch(i){case"input":Va(s),db(s,c,!0);break;case"textarea":Va(s),jb(s);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(s.onclick=Bf)}s=a,o.updateQueue=s,s!==null&&(o.flags|=4)}else{d=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=d.createElement(i,{is:s.is}):(e=d.createElement(i),i==="select"&&(d=e,s.multiple?d.multiple=!0:s.size&&(d.size=s.size))):e=d.createElementNS(e,i),e[Of]=o,e[Pf]=s,zj(e,o,!1,!1),o.stateNode=e;e:{switch(d=vb(i,s),i){case"dialog":D("cancel",e),D("close",e),a=s;break;case"iframe":case"object":case"embed":D("load",e),a=s;break;case"video":case"audio":for(a=0;a<lf.length;a++)D(lf[a],e);a=s;break;case"source":D("error",e),a=s;break;case"img":case"image":case"link":D("error",e),D("load",e),a=s;break;case"details":D("toggle",e),a=s;break;case"input":Za(e,s),a=Ya(e,s),D("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=A({},s,{value:void 0}),D("invalid",e);break;case"textarea":hb(e,s),a=gb(e,s),D("invalid",e);break;default:a=s}ub(i,a),h=a;for(c in h)if(h.hasOwnProperty(c)){var g=h[c];c==="style"?sb(e,g):c==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&nb(e,g)):c==="children"?typeof g=="string"?(i!=="textarea"||g!=="")&&ob(e,g):typeof g=="number"&&ob(e,""+g):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?g!=null&&c==="onScroll"&&D("scroll",e):g!=null&&ta(e,c,g,d))}switch(i){case"input":Va(e),db(e,s,!1);break;case"textarea":Va(e),jb(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Sa(s.value));break;case"select":e.multiple=!!s.multiple,c=s.value,c!=null?fb(e,!!s.multiple,c,!1):s.defaultValue!=null&&fb(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Bf)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S(o),null;case 6:if(e&&o.stateNode!=null)Cj(e,o,e.memoizedProps,s);else{if(typeof s!="string"&&o.stateNode===null)throw Error(p(166));if(i=xh(wh.current),xh(uh.current),Gg(o)){if(s=o.stateNode,i=o.memoizedProps,s[Of]=o,(c=s.nodeValue!==i)&&(e=xg,e!==null))switch(e.tag){case 3:Af(s.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(s.nodeValue,i,(e.mode&1)!==0)}c&&(o.flags|=4)}else s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[Of]=o,o.stateNode=s}return S(o),null;case 13:if(E(L),s=o.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,c=!1;else if(c=Gg(o),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(p(318));if(c=o.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));c[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S(o),c=!1}else zg!==null&&(Fj(zg),zg=null),c=!0;if(!c)return o.flags&65536?o:null}return o.flags&128?(o.lanes=i,o):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(o.child.flags|=8192,o.mode&1&&(e===null||L.current&1?T===0&&(T=3):tj())),o.updateQueue!==null&&(o.flags|=4),S(o),null);case 4:return zh(),Aj(e,o),e===null&&sf(o.stateNode.containerInfo),S(o),null;case 10:return ah(o.type._context),S(o),null;case 17:return Zf(o.type)&&$f(),S(o),null;case 19:if(E(L),c=o.memoizedState,c===null)return S(o),null;if(s=(o.flags&128)!==0,d=c.rendering,d===null)if(s)Dj(c,!1);else{if(T!==0||e!==null&&e.flags&128)for(e=o.child;e!==null;){if(d=Ch(e),d!==null){for(o.flags|=128,Dj(c,!1),s=d.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),o.subtreeFlags=0,s=i,i=o.child;i!==null;)c=i,e=s,c.flags&=14680066,d=c.alternate,d===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=d.childLanes,c.lanes=d.lanes,c.child=d.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=d.memoizedProps,c.memoizedState=d.memoizedState,c.updateQueue=d.updateQueue,c.type=d.type,e=d.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return G(L,L.current&1|2),o.child}e=e.sibling}c.tail!==null&&B()>Gj&&(o.flags|=128,s=!0,Dj(c,!1),o.lanes=4194304)}else{if(!s)if(e=Ch(d),e!==null){if(o.flags|=128,s=!0,i=e.updateQueue,i!==null&&(o.updateQueue=i,o.flags|=4),Dj(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!I)return S(o),null}else 2*B()-c.renderingStartTime>Gj&&i!==1073741824&&(o.flags|=128,s=!0,Dj(c,!1),o.lanes=4194304);c.isBackwards?(d.sibling=o.child,o.child=d):(i=c.last,i!==null?i.sibling=d:o.child=d,c.last=d)}return c.tail!==null?(o=c.tail,c.rendering=o,c.tail=o.sibling,c.renderingStartTime=B(),o.sibling=null,i=L.current,G(L,s?i&1|2:i&1),o):(S(o),null);case 22:case 23:return Hj(),s=o.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(o.flags|=8192),s&&o.mode&1?fj&1073741824&&(S(o),o.subtreeFlags&6&&(o.flags|=8192)):S(o),null;case 24:return null;case 25:return null}throw Error(p(156,o.tag))}function Ij(e,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),e=o.flags,e&65536?(o.flags=e&-65537|128,o):null;case 3:return zh(),E(Wf),E(H),Eh(),e=o.flags,e&65536&&!(e&128)?(o.flags=e&-65537|128,o):null;case 5:return Bh(o),null;case 13:if(E(L),e=o.memoizedState,e!==null&&e.dehydrated!==null){if(o.alternate===null)throw Error(p(340));Ig()}return e=o.flags,e&65536?(o.flags=e&-65537|128,o):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(o.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Lj(e,o){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(s){W(e,o,s)}else i.current=null}function Mj(e,o,i){try{i()}catch(s){W(e,o,s)}}var Nj=!1;function Oj(e,o){if(Cf=dd,e=Me(),Ne(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var a=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,h=-1,g=-1,b=0,$=0,j=e,tt=null;t:for(;;){for(var at;j!==i||a!==0&&j.nodeType!==3||(h=d+a),j!==c||s!==0&&j.nodeType!==3||(g=d+s),j.nodeType===3&&(d+=j.nodeValue.length),(at=j.firstChild)!==null;)tt=j,j=at;for(;;){if(j===e)break t;if(tt===i&&++b===a&&(h=d),tt===c&&++$===s&&(g=d),(at=j.nextSibling)!==null)break;j=tt,tt=j.parentNode}j=at}i=h===-1||g===-1?null:{start:h,end:g}}else i=null}i=i||{start:0,end:0}}else i=null;for(Df={focusedElem:e,selectionRange:i},dd=!1,V$2=o;V$2!==null;)if(o=V$2,e=o.child,(o.subtreeFlags&1028)!==0&&e!==null)e.return=o,V$2=e;else for(;V$2!==null;){o=V$2;try{var _=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var ot=_.memoizedProps,ut=_.memoizedState,nt=o.stateNode,et=nt.getSnapshotBeforeUpdate(o.elementType===o.type?ot:Ci(o.type,ot),ut);nt.__reactInternalSnapshotBeforeUpdate=et}break;case 3:var _e=o.stateNode.containerInfo;_e.nodeType===1?_e.textContent="":_e.nodeType===9&&_e.documentElement&&_e.removeChild(_e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(rt){W(o,o.return,rt)}if(e=o.sibling,e!==null){e.return=o.return,V$2=e;break}V$2=o.return}return _=Nj,Nj=!1,_}function Pj(e,o,i){var s=o.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var c=a.destroy;a.destroy=void 0,c!==void 0&&Mj(o,i,c)}a=a.next}while(a!==s)}}function Qj(e,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&e)===e){var s=i.create;i.destroy=s()}i=i.next}while(i!==o)}}function Rj(e){var o=e.ref;if(o!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof o=="function"?o(e):o.current=e}}function Sj(e){var o=e.alternate;o!==null&&(e.alternate=null,Sj(o)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(o=e.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,o,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,o?i.nodeType===8?i.parentNode.insertBefore(e,o):i.insertBefore(e,o):(i.nodeType===8?(o=i.parentNode,o.insertBefore(e,i)):(o=i,o.appendChild(e)),i=i._reactRootContainer,i!=null||o.onclick!==null||(o.onclick=Bf));else if(s!==4&&(e=e.child,e!==null))for(Vj(e,o,i),e=e.sibling;e!==null;)Vj(e,o,i),e=e.sibling}function Wj(e,o,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,o?i.insertBefore(e,o):i.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Wj(e,o,i),e=e.sibling;e!==null;)Wj(e,o,i),e=e.sibling}var X=null,Xj=!1;function Yj(e,o,i){for(i=i.child;i!==null;)Zj(e,o,i),i=i.sibling}function Zj(e,o,i){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,i)}catch{}switch(i.tag){case 5:U||Lj(i,o);case 6:var s=X,a=Xj;X=null,Yj(e,o,i),X=s,Xj=a,X!==null&&(Xj?(e=X,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):X.removeChild(i.stateNode));break;case 18:X!==null&&(Xj?(e=X,i=i.stateNode,e.nodeType===8?Kf(e.parentNode,i):e.nodeType===1&&Kf(e,i),bd(e)):Kf(X,i.stateNode));break;case 4:s=X,a=Xj,X=i.stateNode.containerInfo,Xj=!0,Yj(e,o,i),X=s,Xj=a;break;case 0:case 11:case 14:case 15:if(!U&&(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var c=a,d=c.destroy;c=c.tag,d!==void 0&&(c&2||c&4)&&Mj(i,o,d),a=a.next}while(a!==s)}Yj(e,o,i);break;case 1:if(!U&&(Lj(i,o),s=i.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(h){W(i,o,h)}Yj(e,o,i);break;case 21:Yj(e,o,i);break;case 22:i.mode&1?(U=(s=U)||i.memoizedState!==null,Yj(e,o,i),U=s):Yj(e,o,i);break;default:Yj(e,o,i)}}function ak(e){var o=e.updateQueue;if(o!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Kj),o.forEach(function(s){var a=bk.bind(null,e,s);i.has(s)||(i.add(s),s.then(a,a))})}}function ck(e,o){var i=o.deletions;if(i!==null)for(var s=0;s<i.length;s++){var a=i[s];try{var c=e,d=o,h=d;e:for(;h!==null;){switch(h.tag){case 5:X=h.stateNode,Xj=!1;break e;case 3:X=h.stateNode.containerInfo,Xj=!0;break e;case 4:X=h.stateNode.containerInfo,Xj=!0;break e}h=h.return}if(X===null)throw Error(p(160));Zj(c,d,a),X=null,Xj=!1;var g=a.alternate;g!==null&&(g.return=null),a.return=null}catch(b){W(a,o,b)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)dk(o,e),o=o.sibling}function dk(e,o){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(o,e),ek(e),s&4){try{Pj(3,e,e.return),Qj(3,e)}catch(ot){W(e,e.return,ot)}try{Pj(5,e,e.return)}catch(ot){W(e,e.return,ot)}}break;case 1:ck(o,e),ek(e),s&512&&i!==null&&Lj(i,i.return);break;case 5:if(ck(o,e),ek(e),s&512&&i!==null&&Lj(i,i.return),e.flags&32){var a=e.stateNode;try{ob(a,"")}catch(ot){W(e,e.return,ot)}}if(s&4&&(a=e.stateNode,a!=null)){var c=e.memoizedProps,d=i!==null?i.memoizedProps:c,h=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{h==="input"&&c.type==="radio"&&c.name!=null&&ab(a,c),vb(h,d);var b=vb(h,c);for(d=0;d<g.length;d+=2){var $=g[d],j=g[d+1];$==="style"?sb(a,j):$==="dangerouslySetInnerHTML"?nb(a,j):$==="children"?ob(a,j):ta(a,$,j,b)}switch(h){case"input":bb(a,c);break;case"textarea":ib(a,c);break;case"select":var tt=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!c.multiple;var at=c.value;at!=null?fb(a,!!c.multiple,at,!1):tt!==!!c.multiple&&(c.defaultValue!=null?fb(a,!!c.multiple,c.defaultValue,!0):fb(a,!!c.multiple,c.multiple?[]:"",!1))}a[Pf]=c}catch(ot){W(e,e.return,ot)}}break;case 6:if(ck(o,e),ek(e),s&4){if(e.stateNode===null)throw Error(p(162));a=e.stateNode,c=e.memoizedProps;try{a.nodeValue=c}catch(ot){W(e,e.return,ot)}}break;case 3:if(ck(o,e),ek(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(ot){W(e,e.return,ot)}break;case 4:ck(o,e),ek(e);break;case 13:ck(o,e),ek(e),a=e.child,a.flags&8192&&(c=a.memoizedState!==null,a.stateNode.isHidden=c,!c||a.alternate!==null&&a.alternate.memoizedState!==null||(fk=B())),s&4&&ak(e);break;case 22:if($=i!==null&&i.memoizedState!==null,e.mode&1?(U=(b=U)||$,ck(o,e),U=b):ck(o,e),ek(e),s&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!$&&e.mode&1)for(V$2=e,$=e.child;$!==null;){for(j=V$2=$;V$2!==null;){switch(tt=V$2,at=tt.child,tt.tag){case 0:case 11:case 14:case 15:Pj(4,tt,tt.return);break;case 1:Lj(tt,tt.return);var _=tt.stateNode;if(typeof _.componentWillUnmount=="function"){s=tt,i=tt.return;try{o=s,_.props=o.memoizedProps,_.state=o.memoizedState,_.componentWillUnmount()}catch(ot){W(s,i,ot)}}break;case 5:Lj(tt,tt.return);break;case 22:if(tt.memoizedState!==null){gk(j);continue}}at!==null?(at.return=tt,V$2=at):gk(j)}$=$.sibling}e:for($=null,j=e;;){if(j.tag===5){if($===null){$=j;try{a=j.stateNode,b?(c=a.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(h=j.stateNode,g=j.memoizedProps.style,d=g!=null&&g.hasOwnProperty("display")?g.display:null,h.style.display=rb("display",d))}catch(ot){W(e,e.return,ot)}}}else if(j.tag===6){if($===null)try{j.stateNode.nodeValue=b?"":j.memoizedProps}catch(ot){W(e,e.return,ot)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===e)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===e)break e;for(;j.sibling===null;){if(j.return===null||j.return===e)break e;$===j&&($=null),j=j.return}$===j&&($=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:ck(o,e),ek(e),s&4&&ak(e);break;case 21:break;default:ck(o,e),ek(e)}}function ek(e){var o=e.flags;if(o&2){try{e:{for(var i=e.return;i!==null;){if(Tj(i)){var s=i;break e}i=i.return}throw Error(p(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(ob(a,""),s.flags&=-33);var c=Uj(e);Wj(e,c,a);break;case 3:case 4:var d=s.stateNode.containerInfo,h=Uj(e);Vj(e,h,d);break;default:throw Error(p(161))}}catch(g){W(e,e.return,g)}e.flags&=-3}o&4096&&(e.flags&=-4097)}function hk(e,o,i){V$2=e,ik(e)}function ik(e,o,i){for(var s=(e.mode&1)!==0;V$2!==null;){var a=V$2,c=a.child;if(a.tag===22&&s){var d=a.memoizedState!==null||Jj;if(!d){var h=a.alternate,g=h!==null&&h.memoizedState!==null||U;h=Jj;var b=U;if(Jj=d,(U=g)&&!b)for(V$2=a;V$2!==null;)d=V$2,g=d.child,d.tag===22&&d.memoizedState!==null?jk(a):g!==null?(g.return=d,V$2=g):jk(a);for(;c!==null;)V$2=c,ik(c),c=c.sibling;V$2=a,Jj=h,U=b}kk(e)}else a.subtreeFlags&8772&&c!==null?(c.return=a,V$2=c):kk(e)}}function kk(e){for(;V$2!==null;){var o=V$2;if(o.flags&8772){var i=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Qj(5,o);break;case 1:var s=o.stateNode;if(o.flags&4&&!U)if(i===null)s.componentDidMount();else{var a=o.elementType===o.type?i.memoizedProps:Ci(o.type,i.memoizedProps);s.componentDidUpdate(a,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var c=o.updateQueue;c!==null&&sh(o,c,s);break;case 3:var d=o.updateQueue;if(d!==null){if(i=null,o.child!==null)switch(o.child.tag){case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}sh(o,d,i)}break;case 5:var h=o.stateNode;if(i===null&&o.flags&4){i=h;var g=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&i.focus();break;case"img":g.src&&(i.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var b=o.alternate;if(b!==null){var $=b.memoizedState;if($!==null){var j=$.dehydrated;j!==null&&bd(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||o.flags&512&&Rj(o)}catch(tt){W(o,o.return,tt)}}if(o===e){V$2=null;break}if(i=o.sibling,i!==null){i.return=o.return,V$2=i;break}V$2=o.return}}function gk(e){for(;V$2!==null;){var o=V$2;if(o===e){V$2=null;break}var i=o.sibling;if(i!==null){i.return=o.return,V$2=i;break}V$2=o.return}}function jk(e){for(;V$2!==null;){var o=V$2;try{switch(o.tag){case 0:case 11:case 15:var i=o.return;try{Qj(4,o)}catch(g){W(o,i,g)}break;case 1:var s=o.stateNode;if(typeof s.componentDidMount=="function"){var a=o.return;try{s.componentDidMount()}catch(g){W(o,a,g)}}var c=o.return;try{Rj(o)}catch(g){W(o,c,g)}break;case 5:var d=o.return;try{Rj(o)}catch(g){W(o,d,g)}}}catch(g){W(o,o.return,g)}if(o===e){V$2=null;break}var h=o.sibling;if(h!==null){h.return=o.return,V$2=h;break}V$2=o.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,o,i,s){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(e,i,s),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=i),T===4&&Ck(e,Z)),Dk(e,s),i===1&&K===0&&!(o.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,o){var i=e.callbackNode;wc(e,o);var s=uc(e,e===Q?Z:0);if(s===0)i!==null&&bc(i),e.callbackNode=null,e.callbackPriority=0;else if(o=s&-s,e.callbackPriority!==o){if(i!=null&&bc(i),o===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),i=null;else{switch(Dc(s)){case 1:i=fc;break;case 4:i=gc;break;case 16:i=hc;break;case 536870912:i=jc;break;default:i=hc}i=Fk(i,Gk.bind(null,e))}e.callbackPriority=o,e.callbackNode=i}}function Gk(e,o){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var i=e.callbackNode;if(Hk()&&e.callbackNode!==i)return null;var s=uc(e,e===Q?Z:0);if(s===0)return null;if(s&30||s&e.expiredLanes||o)o=Ik(e,s);else{o=s;var a=K;K|=2;var c=Jk();(Q!==e||Z!==o)&&(uk=null,Gj=B()+500,Kk(e,o));do try{Lk();break}catch(h){Mk(e,h)}while(1);$g(),mk.current=c,K=a,Y!==null?o=0:(Q=null,Z=0,o=T)}if(o!==0){if(o===2&&(a=xc(e),a!==0&&(s=a,o=Nk(e,a))),o===1)throw i=pk,Kk(e,0),Ck(e,s),Dk(e,B()),i;if(o===6)Ck(e,s);else{if(a=e.current.alternate,!(s&30)&&!Ok(a)&&(o=Ik(e,s),o===2&&(c=xc(e),c!==0&&(s=c,o=Nk(e,c))),o===1))throw i=pk,Kk(e,0),Ck(e,s),Dk(e,B()),i;switch(e.finishedWork=a,e.finishedLanes=s,o){case 0:case 1:throw Error(p(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,s),(s&130023424)===s&&(o=fk+500-B(),10<o)){if(uc(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){R(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),o);break}Pk(e,tk,uk);break;case 4:if(Ck(e,s),(s&4194240)===s)break;for(o=e.eventTimes,a=-1;0<s;){var d=31-oc(s);c=1<<d,d=o[d],d>a&&(a=d),s&=~c}if(s=a,s=B()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*lk(s/1960))-s,10<s){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),s);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p(329))}}}return Dk(e,B()),e.callbackNode===i?Gk.bind(null,e):null}function Nk(e,o){var i=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,o).flags|=256),e=Ik(e,o),e!==2&&(o=tk,tk=i,o!==null&&Fj(o)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var o=e;;){if(o.flags&16384){var i=o.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var s=0;s<i.length;s++){var a=i[s],c=a.getSnapshot;a=a.value;try{if(!He(c(),a))return!1}catch{return!1}}}if(i=o.child,o.subtreeFlags&16384&&i!==null)i.return=o,o=i;else{if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ck(e,o){for(o&=~rk,o&=~qk,e.suspendedLanes|=o,e.pingedLanes&=~o,e=e.expirationTimes;0<o;){var i=31-oc(o),s=1<<i;e[i]=-1,o&=~s}}function Ek(e){if(K&6)throw Error(p(327));Hk();var o=uc(e,0);if(!(o&1))return Dk(e,B()),null;var i=Ik(e,o);if(e.tag!==0&&i===2){var s=xc(e);s!==0&&(o=s,i=Nk(e,s))}if(i===1)throw i=pk,Kk(e,0),Ck(e,o),Dk(e,B()),i;if(i===6)throw Error(p(345));return e.finishedWork=e.current.alternate,e.finishedLanes=o,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,o){var i=K;K|=1;try{return e(o)}finally{K=i,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var o=K;K|=1;var i=ok.transition,s=C;try{if(ok.transition=null,C=1,e)return e()}finally{C=s,ok.transition=i,K=o,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,o){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Gf(i)),Y!==null)for(i=Y.return;i!==null;){var s=i;switch(wg(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(s);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(s.type._context);break;case 22:case 23:Hj()}i=i.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=o,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(o=0;o<fh.length;o++)if(i=fh[o],s=i.interleaved,s!==null){i.interleaved=null;var a=s.next,c=i.pending;if(c!==null){var d=c.next;c.next=a,s.next=d}i.pending=s}fh=null}return e}function Mk(e,o){do{var i=Y;try{if($g(),Fh.current=Rh,Ih){for(var s=M.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,i===null||i.return===null){T=1,pk=o,Y=null;break}e:{var c=e,d=i.return,h=i,g=o;if(o=Z,h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var b=g,$=h,j=$.tag;if(!($.mode&1)&&(j===0||j===11||j===15)){var tt=$.alternate;tt?($.updateQueue=tt.updateQueue,$.memoizedState=tt.memoizedState,$.lanes=tt.lanes):($.updateQueue=null,$.memoizedState=null)}var at=Ui(d);if(at!==null){at.flags&=-257,Vi(at,d,h,c,o),at.mode&1&&Si(c,b,o),o=at,g=b;var _=o.updateQueue;if(_===null){var ot=new Set;ot.add(g),o.updateQueue=ot}else _.add(g);break e}else{if(!(o&1)){Si(c,b,o),tj();break e}g=Error(p(426))}}else if(I&&h.mode&1){var ut=Ui(d);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),Vi(ut,d,h,c,o),Jg(Ji(g,h));break e}}c=g=Ji(g,h),T!==4&&(T=2),sk===null?sk=[c]:sk.push(c),c=d;do{switch(c.tag){case 3:c.flags|=65536,o&=-o,c.lanes|=o;var nt=Ni(c,g,o);ph(c,nt);break e;case 1:h=g;var et=c.type,_e=c.stateNode;if(!(c.flags&128)&&(typeof et.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(Ri===null||!Ri.has(_e)))){c.flags|=65536,o&=-o,c.lanes|=o;var rt=Qi(c,h,o);ph(c,rt);break e}}c=c.return}while(c!==null)}Sk(i)}catch(it){o=it,Y===i&&i!==null&&(Y=i=i.return);continue}break}while(1)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,o){var i=K;K|=2;var s=Jk();(Q!==e||Z!==o)&&(uk=null,Kk(e,o));do try{Tk();break}catch(a){Mk(e,a)}while(1);if($g(),K=i,mk.current=s,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(e){var o=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,o===null?Sk(e):Y=o,nk.current=null}function Sk(e){var o=e;do{var i=o.alternate;if(e=o.return,o.flags&32768){if(i=Ij(i,o),i!==null){i.flags&=32767,Y=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T=6,Y=null;return}}else if(i=Ej(i,o,fj),i!==null){Y=i;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=e}while(o!==null);T===0&&(T=5)}function Pk(e,o,i){var s=C,a=ok.transition;try{ok.transition=null,C=1,Wk(e,o,i,s)}finally{ok.transition=a,C=s}return null}function Wk(e,o,i,s){do Hk();while(wk!==null);if(K&6)throw Error(p(327));i=e.finishedWork;var a=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(p(177));e.callbackNode=null,e.callbackPriority=0;var c=i.lanes|i.childLanes;if(Bc(e,c),e===Q&&(Y=Q=null,Z=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),c=(i.flags&15990)!==0,i.subtreeFlags&15990||c){c=ok.transition,ok.transition=null;var d=C;C=1;var h=K;K|=4,nk.current=null,Oj(e,i),dk(i,e),Oe(Df),dd=!!Cf,Df=Cf=null,e.current=i,hk(i),dc(),K=h,C=d,ok.transition=c}else e.current=i;if(vk&&(vk=!1,wk=e,xk=a),c=e.pendingLanes,c===0&&(Ri=null),mc(i.stateNode),Dk(e,B()),o!==null)for(s=e.onRecoverableError,i=0;i<o.length;i++)a=o[i],s(a.value,{componentStack:a.stack,digest:a.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),c=e.pendingLanes,c&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),o=ok.transition,i=C;try{if(ok.transition=null,C=16>e?16:e,wk===null)var s=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p(331));var a=K;for(K|=4,V$2=e.current;V$2!==null;){var c=V$2,d=c.child;if(V$2.flags&16){var h=c.deletions;if(h!==null){for(var g=0;g<h.length;g++){var b=h[g];for(V$2=b;V$2!==null;){var $=V$2;switch($.tag){case 0:case 11:case 15:Pj(8,$,c)}var j=$.child;if(j!==null)j.return=$,V$2=j;else for(;V$2!==null;){$=V$2;var tt=$.sibling,at=$.return;if(Sj($),$===b){V$2=null;break}if(tt!==null){tt.return=at,V$2=tt;break}V$2=at}}}var _=c.alternate;if(_!==null){var ot=_.child;if(ot!==null){_.child=null;do{var ut=ot.sibling;ot.sibling=null,ot=ut}while(ot!==null)}}V$2=c}}if(c.subtreeFlags&2064&&d!==null)d.return=c,V$2=d;else e:for(;V$2!==null;){if(c=V$2,c.flags&2048)switch(c.tag){case 0:case 11:case 15:Pj(9,c,c.return)}var nt=c.sibling;if(nt!==null){nt.return=c.return,V$2=nt;break e}V$2=c.return}}var et=e.current;for(V$2=et;V$2!==null;){d=V$2;var _e=d.child;if(d.subtreeFlags&2064&&_e!==null)_e.return=d,V$2=_e;else e:for(d=et;V$2!==null;){if(h=V$2,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(it){W(h,h.return,it)}if(h===d){V$2=null;break e}var rt=h.sibling;if(rt!==null){rt.return=h.return,V$2=rt;break e}V$2=h.return}}if(K=a,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}s=!0}return s}finally{C=i,ok.transition=o}}return!1}function Xk(e,o,i){o=Ji(i,o),o=Ni(e,o,1),e=nh(e,o,1),o=R(),e!==null&&(Ac(e,1,o),Dk(e,o))}function W(e,o,i){if(e.tag===3)Xk(e,e,i);else for(;o!==null;){if(o.tag===3){Xk(o,e,i);break}else if(o.tag===1){var s=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ri===null||!Ri.has(s))){e=Ji(i,e),e=Qi(o,e,1),o=nh(o,e,1),e=R(),o!==null&&(Ac(o,1,e),Dk(o,e));break}}o=o.return}}function Ti(e,o,i){var s=e.pingCache;s!==null&&s.delete(o),o=R(),e.pingedLanes|=e.suspendedLanes&i,Q===e&&(Z&i)===i&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=i),Dk(e,o)}function Yk(e,o){o===0&&(e.mode&1?(o=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):o=1);var i=R();e=ih(e,o),e!==null&&(Ac(e,o,i),Dk(e,i))}function uj(e){var o=e.memoizedState,i=0;o!==null&&(i=o.retryLane),Yk(e,i)}function bk(e,o){var i=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(i=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(p(314))}s!==null&&s.delete(o),Yk(e,i)}var Vk;Vk=function(e,o,i){if(e!==null)if(e.memoizedProps!==o.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&i)&&!(o.flags&128))return dh=!1,yj(e,o,i);dh=!!(e.flags&131072)}else dh=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var s=o.type;ij(e,o),e=o.pendingProps;var a=Yf(o,H.current);ch(o,i),a=Nh(null,o,s,e,a,i);var c=Sh();return o.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(s)?(c=!0,cg(o)):c=!1,o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,kh(o),a.updater=Ei,o.stateNode=a,a._reactInternals=o,Ii(o,s,e,i),o=jj(null,o,s,!0,c,i)):(o.tag=0,I&&c&&vg(o),Xi(null,o,a,i),o=o.child),o;case 16:s=o.elementType;e:{switch(ij(e,o),e=o.pendingProps,a=s._init,s=a(s._payload),o.type=s,a=o.tag=Zk(s),e=Ci(s,e),a){case 0:o=cj(null,o,s,e,i);break e;case 1:o=hj(null,o,s,e,i);break e;case 11:o=Yi(null,o,s,e,i);break e;case 14:o=$i(null,o,s,Ci(s.type,e),i);break e}throw Error(p(306,s,""))}return o;case 0:return s=o.type,a=o.pendingProps,a=o.elementType===s?a:Ci(s,a),cj(e,o,s,a,i);case 1:return s=o.type,a=o.pendingProps,a=o.elementType===s?a:Ci(s,a),hj(e,o,s,a,i);case 3:e:{if(kj(o),e===null)throw Error(p(387));s=o.pendingProps,c=o.memoizedState,a=c.element,lh(e,o),qh(o,s,null,i);var d=o.memoizedState;if(s=d.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},o.updateQueue.baseState=c,o.memoizedState=c,o.flags&256){a=Ji(Error(p(423)),o),o=lj(e,o,s,i,a);break e}else if(s!==a){a=Ji(Error(p(424)),o),o=lj(e,o,s,i,a);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,i=Vg(o,null,s,i),o.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ig(),s===a){o=Zi(e,o,i);break e}Xi(e,o,s,i)}o=o.child}return o;case 5:return Ah(o),e===null&&Eg(o),s=o.type,a=o.pendingProps,c=e!==null?e.memoizedProps:null,d=a.children,Ef(s,a)?d=null:c!==null&&Ef(s,c)&&(o.flags|=32),gj(e,o),Xi(e,o,d,i),o.child;case 6:return e===null&&Eg(o),null;case 13:return oj(e,o,i);case 4:return yh(o,o.stateNode.containerInfo),s=o.pendingProps,e===null?o.child=Ug(o,null,s,i):Xi(e,o,s,i),o.child;case 11:return s=o.type,a=o.pendingProps,a=o.elementType===s?a:Ci(s,a),Yi(e,o,s,a,i);case 7:return Xi(e,o,o.pendingProps,i),o.child;case 8:return Xi(e,o,o.pendingProps.children,i),o.child;case 12:return Xi(e,o,o.pendingProps.children,i),o.child;case 10:e:{if(s=o.type._context,a=o.pendingProps,c=o.memoizedProps,d=a.value,G(Wg,s._currentValue),s._currentValue=d,c!==null)if(He(c.value,d)){if(c.children===a.children&&!Wf.current){o=Zi(e,o,i);break e}}else for(c=o.child,c!==null&&(c.return=o);c!==null;){var h=c.dependencies;if(h!==null){d=c.child;for(var g=h.firstContext;g!==null;){if(g.context===s){if(c.tag===1){g=mh(-1,i&-i),g.tag=2;var b=c.updateQueue;if(b!==null){b=b.shared;var $=b.pending;$===null?g.next=g:(g.next=$.next,$.next=g),b.pending=g}}c.lanes|=i,g=c.alternate,g!==null&&(g.lanes|=i),bh(c.return,i,o),h.lanes|=i;break}g=g.next}}else if(c.tag===10)d=c.type===o.type?null:c.child;else if(c.tag===18){if(d=c.return,d===null)throw Error(p(341));d.lanes|=i,h=d.alternate,h!==null&&(h.lanes|=i),bh(d,i,o),d=c.sibling}else d=c.child;if(d!==null)d.return=c;else for(d=c;d!==null;){if(d===o){d=null;break}if(c=d.sibling,c!==null){c.return=d.return,d=c;break}d=d.return}c=d}Xi(e,o,a.children,i),o=o.child}return o;case 9:return a=o.type,s=o.pendingProps.children,ch(o,i),a=eh(a),s=s(a),o.flags|=1,Xi(e,o,s,i),o.child;case 14:return s=o.type,a=Ci(s,o.pendingProps),a=Ci(s.type,a),$i(e,o,s,a,i);case 15:return bj(e,o,o.type,o.pendingProps,i);case 17:return s=o.type,a=o.pendingProps,a=o.elementType===s?a:Ci(s,a),ij(e,o),o.tag=1,Zf(s)?(e=!0,cg(o)):e=!1,ch(o,i),Gi(o,s,a),Ii(o,s,a,i),jj(null,o,s,!0,e,i);case 19:return xj(e,o,i);case 22:return dj(e,o,i)}throw Error(p(156,o.tag))};function Fk(e,o){return ac(e,o)}function $k(e,o,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,o,i,s){return new $k(e,o,i,s)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,o){var i=e.alternate;return i===null?(i=Bg(e.tag,o,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=o,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,o=e.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Rg(e,o,i,s,a,c){var d=2;if(s=e,typeof e=="function")aj(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case ya:return Tg(i.children,a,c,o);case za:d=8,a|=8;break;case Aa:return e=Bg(12,i,o,a|2),e.elementType=Aa,e.lanes=c,e;case Ea:return e=Bg(13,i,o,a),e.elementType=Ea,e.lanes=c,e;case Fa:return e=Bg(19,i,o,a),e.elementType=Fa,e.lanes=c,e;case Ia:return pj(i,a,c,o);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:d=10;break e;case Ca:d=9;break e;case Da:d=11;break e;case Ga:d=14;break e;case Ha:d=16,s=null;break e}throw Error(p(130,e==null?e:typeof e,""))}return o=Bg(d,i,o,a),o.elementType=e,o.type=s,o.lanes=c,o}function Tg(e,o,i,s){return e=Bg(7,e,s,o),e.lanes=i,e}function pj(e,o,i,s){return e=Bg(22,e,s,o),e.elementType=Ia,e.lanes=i,e.stateNode={isHidden:!1},e}function Qg(e,o,i){return e=Bg(6,e,null,o),e.lanes=i,e}function Sg(e,o,i){return o=Bg(4,e.children!==null?e.children:[],e.key,o),o.lanes=i,o.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},o}function al(e,o,i,s,a){this.tag=o,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bl(e,o,i,s,a,c,d,h,g){return e=new al(e,o,i,h,g),o===1?(o=1,c===!0&&(o|=8)):o=0,c=Bg(3,null,null,o),e.current=c,c.stateNode=e,c.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(c),e}function cl(e,o,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:s==null?null:""+s,children:e,containerInfo:o,implementation:i}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p(170));var o=e;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p(171))}if(e.tag===1){var i=e.type;if(Zf(i))return bg(e,i,o)}return o}function el(e,o,i,s,a,c,d,h,g){return e=bl(i,s,!0,e,a,c,d,h,g),e.context=dl(null),i=e.current,s=R(),a=yi(i),c=mh(s,a),c.callback=o??null,nh(i,c,a),e.current.lanes=a,Ac(e,a,s),Dk(e,s),e}function fl(e,o,i,s){var a=o.current,c=R(),d=yi(a);return i=dl(i),o.context===null?o.context=i:o.pendingContext=i,o=mh(c,d),o.payload={element:e},s=s===void 0?null:s,s!==null&&(o.callback=s),e=nh(a,o,d),e!==null&&(gi(e,a,d,c),oh(e,a,d)),d}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,o){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<o?i:o}}function il(e,o){hl(e,o),(e=e.alternate)&&hl(e,o)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var o=this._internalRoot;if(o===null)throw Error(p(409));fl(e,o,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var o=e.containerInfo;Rk(function(){fl(null,e,null,null)}),o[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var o=Hc();e={blockedOn:null,target:e,priority:o};for(var i=0;i<Qc.length&&o!==0&&o<Qc[i].priority;i++);Qc.splice(i,0,e),i===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,o,i,s,a){if(a){if(typeof s=="function"){var c=s;s=function(){var b=gl(d);c.call(b)}}var d=el(o,s,e,0,null,!1,!1,"",pl);return e._reactRootContainer=d,e[uf]=d.current,sf(e.nodeType===8?e.parentNode:e),Rk(),d}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var h=s;s=function(){var b=gl(g);h.call(b)}}var g=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=g,e[uf]=g.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(o,g,i,s)}),g}function rl(e,o,i,s,a){var c=i._reactRootContainer;if(c){var d=c;if(typeof a=="function"){var h=a;a=function(){var g=gl(d);h.call(g)}}fl(o,d,e,a)}else d=ql(i,o,e,a,s);return gl(d)}Ec=function(e){switch(e.tag){case 3:var o=e.stateNode;if(o.current.memoizedState.isDehydrated){var i=tc(o.pendingLanes);i!==0&&(Cc(o,i|1),Dk(o,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var s=ih(e,1);if(s!==null){var a=R();gi(s,e,1,a)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var o=ih(e,134217728);if(o!==null){var i=R();gi(o,e,134217728,i)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var o=yi(e),i=ih(e,o);if(i!==null){var s=R();gi(i,e,o,s)}il(e,o)}};Hc=function(){return C};Ic=function(e,o){var i=C;try{return C=e,o()}finally{C=i}};yb=function(e,o,i){switch(o){case"input":if(bb(e,i),o=i.name,i.type==="radio"&&o!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<i.length;o++){var s=i[o];if(s!==e&&s.form===e.form){var a=Db(s);if(!a)throw Error(p(90));Wa(s),bb(s,a)}}}break;case"textarea":ib(e,i);break;case"select":o=i.value,o!=null&&fb(e,!!i.multiple,o,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,o){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(o))throw Error(p(200));return cl(e,o,null,i)};reactDom_production_min.createRoot=function(e,o){if(!nl(e))throw Error(p(299));var i=!1,s="",a=kl;return o!=null&&(o.unstable_strictMode===!0&&(i=!0),o.identifierPrefix!==void 0&&(s=o.identifierPrefix),o.onRecoverableError!==void 0&&(a=o.onRecoverableError)),o=bl(e,1,!1,null,null,i,!1,s,a),e[uf]=o.current,sf(e.nodeType===8?e.parentNode:e),new ll(o)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var o=e._reactInternals;if(o===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=Zb(o),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,o,i){if(!ol(o))throw Error(p(200));return rl(null,e,o,!0,i)};reactDom_production_min.hydrateRoot=function(e,o,i){if(!nl(e))throw Error(p(405));var s=i!=null&&i.hydratedSources||null,a=!1,c="",d=kl;if(i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),o=el(o,null,e,1,i??null,a,!1,c,d),e[uf]=o.current,sf(e),s)for(e=0;e<s.length;e++)i=s[e],a=i._getVersion,a=a(i._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[i,a]:o.mutableSourceEagerHydrationData.push(i,a);return new ml(o)};reactDom_production_min.render=function(e,o,i){if(!ol(o))throw Error(p(200));return rl(null,e,o,!1,i)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,o,i,s){if(!ol(i))throw Error(p(200));if(e==null||e._reactInternals===void 0)throw Error(p(38));return rl(e,o,i,!1,s)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;function Sidebar({currentUser:e,onLogout:o}){return jsxRuntimeExports.jsxs("aside",{className:"w-80 border-r border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-800 p-4 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold",children:"Nepal Connect"}),jsxRuntimeExports.jsx("button",{onClick:o,className:"text-sm text-red-500 hover:text-red-600",children:"Logout"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4 p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white",children:e==null?void 0:e.slice(0,1).toUpperCase()}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:e}),jsxRuntimeExports.jsx("div",{className:"text-xs text-green-500",children:"Online"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Contacts"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{className:"p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-700",children:"Alice"}),jsxRuntimeExports.jsx("li",{className:"p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-700",children:"Bob"})]})]}),jsxRuntimeExports.jsx("div",{className:"pt-4 text-sm text-gray-500",children:"v0.1  Serverless preview"})]})}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gun={exports:{}};gun.exports;(function(e){(function(){function o(s,a){return a?commonjsRequire(s):s.slice?o[c(s)]:function(d,h){s(d={exports:{}}),o[c(h)]=d.exports};function c(d){return d.split("/").slice(-1).toString().replace(".js","")}}var i=e;o(function(s){String.random=function(c,d){var h="";for(c=c||24,d=d||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";c-- >0;)h+=d.charAt(Math.floor(Math.random()*d.length));return h},String.match=function(c,d){var h,g;return typeof c!="string"?!1:(typeof d=="string"&&(d={"=":d}),d=d||{},h=d["="]||d["*"]||d[">"]||d["<"],c===h?!0:g!==d["="]?!1:(h=d["*"]||d[">"],c.slice(0,(h||"").length)===h?!0:g!==d["*"]?!1:g!==d[">"]&&g!==d["<"]?c>=d[">"]&&c<=d["<"]:g!==d[">"]&&c>=d[">"]||g!==d["<"]&&c<=d["<"]))},String.hash=function(c,d){if(typeof c=="string"){if(d=d||0,!c.length)return d;for(var h=0,g=c.length,b;h<g;++h)b=c.charCodeAt(h),d=(d<<5)-d+b,d|=0;return d}};var a=Object.prototype.hasOwnProperty;Object.plain=function(c){return c?c instanceof Object&&c.constructor===Object||Object.prototype.toString.call(c).match(/^\[object (\w+)\]$/)[1]==="Object":!1},Object.empty=function(c,d){for(var h in c)if(a.call(c,h)&&(!d||d.indexOf(h)==-1))return!1;return!0},Object.keys=Object.keys||function(c){var d=[];for(var h in c)a.call(c,h)&&d.push(h);return d},function(){var c,d=setTimeout,h=0,g=0,b=typeof setImmediate!=""+c&&setImmediate||function(j,tt){return typeof MessageChannel==""+c?d:((j=new MessageChannel).port1.onmessage=function(at){at.data==""&&tt()},function(at){tt=at,j.port2.postMessage("")})}(),$=d.check=d.check||typeof performance!=""+c&&performance||{now:function(){return+new Date}};d.hold=d.hold||9,d.poll=d.poll||function(j){if(d.hold>=$.now()-h&&g++<3333){j();return}b(function(){h=$.now(),j()},g=0)}}(),function(){var c=setTimeout,d=c.turn=c.turn||function(tt){h.push(tt)==1&&g(j)},h=d.s=[],g=c.poll,b=0,$,j=function(){($=h[b++])&&$(),(b==h.length||b==99)&&(h=d.s=h.slice(b),b=0),h.length&&g(j)}}(),function(){var c,d=setTimeout,h=d.turn;(d.each=d.each||function(g,b,$,j){j=j||9,function tt(at,_,ot){if(_=(at=(g||[]).splice(0,j)).length){for(var ut=0;ut<_&&c===(ot=b(at[ut]));ut++);if(c===ot){h(tt);return}}$&&$(ot)}()})()}()})(o,"./shim"),o(function(s){s.exports=function a($,d,h){if(!$)return{to:a};var g,b=typeof d=="function",$=(this.tag||(this.tag={}))[$]||b&&(this.tag[$]={tag:$,to:a._={next:function(tt){var at;(at=this.to)&&at.next(tt)}}});if(b){var j={off:a.off||(a.off=function(){if(this.next===a._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=a._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:a._,next:d,the:$,on:this,as:h};return(j.back=$.last||$).to=j,$.last=j}return($=$.to)&&g!==d&&$.next(d),$}})(o,"./onto"),o(function(s){s.exports=function(a){return a===null||typeof a=="string"||typeof a=="boolean"||typeof a=="number"&&a!=1/0&&a!=-1/0&&a===a||!!a&&typeof a["#"]=="string"&&Object.keys(a).length===1&&a["#"]}})(o,"./valid"),o(function(s){o("./shim");function a(){var $=+new Date;return g<$?(d=0,g=$+a.drift):g=$+(d+=1)/h+a.drift}a.drift=0;var c=-1/0,d=0,h=999,g=c,b;a.is=function($,j,tt){var at=j&&$&&$._&&$._[">"]||tt;if(at)return typeof(at=at[j])=="number"?at:c},a.ify=function($,j,tt,at,_){($=$||{})._=$._||{},_&&($._["#"]=_);var ot=$._[">"]||($._[">"]={});return b!==j&&j!=="_"&&(typeof tt=="number"&&(ot[j]=tt),b!==at&&($[j]=at)),$},s.exports=a})(o,"./state"),o(function(s){o("./shim");function a(c){var d={s:{}},h=d.s;c=c||{max:999,age:1e3*9},d.check=function(b){return h[b]?g(b):!1};var g=d.track=function(b){var $=h[b]||(h[b]={});return $.was=d.now=+new Date,d.to||(d.to=setTimeout(d.drop,c.age+9)),g.ed&&g.ed(b),$};return d.drop=function(b){d.to=null,d.now=+new Date;var $=Object.keys(h);console.STAT&&console.STAT(d.now,+new Date-d.now,"dup drop keys"),setTimeout.each($,function(j){var tt=h[j];tt&&(b||c.age)>d.now-tt.was||delete h[j]},0,99)},d}s.exports=a})(o,"./dup"),o(function(s){o("./onto"),s.exports=function(d,h){if(this.on){var g=(this.opt||{}).lack||9e3;if(typeof d!="function"){if(!d)return;var $=d["#"]||d,b=(this.tag||"")[$];return b?(h&&(b=this.on($,h),clearTimeout(b.err),b.err=setTimeout(function(){b.off()},g)),!0):void 0}var $=h&&h["#"]||a(9);if(!d)return $;var j=this.on($,d,h);return j.err=j.err||setTimeout(function(){j.off(),j.next({err:"Error: No ACK yet.",lack:!0})},g),$}};var a=String.random||function(){return Math.random().toString(36).slice(2)}})(o,"./ask"),o(function(s){function a(_){return _ instanceof a?(this._={$:this}).$:this instanceof a?a.create(this._={$:this,opt:_}):new a(_)}a.is=function(_){return _ instanceof a||_&&_._&&_===_._.$||!1},a.version=.202,a.chain=a.prototype,a.chain.toJSON=function(){},o("./shim"),a.valid=o("./valid"),a.state=o("./state"),a.on=o("./onto"),a.dup=o("./dup"),a.ask=o("./ask"),function(){a.create=function(ct){ct.root=ct.root||ct,ct.graph=ct.graph||{},ct.on=ct.on||a.on,ct.ask=ct.ask||a.ask,ct.dup=ct.dup||a.dup();var yt=ct.$.opt(ct.opt);return ct.once||(ct.on("in",_,ct),ct.on("out",_,ct),ct.on("put",nt,ct),a.on("create",ct),ct.on("create",ct)),ct.once=1,yt};function _(ct){if(ct){if(ct.out===_){this.to.next(ct);return}var yt=this,gt=yt.as,St=gt.at||gt,bt=St.$,ht=St.dup,mt,vt=ct.DBG;if((mt=ct["#"])||(mt=ct["#"]=d(9)),!ht.check(mt)){if(ht.track(mt),mt=ct._,ct._=typeof mt=="function"?mt:function(){},ct.$&&ct.$===(ct.$._||"").$||(ct.$=bt),ct["@"]&&!ct.put&&_e(ct),!St.ask(ct["@"],ct))if(vt&&(vt.u=+new Date),ct.put){ot(ct);return}else ct.get&&a.on.get(ct,bt);vt&&(vt.uc=+new Date),yt.to.next(ct),vt&&(vt.ua=+new Date),!(ct.nts||ct.NTS)&&(ct.out=_,St.on("out",ct),vt&&(vt.ue=+new Date))}}}function ot(ct){if(ct){var yt=ct._||"",gt=yt.root=((yt.$=ct.$||"")._||"").root;if(ct["@"]&&yt.faith&&!yt.miss){ct.out=_,gt.on("out",ct);return}yt.latch=gt.hatch,yt.match=gt.hatch=[];var St=ct.put,bt=yt.DBG=ct.DBG,ht=+new Date;if($t=$t||ht,!(St["#"]&&St["."])){bt&&(bt.p=ht),yt["#"]=ct["#"],yt.msg=ct,yt.all=0,yt.stun=1;var mt=Object.keys(St);console.STAT&&console.STAT(ht,((bt||yt).pk=+new Date)-ht,"put sort");var vt=0,Et,xt,Tt,Ct,Dt,At,Ut;(function Rt(Vt){if(Et!=vt){if(Et=vt,!(Tt=mt[vt])){console.STAT&&console.STAT(ht,((bt||yt).pd=+new Date)-ht,"put"),et(yt);return}(Ct=St[Tt])?(Ut=Ct._)?Tt!==Ut["#"]?At=it+lt(Tt)+"soul not same.":(Dt=Ut[">"])||(At=it+lt(Tt)+"no state."):At=it+lt(Tt)+"no meta.":At=it+lt(Tt)+"no node.",xt=Object.keys(Ct||{})}if(At){ct.err=yt.err=At,et(yt);return}var Kt=0,Mt;for(Vt=Vt||0;Vt++<9&&(Mt=xt[Kt++]);)if(Mt!=="_"){var Ht=Ct[Mt],qt=Dt[Mt];if(j===qt){At=it+lt(Mt)+"on"+lt(Tt)+"no state.";break}if(!g(Ht)){At=it+lt(Mt)+"on"+lt(Tt)+"bad "+typeof Ht+lt(Ht);break}ut(Ht,Mt,Tt,qt,ct),++wt}if((xt=xt.slice(Kt)).length){h(Rt);return}++vt,xt=null,Rt(Vt)})()}}}a.on.put=ot;function ut(ct,yt,gt,St,bt){var ht=bt._||"",mt=ht.root,vt=mt.graph,Et,xt=vt[gt]||tt,Tt=b(xt,yt,1),Ct=xt[yt],Dt=ht.DBG;(Et=console.STAT)&&(!vt[gt]||!Ct)&&(Et.has=(Et.has||0)+1);var At=pt();if(St>At){setTimeout(function(){ut(ct,yt,gt,St,bt)},(Et=St-At)>ft?ft:Et),console.STAT&&console.STAT((Dt||ht).Hf=+new Date,Et,"future");return}if(!(St<Tt)&&!(!ht.faith&&St===Tt&&(ct===Ct||st(ct)<=st(Ct))&&!ht.miss)){ht.stun++;var Ut=bt["#"]+ht.all++,Rt={toString:function(){return Ut},_:ht};Rt.toJSON=Rt.toString,mt.dup.track(Rt)["#"]=bt["#"],Dt&&(Dt.ph=Dt.ph||+new Date),mt.on("put",{"#":Rt,"@":bt["@"],put:{"#":gt,".":yt,":":ct,">":St},ok:bt.ok,_:ht})}}function nt(ct){var yt;(yt=(ct._||"").DBG)&&(yt.pa=+new Date,yt.pm=yt.pm||+new Date);var gt=this,St=gt.as,bt=St.graph,ht=ct._,mt=ct.put,vt=mt["#"],Et=mt["."],xt=mt[":"],Tt=mt[">"];ct["#"];var Ct;(Ct=ht.msg)&&(Ct=Ct.put)&&(Ct=Ct[vt])&&$(Ct,Et,Tt,xt,vt),bt[vt]=$(bt[vt],Et,Tt,xt,vt),(Ct=(St.next||"")[vt])&&Ct.on("in",ct),et(ht),gt.to.next(ct)}function et(ct,yt){var gt;if(!ct.stop&&!(!ct.err&&0<--ct.stun)&&(ct.stop=1,!!(gt=ct.root))){var St=ct.match;St.end=1,St===gt.hatch&&(!(St=ct.latch)||St.end?delete gt.hatch:gt.hatch=St),ct.hatch&&ct.hatch(),setTimeout.each(ct.match,function(bt){bt&&bt()}),!(!(yt=ct.msg)||ct.err||yt.err)&&(yt.out=_,ct.root.on("out",yt),dt())}}function _e(ct){var yt=ct["@"]||"",gt;if(!(gt=yt._)){var St=(St=ct.$)&&(St=St._)&&(St=St.root)&&(St=St.dup);if(!(St=St.check(yt)))return;ct["@"]=St["#"]||ct["@"];return}gt.acks=(gt.acks||0)+1,(gt.err=ct.err)&&(ct["@"]=gt["#"],et(gt)),gt.ok=ct.ok||gt.ok,!gt.stop&&!gt.crack&&(gt.crack=gt.match&&gt.match.push(function(){rt(gt)})),rt(gt)}function rt(ct){!ct||!ct.root||ct.stun||ct.acks!==ct.all||ct.root.on("in",{"@":ct["#"],err:ct.err,ok:ct.err?j:ct.ok||{"":1}})}var it="Error: Invalid graph!",lt=function(ct){return" '"+(""+ct).slice(0,9)+"...' "},st=JSON.stringify,ft=2147483647,pt=a.state,wt=0,$t,dt=function(){wt>999&&wt/-($t-($t=+new Date))>1&&(a.window&&console.log("Warning: You're syncing 1K+ records a second, faster than DOM can update - consider limiting query."),dt=function(){wt=0})}}(),function(){a.on.get=function(ot,ut){var nt=ut._,et=ot.get,_e=et["#"],rt=nt.graph[_e],it=et["."],lt=nt.next||(nt.next={}),st=lt[_e],ft=ot._||{},pt=ft.DBG=ot.DBG;if(pt&&(pt.g=+new Date),!rt)return nt.on("get",ot);if(it){if((typeof it!="string"||j===rt[it])&&!((st||"").next||"")[it]){nt.on("get",ot);return}rt=$({},it,b(rt,it),rt[it],_e)}rt&&_(ot,rt),nt.on("get",ot)};function _(ot,ut){var nt=+new Date,et=ot._||{},_e=et.DBG=ot.DBG,rt=ot["#"],it=d(9),lt=Object.keys(ut||"").sort(),st=((ut||"")._||"")["#"];lt.length;var ft=ot.$._.root,pt=ut===ft.graph[st];console.STAT&&console.STAT(nt,((_e||et).gk=+new Date)-nt,"got keys"),ut&&function wt(){nt=+new Date;for(var $t=0,dt,ct={},yt;$t<9&&(dt=lt[$t++]);)$(ct,dt,b(ut,dt),ut[dt],st);lt=lt.slice($t),(yt={})[st]=ct,ct=yt;var gt;pt&&(gt=function(){},gt.ram=gt.faith=!0),yt=lt.length,console.STAT&&console.STAT(nt,-(nt-(nt=+new Date)),"got copied some"),_e&&(_e.ga=+new Date),ft.on("in",{"@":rt,"#":it,put:ct,"%":yt?it=d(9):j,$:ft.$,_:gt,DBG:_e,FOO:1}),console.STAT&&console.STAT(nt,+new Date-nt,"got in"),yt&&setTimeout.turn(wt)}(),ut||ft.on("in",{"@":ot["#"]})}a.on.get.ack=_}(),function(){a.chain.opt=function(_){_=_||{};var ot=this,ut=ot._,nt=_.peers||_;return Object.plain(_)||(_={}),Object.plain(ut.opt)||(ut.opt=_),typeof nt=="string"&&(nt=[nt]),Object.plain(ut.opt.peers)||(ut.opt.peers={}),nt instanceof Array&&(_.peers={},nt.forEach(function(et){var _e={};_e.id=_e.url=et,_.peers[et]=ut.opt.peers[et]=ut.opt.peers[et]||_e})),c(_,function et(_e){var rt=this[_e];if(this&&this.hasOwnProperty(_e)||typeof rt=="string"||Object.empty(rt)){this[_e]=rt;return}rt&&rt.constructor!==Object&&!(rt instanceof Array)||c(rt,et)}),ut.opt.from=_,a.on("opt",ut),ut.opt.uuid=ut.opt.uuid||function(_e){return a.state().toString(36).replace(".","")+String.random(_e||12)},ot}}();var c=function(_,ot){Object.keys(_).forEach(ot,_)},d=String.random,h=setTimeout.turn,g=a.valid,b=a.state.is,$=a.state.ify,j,tt={},at;a.log=function(){return!a.log.off&&at.log.apply(at,arguments),[].slice.call(arguments).join(" ")},a.log.once=function(_,ot,ut){return(ut=a.log.once)[_]=ut[_]||0,ut[_]++||a.log(ot)},typeof window<"u"&&((window.GUN=window.Gun=a).window=window);try{typeof i<"u"&&(i.exports=a)}catch{}s.exports=a,(a.window||{}).console=(a.window||{}).console||{log:function(){}},(at=console).only=function(_,ot){return at.only.i&&_===at.only.i&&at.only.i++&&(at.log.apply(at,arguments)||ot)},a.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")})(o,"./root"),o(function(s){var a=o("./root");a.chain.back=function(h,g){var b;if(h=h||1,h===-1||h===1/0)return this._.root.$;if(h===1)return(this._.back||this._).$;var $=this,j=$._;if(typeof h=="string"&&(h=h.split(".")),h instanceof Array){var tt=0,at=h.length,b=j;for(tt;tt<at;tt++)b=(b||c)[h[tt]];return d!==b?g?$:b:(b=j.back)?b.$.back(h,g):void 0}if(typeof h=="function"){for(var _,b={back:j};(b=b.back)&&d===(_=h(b,g)););return _}return typeof h=="number"?(j.back||j).$.back(h-1):this};var c={},d})(o,"./back"),o(function(s){var a=o("./root");a.chain.chain=function(et){var _e=this,rt=_e._,it=new(et||_e).constructor(_e),lt=it._,st;return lt.root=st=rt.root,lt.id=++st.once,lt.back=_e._,lt.on=a.on,lt.on("in",a.on.in,lt),lt.on("out",a.on.out,lt),it};function c(et){var _e,rt=this.as,it=rt.back,lt=rt.root,st;if(et.$||(et.$=rt.$),this.to.next(et),rt.err){rt.on("in",{put:rt.put=j,$:rt.$});return}if(_e=et.get){if(lt.pass&&(lt.pass[rt.id]=rt),rt.lex&&Object.keys(rt.lex).forEach(function(ft){st[ft]=rt.lex[ft]},st=et.get=et.get||{}),_e["#"]||rt.soul){if(_e["#"]=_e["#"]||rt.soul,et["#"]||(et["#"]=tt(9)),it=lt.$.get(_e["#"])._,_e=_e["."]){if(_(it.put,_e)&&(st=it.ask&&it.ask[_e],(it.ask||(it.ask={}))[_e]=it.$.get(_e)._,it.on("in",{get:_e,put:{"#":it.soul,".":_e,":":it.put[_e],">":ut(lt.graph[it.soul],_e)}}),st))return}else{if(st=it.ask&&it.ask[""],(it.ask||(it.ask={}))[""]=it,j!==it.put&&(it.on("in",it),st))return;et.$=it.$}return lt.ask(b,et),lt.on("in",et)}if(_e["."])return rt.get?(et={get:{".":rt.get},$:rt.$},(it.ask||(it.ask={}))[rt.get]=et.$._,it.on("out",et)):(et={get:rt.lex?et.get:{},$:rt.$},it.on("out",et));if((rt.ask||(rt.ask={}))[""]=rt,rt.get)return _e["."]=rt.get,(it.ask||(it.ask={}))[rt.get]=et.$._,it.on("out",et)}return it.on("out",et)}a.on.out=c;function d(et,_e){_e=_e||this.as;var rt=_e.root,it=et.$||(et.$=_e.$),lt=(it||"")._||$,st=et.put||"",ft=st["#"],pt=st["."],wt=j!==st["="]?st["="]:st[":"],$t=st[">"]||-1/0,dt;if(j!==et.put&&(j===st["#"]||j===st["."]||j===st[":"]&&j===st["="]||j===st[">"])){if(!at(st)){if(!(ft=((st||"")._||"")["#"])){console.log("chain not yet supported for",st,"...",et,_e);return}return it=_e.root.$.get(ft),setTimeout.each(Object.keys(st).sort(),function(ct){ct=="_"||j===($t=ut(st,ct))||_e.on("in",{$:it,put:{"#":ft,".":ct,"=":st[ct],">":$t},VIA:et})})}_e.on("in",{$:lt.back.$,put:{"#":ft=lt.back.soul,".":pt=lt.has||lt.get,"=":st,">":ut(lt.back.put,pt)},via:et});return}(et.seen||"")[_e.id]||((et.seen||(et.seen=function(){}))[_e.id]=_e,_e!==lt&&(Object.keys(et).forEach(function(ct){st[ct]=et[ct]},st={}),st.get=_e.get||st.get,!_e.soul&&!_e.has?st.$$$=st.$$$||_e.$:lt.soul&&(st.$=_e.$,st.$$=st.$$||lt.$),et=st),g(et,_e),(_e.soul||et.$$)&&$t>=ut(rt.graph[ft],pt)&&((st=rt.$.get(ft)._).put=nt(st.put,pt,$t,wt,ft)),!lt.soul&&$t>=ut(rt.graph[ft],pt)&&(dt=(rt.$.get(ft)._.next||"")[pt])&&(dt.put=wt,typeof(st=at(wt))=="string"&&(dt.put=rt.$.get(st)._.put||wt)),this.to&&this.to.next(et),_e.any&&setTimeout.each(Object.keys(_e.any),function(ct){(ct=_e.any[ct])&&ct(et)},0,99),_e.echo&&setTimeout.each(Object.keys(_e.echo),function(ct){(ct=_e.echo[ct])&&ct.on("in",et)},0,99),((et.$$||"")._||lt).soul&&(dt=_e.next)&&(dt=dt[pt])&&(st={},Object.keys(et).forEach(function(ct){st[ct]=et[ct]}),st.$=(et.$$||et.$).get(st.get=pt),delete st.$$,delete st.$$$,dt.on("in",st)),h(et,_e))}a.on.in=d;function h(et,_e){if(_e=_e||this.as||et.$._,!(et.$$&&this!==a.on)&&!(!et.put||_e.soul)){var rt=et.put||"",it=rt["="]||rt[":"],pt,lt=_e.root,st=lt.$.get(rt["#"]).get(rt["."])._;if(typeof(it=at(it))!="string"){this===a.on&&((st.echo||(st.echo={}))[_e.id]=_e);return}if(!((st.echo||(st.echo={}))[_e.id]&&!(lt.pass||"")[_e.id])){if(pt=lt.pass){if(pt[it+_e.id])return;pt[it+_e.id]=1}(st.echo||(st.echo={}))[_e.id]=_e,_e.has&&(_e.link=it);var ft=lt.$.get(st.link=it)._;(ft.echo||(ft.echo={}))[st.id]=st;var pt=_e.ask||"";(pt[""]||_e.lex)&&ft.on("out",{get:{"#":it}}),setTimeout.each(Object.keys(pt),function(wt,$t){!wt||!($t=pt[wt])||$t.on("out",{get:{"#":it,".":wt}})},0,99)}}}a.on.link=h;function g(et,_e){var rt=et.put||"",it=j!==rt["="]?rt["="]:rt[":"],lt=_e.root,st,ft;if(j===it){if(_e.soul&&j!==_e.put||(ft=(et.$$||et.$||"")._||"",et["@"]&&(j!==ft.put||j!==_e.put)))return;(st=_e.link||et.linked)&&delete(lt.$.get(st)._.echo||"")[_e.id],_e.has&&(_e.link=null),_e.put=j,setTimeout.each(Object.keys(_e.next||""),function(pt,wt){(wt=_e.next[pt])&&(st&&delete(lt.$.get(st).get(pt)._.echo||"")[wt.id],wt.on("in",{get:pt,put:j,$:wt.$}))},0,99);return}_e.soul||et.$$||(st=at(it),ft=et.$._||"",!((st===ft.link||_e.has&&!ft.link)&&!((lt.pass||"")[_e.id]&&typeof st!="string"))&&(delete(ft.echo||"")[_e.id],g({get:_e.get,put:j,$:et.$,linked:et.linked=et.linked||ft.link},_e)))}a.on.unlink=g;function b(et,_e){var rt=this.as,it=rt.$._;it.root;var lt=rt.get||"",st=(et.put||"")[lt["#"]]||"";if(!et.put||typeof lt["."]=="string"&&j===st[lt["."]]){if(j!==it.put||!it.soul&&!it.has)return;it.ack=(it.ack||0)+1,it.on("in",{get:it.get,put:it.put=j,$:it.$,"@":et["@"]});return}(et._||{}).miss=1,a.on.put(et)}var $={},j,tt=String.random,at=a.valid,_=function(et,_e){return et&&Object.prototype.hasOwnProperty.call(et,_e)},ot=a.state,ut=ot.is,nt=ot.ify})(o,"./chain"),o(function(s){var a=o("./root");a.chain.get=function(j,tt,at){var _,ot;if(typeof j=="string"){if(j.length==0)return(_=this.chain())._.err={err:a.log("0 length key!",j)},tt&&tt.call(_,_._.err),_;var ut=this,nt=ut._,et=nt.next||g;(_=et[j])||(_=j&&c(j,ut)),_=_&&_.$}else if(typeof j=="function"){let pt=function(wt,$t,dt){if(!pt.stun&&!((ht=rt.pass)&&!ht[it])){var ct=wt.$._,yt=(wt.$$||"")._,gt=(yt||ct).put,St=!ct.has&&!ct.soul,bt={},ht;if((St||$===gt)&&(gt=$===((ht=wt.put)||"")["="]?$===(ht||"")[":"]?ht:ht[":"]:ht["="]),typeof(ht=a.valid(gt))=="string"&&(gt=$===(ht=rt.$.get(ht)._.put)?_e.not?$:gt:ht),!(_e.not&&$===gt)){if($===_e.stun){if((ht=rt.stun)&&ht.on&&(nt.$.back(function(mt){if(ht.on(""+mt.id,bt={}),(bt.run||0)<pt.id)return bt}),!bt.run&&ht.on(""+ct.id,bt={}),!bt.run&&yt&&ht.on(""+yt.id,bt={}),pt.id>bt.run&&((!bt.stun||bt.stun.end)&&(bt.stun=ht.on("stun"),bt.stun=bt.stun&&bt.stun.last),bt.stun&&!bt.stun.end))){(bt.stun.add||(bt.stun.add={}))[it]=function(){pt(wt,$t,1)};return}if($===gt&&(dt=0),(ht=rt.hatch)&&!ht.end&&$===_e.hatch&&!dt){if(lt[ct.$._.id])return;lt[ct.$._.id]=1,ht.push(function(){pt(wt,$t,1)});return}lt={}}if(rt.pass){if(rt.pass[it+ct.id])return;rt.pass[it+ct.id]=1}if(_e.on){_e.ok.call(ct.$,gt,ct.get,wt,$t||pt);return}if(_e.v2020){_e.ok(wt,$t||pt);return}Object.keys(wt).forEach(function(mt){ht[mt]=wt[mt]},ht={}),wt=ht,wt.put=gt,_e.ok.call(_e.as,wt,$t||pt)}}};var st=pt;if(tt===!0)return d(this,j,tt,at),this;_=this;var nt=_._,_e=tt||{},rt=nt.root,it;_e.at=nt,_e.ok=j;var lt={};return pt.at=nt,(nt.any||(nt.any={}))[it=String.random(7)]=pt,pt.off=function(){pt.stun=1,nt.any&&delete nt.any[it]},pt.rid=h,pt.id=_e.run||++rt.once,ot=rt.pass,(rt.pass={})[it]=1,_e.out=_e.out||{get:{}},nt.on("out",_e.out),rt.pass=ot,_}else{if(typeof j=="number")return this.get(""+j,tt,at);if(typeof(ot=b(j))=="string")return this.get(ot,tt,at);(ot=this.get.next)&&(_=ot(this,j))}return _?(tt&&typeof tt=="function"&&_.get(tt,at),_):((_=this.chain())._.err={err:a.log("Invalid get request!",j)},tt&&tt.call(_,_._.err),_)};function c(j,tt){var at=tt._,_=at.next,ot=tt.chain(),ut=ot._;return _||(_=at.next={}),_[ut.get=j]=ut,tt===at.root.$?ut.soul=j:(at.soul||at.has)&&(ut.has=j),ut}function d(j,tt,at,_){var ot=j._,ut=0,nt;return(nt=ot.soul||ot.link)?tt(nt,_,ot):ot.jam?ot.jam.push([tt,_]):(ot.jam=[[tt,_]],j.get(function(_e,rt){if(!($===_e.put&&!ot.root.opt.super&&(nt=Object.keys(ot.root.opt.peers).length)&&++ut<=nt)){rt.rid(_e);var it=(it=_e.$)&&it._||{},lt=0,st;for(nt=ot.jam,delete ot.jam;st=nt[lt++];){var ft=st[0];st=st[1],ft&&ft(it.link||it.soul||a.valid(_e.put)||((_e.put||{})._||{})["#"],st,_e,rt)}}},{out:{get:{".":!0}}}),j)}function h(j){var tt=this.at||this.on;if(!j||tt.soul||tt.has)return this.off();if(j=(j=(j=j.$||j)._||j).id){tt.map;var at;if((at=this.seen||(this.seen={}))[j])return!0;at[j]=!0}}var g={},b=a.valid,$})(o,"./get"),o(function(s){var a=o("./root");a.chain.put=function(_,ot,ut){var nt=this,et=nt._,_e=et.root;ut=ut||{},ut.root=et.root,ut.run||(ut.run=_e.once),c(ut,et.id),ut.ack=ut.ack||ot,ut.via=ut.via||nt,ut.data=ut.data||_,ut.soul||(ut.soul=et.soul||typeof ot=="string"&&ot);var rt=ut.state=ut.state||a.state();return typeof _=="function"?(_(function(it){ut.data=it,nt.put(b,b,ut)}),nt):ut.soul?(ut.$=_e.$.get(ut.soul),ut.todo=[{it:ut.data,ref:ut.$}],ut.turn=ut.turn||j,ut.ran=ut.ran||d,function it(){var lt=ut.todo,st=lt.pop(),ft=st.it;st.ref&&st.ref._.id;var pt,wt,$t,dt,ct;if(c(ut,st.ref),(dt=st.todo)&&(wt=dt.pop(),ft=ft[wt],dt.length&&lt.push(st)),wt&&(lt.path||(lt.path=[])).push(wt),!(pt=tt(ft))&&!(ct=a.is(ft))){if(!Object.plain(ft)){d.err(ut,"Invalid data: "+g(ft)+" at "+(ut.via.back(function(ht){ht.get&&dt.push(ht.get)},dt=[])||dt.join("."))+"."+(lt.path||[]).join("."));return}for(var yt=ut.seen||(ut.seen=[]),gt=yt.length;gt--;)if(ft===(dt=yt[gt]).it){pt=ft=dt.link;break}}if(wt&&pt)st.node=at(st.node,wt,rt,ft);else{let ht=function(mt,vt){var Et=$t.link["#"];vt&&(vt.off(),vt.rid(mt));var xt=Et||mt.soul||(dt=(mt.$$||mt.$)._||"").soul||dt.link||((dt=dt.put||"")._||"")["#"]||dt["#"]||((dt=mt.put||"")&&mt.$$?dt["#"]:(dt["="]||dt[":"]||"")["#"]);if(!Et&&c(ut,mt.$),!xt&&!st.link["#"]){(st.wait||(st.wait=[])).push(function(){ht(mt,vt)});return}xt||(xt=[],(mt.$$||mt.$).back(function(Tt){if(dt=Tt.soul||Tt.link)return xt.push(dt);xt.push(Tt.get)}),xt=xt.reverse().join("/")),$t.link["#"]=xt,!ct&&(((ut.graph||(ut.graph={}))[xt]=$t.node||($t.node={_:{}}))._["#"]=xt),delete ut.wait[St],$t.wait&&setTimeout.each($t.wait,function(Tt){Tt&&Tt()}),ut.ran(ut)};var bt=ht;if(!ut.seen){d.err(ut,"Data at root of graph must be a node (an object).");return}ut.seen.push($t={it:ft,link:{},todo:ct?[]:Object.keys(ft).sort().reverse(),path:(lt.path||[]).slice(),up:st}),st.node=at(st.node,wt,rt,$t.link),!ct&&$t.todo.length&&lt.push($t);var St=ut.seen.length;(ut.wait||(ut.wait={}))[St]="",dt=($t.ref=ct?ft:wt?st.ref.get(wt):st.ref)._,(dt=ft&&(ft._||"")["#"]||dt.soul||dt.link)?ht({soul:dt}):$t.ref.get(ht,{run:ut.run,v2020:1,out:{get:{".":" "}}})}if(!lt.length)return ut.ran(ut);ut.turn(it)}(),nt):(h(ut),nt)};function c(_,ot){if(ot){ot=(ot._||"").id||ot;var ut=_.root.stun||(_.root.stun={on:a.on}),nt={},et;_.stun||(_.stun=ut.on("stun",function(){})),(et=ut.on(""+ot))&&et.the.last.next(nt),!(nt.run>=_.run)&&ut.on(""+ot,function(_e){if(_.stun.end){this.off(),this.to.next(_e);return}_e.run=_e.run||_.run,_e.stun=_e.stun||_.stun})}}function d(_){if(_.err){d.end(_.stun,_.root);return}if(!(_.todo.length||_.end||!Object.empty(_.wait))){_.end=1;var ot=_.$.back(-1)._,ut=ot.root,nt=ot.ask(function(it){ut.on("ack",it),it.err&&!it.lack&&a.log(it),++et>(_.acks||0)&&this.off(),_.ack&&_.ack(it,this)},_.opt),et=0,_e=_.stun,rt;(rt=function(){_e&&(d.end(_e,ut),setTimeout.each(Object.keys(_e=_e.add||""),function(it){(it=_e[it])&&it()}))}).hatch=rt,_.ack&&!_.ok&&(_.ok=_.acks||9),_.via._.on("out",{put:_.out=_.graph,ok:_.ok&&{"@":_.ok+1},opt:_.opt,"#":nt,_:rt})}}d.end=function(_,ot){_.end=$,_.the.to===_&&_===_.the.last&&delete ot.stun,_.off()},d.err=function(_,ot){(_.ack||$).call(_,_.out={err:_.err=a.log(ot)}),_.ran(_)};function h(_){var ot=_.via._,ut;_.via=_.via.back(function(nt){if(nt.soul||!nt.get)return nt.$;ut=_.data,(_.data={})[nt.get]=ut}),(!_.via||!_.via._.soul)&&(_.via=ot.root.$.get(((_.data||"")._||"")["#"]||ot.$.back("opt.uuid")())),_.via.put(_.data,_.ack,_)}function g(_,ot){return _&&(ot=_.constructor)&&ot.name||typeof _}var b,$=function(){},j=setTimeout.turn,tt=a.valid,at=a.state.ify})(o,"./put"),o(function(s){var a=o("./root");o("./chain"),o("./back"),o("./put"),o("./get"),s.exports=a})(o,"./index"),o(function(s){var a=o("./index");a.chain.on=function(h,g,b,$){var j=this,tt=j._;tt.root;var at;if(typeof h=="string")return g?(at=tt.on(h,g,b||tt,$),b&&b.$&&(b.subs||(b.subs=[])).push(at),j):tt.on(h);var _=g;return(_=_===!0?{change:!0}:_||{}).not=1,_.on=1,j.get(h,_),j},a.chain.once=function(h,g){if(g=g||{},!h)return c(this);var b=this,$=b._,j=$.root;$.put;var tt=String.random(7),at;return b.get(function(_,ot,ut,nt){var et=this,_e=et._,rt=_e.one||(_e.one={});if(nt.stun||rt[tt]==="")return;if((at=a.valid(_))===!0){it();return}if(typeof at=="string")return;clearTimeout(($.one||"")[tt]),clearTimeout(rt[tt]),rt[tt]=setTimeout(it,g.wait||99);function it(lt){if(!_e.has&&!_e.soul&&(_e={put:_,get:ot}),d===(at=_e.put)&&(at=((ut.$$||"")._||"").put),typeof a.valid(at)=="string"&&(at=j.$.get(at)._.put,at===d&&!lt)){rt[tt]=setTimeout(function(){it(1)},g.wait||99);return}nt.stun||rt[tt]!==""&&(rt[tt]="",($.soul||$.has)&&nt.off(),h.call(et,at,_e.get),clearTimeout(rt[tt]))}},{on:1}),b};function c(h,g,b){return a.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(b=h.chain())._.nix=h.once(function($,j){b._.on("in",this._)}),b._.lex=h._.lex,b}a.chain.off=function(){var h=this,g=h._,b,$=g.back;if($)return g.ack=0,(b=$.next)&&b[g.get]&&delete b[g.get],(b=$.any)&&(delete $.any,$.any={}),(b=$.ask)&&delete b[g.get],(b=$.put)&&delete b[g.get],(b=g.soul)&&delete $.root.graph[b],(b=g.map)&&Object.keys(b).forEach(function(j,tt){tt=b[j],tt.link&&$.root.$.get(tt.link).off()}),(b=g.next)&&Object.keys(b).forEach(function(j,tt){tt=b[j],tt.$.off()}),g.on("off",{}),h};var d})(o,"./on"),o(function(s){var a=o("./index"),c=a.chain.get.next;a.chain.get.next=function(b,$){var j;return Object.plain($)?(j=((j=$["#"])||"")["="]||j)?b.get(j):((j=b.chain()._).lex=$,b.on("in",function(tt){String.match(tt.get||(tt.put||"")["."],$["."]||$["#"]||$)&&j.on("in",tt),this.to.next(tt)}),j.$):(c||h)(b,$)},a.chain.map=function(b,$,j){var tt=this,at=tt._,_,ot;return Object.plain(b)&&(_=b["."]?b:{".":b},b=g),b?(a.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),ot=tt.chain(),tt.map().on(function(ut,nt,et,_e){var rt=(b||h).call(this,ut,nt,et,_e);if(g!==rt){if(ut===rt)return ot._.on("in",et);if(a.is(rt))return ot._.on("in",rt._);var it={};Object.keys(et.put).forEach(function(lt){it[lt]=et.put[lt]},it),it["="]=rt,ot._.on("in",{get:nt,put:it})}}),ot):((ot=at.each)||((at.each=ot=tt.chain())._.lex=_||ot._.lex||at.lex,ot._.nix=tt.back("nix"),tt.on("in",d,ot._)),ot)};function d(b){this.to.next(b);var $=this.as,j=b.$,tt=j._,at=b.put,_;!tt.soul&&!b.$$||(_=$.lex)&&!String.match(b.get||(at||"")["."],_["."]||_["#"]||_)||a.on.link(b,$)}var h=function(){},g})(o,"./map"),o(function(s){var a=o("./index");a.chain.set=function(c,d,h){var g=this,b=g.back(-1),$,j;return d=d||function(){},h=h||{},h.item=h.item||c,($=((c||"")._||"")["#"])&&((c={})["#"]=$),typeof(j=a.valid(c))=="string"?g.get($=j).put(c,d,h):a.is(c)?(g.put(function(tt){c.get(function(at,_,ot){if(!at)return d.call(g,{err:a.log('Only a node can be linked! Not "'+ot.put+'"!')});(j={})[at]={"#":at},tt(j)},!0)}),c):(Object.plain(c)&&(c=b.get($=g.back("opt.uuid")()).put(c)),g.get($||b.back("opt.uuid")(7)).put(c,d,h))}})(o,"./set"),o(function(s){o("./shim");var a=function(){},c=JSON.parseAsync||function(b,$,j){var tt,at=+new Date;try{$(tt,JSON.parse(b,j),d.sucks(+new Date-at))}catch(_){$(_)}},d=JSON.stringifyAsync||function(b,$,j,tt){var at,_=+new Date;try{$(at,JSON.stringify(b,j,tt),d.sucks(+new Date-_))}catch(ot){$(ot)}};d.sucks=function(b){b>99&&(console.log("Warning: JSON blocking CPU detected. Add `gun/lib/yson.js` to fix."),d.sucks=a)};function h(b){var $=function(){},j=b.opt||{};j.log=j.log||console.log,j.gap=j.gap||j.wait||0,j.max=j.max||(j.memory?j.memory*999*999:3e8)*.3,j.pack=j.pack||j.max*.01*.01,j.puff=j.puff||9;var tt=setTimeout.turn||setTimeout,at=b.dup,_=at.check,ot=at.track,ut=$.hear=function(_e,rt){if(_e){if(j.max<=_e.length)return $.say({dam:"!",err:"Message too big!"},rt);$===this&&(ut.d+=_e.length||0,++ut.c);var it=rt.SH=+new Date,lt=_e[0],st;if(lt==="["){c(_e,function(ft,pt){if(ft||!pt)return $.say({dam:"!",err:"DAM JSON parse error."},rt);console.STAT&&console.STAT(+new Date,pt.length,"# on hear batch");var wt=j.puff;(function $t(){for(var dt=+new Date,ct=0,yt;ct<wt&&(yt=pt[ct++]);)$.hear(yt,rt);pt=pt.slice(ct),console.STAT&&console.STAT(dt,+new Date-dt,"hear loop"),nt(rt),pt.length&&tt($t,0)})()}),_e="";return}if(lt==="{"||(_e["#"]||Object.plain(_e))&&(st=_e)){if(st)return ut.one(st,rt,it);c(_e,function(ft,pt){if(ft||!pt)return $.say({dam:"!",err:"DAM JSON parse error."},rt);ut.one(pt,rt,it)});return}}};ut.one=function(_e,rt,$t){var lt,st,ft,pt,wt;if(_e.DBG&&(_e.DBG=wt={DBG:_e.DBG}),wt&&(wt.h=$t),wt&&(wt.hp=+new Date),(lt=_e["#"])||(lt=_e["#"]=String.random(9)),!(ft=_(lt))&&(st=_e["##"],!(st&&(ft=_e["@"]||_e.get&&lt)&&at.check(pt=ft+st)))){if((_e._=function(){}).via=$.leap=rt,(ft=_e["><"])&&typeof ft=="string"&&ft.slice(0,99).split(",").forEach(function(dt){this[dt]=1},_e._.yo={}),ft=_e.dam){(ft=$.hear[ft])&&ft(_e,rt,b),ot(lt);return}(ft=_e.ok)&&(_e._.near=ft["/"]);var $t=+new Date;wt&&(wt.is=$t),rt.SI=lt,ot.ed=function(dt){lt===dt&&(ot.ed=0,(dt=at.s[lt])&&(dt.via=rt,_e.get&&(dt.it=_e)))},b.on("in",$.last=_e),wt&&(wt.hd=+new Date),console.STAT&&console.STAT($t,+new Date-$t,_e.get?"msg get":_e.put?"msg put":"msg"),ot(lt),pt&&ot(pt),$.leap=$.last=null}},ut.c=ut.d=0,function(){var _e=0,rt;$.hash=function(st,ft){var pt,wt,$t,dt=+new Date;d(st.put,function ct(yt,gt){var St=(wt||(wt=$t=gt||"")).slice(0,32768);if(pt=String.hash(St,pt),wt=wt.slice(32768),wt){tt(ct,0);return}console.STAT&&console.STAT(dt,+new Date-dt,"say json+hash"),st._.$put=$t,st["##"]=pt,$.say(st,ft),delete st._.$put},it)};function it(st,ft){var pt;return ft instanceof Object?(Object.keys(ft).sort().forEach(lt,{to:pt={},on:ft}),pt):ft}function lt(st){this.to[st]=this.on[st]}$.say=function(st,ft){var pt;if((pt=this)&&(pt=pt.to)&&pt.next&&pt.next(st),!st)return!1;var wt,$t,dt,ct=st["@"],yt=st._||(st._=function(){}),gt=st.DBG,St=+new Date;if(yt.y=yt.y||St,ft||gt&&(gt.y=St),(wt=st["#"])||(wt=st["#"]=String.random(9)),!rt&&ot(wt),!($t=st["##"])&&g!==st.put&&!yt.via&&ct){$.hash(st,ft);return}if(!ft&&ct&&(ft=(pt=at.s[ct])&&(pt.via||(pt=pt.it)&&(pt=pt._)&&pt.via)||(pt=$.last)&&ct===pt["#"]&&$.leap),!ft&&ct)return at.s[ct]?void 0:(console.STAT&&console.STAT(+new Date,++_e,"total no peer to ack to"),!1);if(ct&&!st.put&&!$t&&((at.s[ct]||"").it||"")["##"])return!1;if(!ft&&$.way)return $.way(st);if(gt&&(gt.yh=+new Date),!(dt=yt.raw)){$.raw(st,ft);return}if(gt&&(gt.yr=+new Date),!ft||!ft.id){if(!Object.plain(ft||j.peers))return!1;var St=+new Date;j.puff;var bt=j.peers,ht=Object.keys(ft||j.peers||{});console.STAT&&console.STAT(St,+new Date-St,"peer keys"),function Et(){var xt=+new Date;rt=1;var Tt=yt.raw;yt.raw=dt;for(var Ct=0,Dt;Ct<9&&(Dt=(ht||"")[Ct++]);)(Dt=bt[Dt]||(ft||"")[Dt])&&$.say(st,Dt);yt.raw=Tt,rt=0,ht=ht.slice(Ct),console.STAT&&console.STAT(xt,+new Date-xt,"say loop"),ht.length&&(tt(Et,0),ct&&ot(ct))}();return}if(!ft.wire&&$.wire&&$.wire(ft),wt!==ft.last){if(ft.last=wt,ft===yt.via||(pt=yt.yo)&&(pt[ft.url]||pt[ft.pid]||pt[ft.id]))return!1;if(console.STAT&&console.STAT(St,((gt||yt).yp=+new Date)-(yt.y||St),"say prep"),!rt&&ct&&ot(ct),ft.batch){if(ft.tail=(pt=ft.tail||0)+dt.length,ft.tail<=j.pack){ft.batch+=(pt?",":"")+dt;return}nt(ft)}ft.batch="[";var mt=+new Date;setTimeout(function(){console.STAT&&console.STAT(mt,+new Date-mt,"0ms TO"),nt(ft)},j.gap),et(dt,ft),console.STAT&&ct===ft.SI&&console.STAT(St,+new Date-ft.SH,"say ack")}},$.say.c=$.say.d=0,$.raw=function(st,ft){if(!st)return"";var pt=st._||{},wt,$t;if($t=pt.raw)return $t;if(typeof st=="string")return st;var dt=st["##"],ct=st["@"];if(dt&&ct){if(!pt.via&&_(ct+dt))return!1;if($t=(at.s[ct]||"").it){if(dt===$t["##"])return!1;$t["##"]||($t["##"]=dt)}}if(!st.dam&&!st["@"]){var yt=0,gt=[];$t=j.peers;for(var St in $t){var bt=$t[St];if(gt.push(bt.url||bt.pid||bt.id),++yt>6)break}yt>1&&(st["><"]=gt.join())}if(st.put&&($t=st.ok)&&(st.ok={"@":($t["@"]||1)-1,"/":$t["/"]==st._.near?$.near:$t["/"]}),wt=pt.$put){$t={},Object.keys(st).forEach(function(mt){$t[mt]=st[mt]}),$t.put=":])([:",d($t,function(mt,vt){if(!mt){var Et=+new Date;$t=vt.indexOf('"put":":])([:"'),ht(g,vt=vt.slice(0,$t+6)+wt+vt.slice($t+14)),console.STAT&&console.STAT(Et,+new Date-Et,"say slice")}});return}d(st,ht);function ht(mt,vt){mt||(pt.raw=vt,$.say(st,ft))}}}();function nt(_e){var rt=_e.batch,it=typeof rt=="string";if(it&&(rt+="]"),_e.batch=_e.tail=null,!!rt&&!(it?3>rt.length:!rt.length)){if(!it)try{rt=rt.length===1?rt[0]:JSON.stringify(rt)}catch(lt){return j.log("DAM JSON stringify error",lt)}rt&&et(rt,_e)}}function et(_e,rt){try{var it=rt.wire;rt.say?rt.say(_e):it.send&&it.send(_e),$.say.d+=_e.length||0,++$.say.c}catch{(rt.queue=rt.queue||[]).push(_e)}}return $.near=0,$.hi=function(_e){var rt=_e.wire,it;if(!rt){$.wire(_e.length&&{url:_e,id:_e}||_e);return}_e.id?j.peers[_e.url||_e.id]=_e:(it=_e.id=_e.id||_e.url||String.random(9),$.say({dam:"?",pid:b.opt.pid},j.peers[it]=_e),delete at.s[_e.last]),_e.met||($.near++,_e.met=+new Date,b.on("hi",_e)),it=_e.queue,_e.queue=[],setTimeout.each(it||[],function(lt){et(lt,_e)},0,9)},$.bye=function(_e){_e.met&&--$.near,delete _e.met,b.on("bye",_e);var rt=+new Date;rt=rt-(_e.met||rt),$.bye.time=(($.bye.time||rt)+rt)/2},$.hear["!"]=function(_e,rt){j.log("Error:",_e.err)},$.hear["?"]=function(_e,rt){_e.pid&&(rt.pid||(rt.pid=_e.pid),_e["@"])||($.say({dam:"?",pid:j.pid,"@":_e["#"]},rt),delete at.s[rt.last])},$.hear.mob=function(_e,rt){if(_e.peers){var it=Object.keys(_e.peers),lt=it[Math.random()*it.length>>0];lt&&($.bye(rt),$.hi(lt))}},b.on("create",function(_e){_e.opt.pid=_e.opt.pid||String.random(9),this.to.next(_e),_e.on("out",$.say)}),b.on("bye",function(_e,rt){_e=j.peers[_e.id||_e]||_e,this.to.next(_e),_e.bye?_e.bye():(rt=_e.wire)&&rt.close&&rt.close(),delete j.peers[_e.id],_e.wire=null}),b.on("bye",function(_e,rt){this.to.next(_e),(rt=console.STAT)&&(rt.peers=$.near),(rt=_e.url)&&setTimeout(function(){},j.lack||9e3)}),b.on("hi",function(_e,rt){if(this.to.next(_e),(rt=console.STAT)&&(rt.peers=$.near),!j.super){var it=Object.keys(b.next||"");it.length>9999&&!console.SUBS&&console.log(console.SUBS="Warning: You have more than 10K live GETs, which might use more bandwidth than your screen can show - consider `.off()`."),setTimeout.each(it,function(lt){var st=b.next[lt];if(j.super||(st.ask||"")[""]){$.say({get:{"#":lt}},_e);return}setTimeout.each(Object.keys(st.ask||""),function(ft){ft&&$.say({"##":String.hash((b.graph[lt]||"")[ft]),get:{"#":lt,".":ft}},_e)})})}}),$}var g;try{s.exports=h}catch{}})(o,"./mesh"),o(function(s){var a=o("./index");a.Mesh=o("./mesh"),a.on("opt",function(d){if(this.to.next(d),d.once)return;var h=d.opt;if(h.WebSocket===!1)return;var g=a.window||{},b=h.WebSocket||g.WebSocket||g.webkitWebSocket||g.mozWebSocket;if(!b)return;h.WebSocket=b;var $=h.mesh=h.mesh||a.Mesh(d);$.wire||h.wire,$.wire=h.wire=j;function j(ot){try{if(!ot||!ot.url)return nt&&nt(ot);var ut=ot.url.replace(/^http/,"ws"),nt=ot.wire=new h.WebSocket(ut);return nt.onclose=function(){at(ot),h.mesh.bye(ot)},nt.onerror=function(et){at(ot)},nt.onopen=function(){h.mesh.hi(ot)},nt.onmessage=function(et){et&&h.mesh.hear(et.data||et,ot)},nt}catch{h.mesh.bye(ot)}}setTimeout(function(){!h.super&&d.on("out",{dam:"hi"})},1);var tt=2*999;function at(ot){clearTimeout(ot.defer),h.peers[ot.url]&&(_&&ot.retry<=0||(ot.retry=(ot.retry||h.retry+1||60)-(-ot.tried+(ot.tried=+new Date)<tt*4?1:0),ot.defer=setTimeout(function ut(){if(_&&_.hidden)return setTimeout(ut,tt);j(ot)},tt)))}var _=""+c!=typeof document&&document});var c})(o,"./websocket"),o(function(s){if(!(typeof Gun>"u")){var a=function(){},c;try{c=(Gun.window||a).localStorage}catch{}c||(Gun.log("Warning: No localStorage exists to persist data to!"),c={setItem:function(h,g){this[h]=g},removeItem:function(h){delete this[h]},getItem:function(h){return this[h]}});var d=JSON.stringifyAsync||function(h,g,b,$){var j;try{g(j,JSON.stringify(h,b,$))}catch(tt){g(tt)}};Gun.on("create",function h(g){this.to.next(g);var b=g.opt;g.graph;var $=[],j,tt,at,_;if(b.localStorage===!1)return;b.prefix=b.file||"gun/";try{j=h[b.prefix]=h[b.prefix]||JSON.parse(at=c.getItem(b.prefix))||{}}catch{j=h[b.prefix]={}}at=(at||"").length,g.on("get",function(ut){this.to.next(ut);var nt=ut.get,et,_e,rt,it;!nt||!(et=nt["#"])||(_e=j[et]||it,_e&&(rt=nt["."])&&!Object.plain(rt)&&(_e=Gun.state.ify({},rt,Gun.state.is(_e,rt),_e[rt],et)),Gun.on.get.ack(ut,_e))}),g.on("put",function(ut){this.to.next(ut);var nt=ut.put,et=nt["#"],_e=nt["."],rt=ut["#"],it=ut.ok||"";if((g.next||"")[et]){if(j[et]=Gun.state.ify(j[et],_e,nt[">"],nt[":"],et),_&&at>4999880){g.on("in",{"@":rt,err:"localStorage max!"});return}!ut["@"]&&(!ut._.via||Math.random()<it["@"]/it["/"])&&$.push(rt),!tt&&(tt=setTimeout(ot,9+at/333))}});function ot(){if(!$.length&&((setTimeout.turn||"").s||"").length){setTimeout(ot,99);return}var ut=$;clearTimeout(tt),tt=!1,$=[],d(j,function(nt,et){try{!nt&&c.setItem(b.prefix,et)}catch(_e){nt=_=_e||"localStorage failure"}nt&&(Gun.log(nt+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),g.on("localStorage:error",{err:nt,get:b.prefix,put:j})),at=et.length,setTimeout.each(ut,function(_e){g.on("in",{"@":_e,err:nt,ok:0})},0,99)})}})}})(o,"./localStorage")})(),function(){var $t;if(""+$t!=typeof Gun){var o=function(dt){console.warn("Warning! Deprecated internal utility will break in next version:",dt)},i=Gun;i.fn=i.fn||{is:function(dt){return o("fn"),!!dt&&typeof dt=="function"}},i.bi=i.bi||{is:function(dt){return o("bi"),dt instanceof Boolean||typeof dt=="boolean"}},i.num=i.num||{is:function(dt){return o("num"),!s(dt)&&(dt-parseFloat(dt)+1>=0||dt===1/0||dt===-1/0)}},i.text=i.text||{is:function(dt){return o("text"),typeof dt=="string"}},i.text.ify=i.text.ify||function(dt){return o("text.ify"),i.text.is(dt)?dt:typeof JSON<"u"?JSON.stringify(dt):dt&&dt.toString?dt.toString():dt},i.text.random=i.text.random||function(dt,ct){o("text.random");var yt="";for(dt=dt||24,ct=ct||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";dt>0;)yt+=ct.charAt(Math.floor(Math.random()*ct.length)),dt--;return yt},i.text.match=i.text.match||function(dt,ct){var yt,gt;return o("text.match"),typeof dt!="string"?!1:(typeof ct=="string"&&(ct={"=":ct}),ct=ct||{},yt=ct["="]||ct["*"]||ct[">"]||ct["<"],dt===yt?!0:gt!==ct["="]?!1:(yt=ct["*"]||ct[">"]||ct["<"],dt.slice(0,(yt||"").length)===yt?!0:gt!==ct["*"]?!1:gt!==ct[">"]&&gt!==ct["<"]?dt>=ct[">"]&&dt<=ct["<"]:gt!==ct[">"]&&dt>=ct[">"]||gt!==ct["<"]&&dt<=ct["<"]))},i.text.hash=i.text.hash||function(dt,ct){if(o("text.hash"),typeof dt=="string"){if(ct=ct||0,!dt.length)return ct;for(var yt=0,gt=dt.length,St;yt<gt;++yt)St=dt.charCodeAt(yt),ct=(ct<<5)-ct+St,ct|=0;return ct}},i.list=i.list||{is:function(dt){return o("list"),dt instanceof Array}},i.list.slit=i.list.slit||Array.prototype.slice,i.list.sort=i.list.sort||function(dt){return o("list.sort"),function(ct,yt){return!ct||!yt?0:(ct=ct[dt],yt=yt[dt],ct<yt?-1:ct>yt?1:0)}},i.list.map=i.list.map||function(dt,ct,yt){return o("list.map"),pt(dt,ct,yt)},i.list.index=1,i.obj=i.boj||{is:function(dt){return o("obj"),dt?dt instanceof Object&&dt.constructor===Object||Object.prototype.toString.call(dt).match(/^\[object (\w+)\]$/)[1]==="Object":!1}},i.obj.put=i.obj.put||function(dt,ct,yt){return o("obj.put"),(dt||{})[ct]=yt,dt},i.obj.has=i.obj.has||function(dt,ct){return o("obj.has"),dt&&Object.prototype.hasOwnProperty.call(dt,ct)},i.obj.del=i.obj.del||function(dt,ct){if(o("obj.del"),!!dt)return dt[ct]=null,delete dt[ct],dt},i.obj.as=i.obj.as||function(dt,ct,yt,gt){return o("obj.as"),dt[ct]=dt[ct]||(gt===yt?{}:yt)},i.obj.ify=i.obj.ify||function(dt){if(o("obj.ify"),rt(dt))return dt;try{dt=JSON.parse(dt)}catch{dt={}}return dt},function(){var dt;function ct(yt,gt){lt(this,gt)&&dt!==this[gt]||(this[gt]=yt)}i.obj.to=i.obj.to||function(yt,gt){return o("obj.to"),gt=gt||{},pt(yt,ct,gt),gt}}(),i.obj.copy=i.obj.copy||function(dt){return o("obj.copy"),dt&&JSON.parse(JSON.stringify(dt))},function(){function dt(ct,yt){var gt=this.n,St;if(!(gt&&(yt===gt||rt(gt)&&lt(gt,yt)))&&St!==yt)return!0}i.obj.empty=i.obj.empty||function(ct,yt){return o("obj.empty"),ct?!pt(ct,dt,{n:yt}):!0}}(),function(){function dt(gt,St){if(arguments.length===2){dt.r=dt.r||{},dt.r[gt]=St;return}dt.r=dt.r||[],dt.r.push(gt)}var ct=Object.keys,yt;Object.keys=Object.keys||function(gt){return yt(gt,function(St,bt,ht){ht(bt)})},i.obj.map=yt=i.obj.map||function(gt,St,bt){o("obj.map");var ht,mt=0,vt,Et,xt,Tt,Ct=typeof St=="function";if(dt.r=ht,ct&&rt(gt)&&(xt=ct(gt),Tt=!0),bt=bt||{},s(gt)||xt)for(vt=(xt||gt).length;mt<vt;mt++){var Dt=mt+i.list.index;if(Ct){if(Et=Tt?St.call(bt,gt[xt[mt]],xt[mt],dt):St.call(bt,gt[mt],Dt,dt),Et!==ht)return Et}else if(St===gt[Tt?xt[mt]:mt])return xt?xt[mt]:Dt}else for(mt in gt)if(Ct){if(lt(gt,mt)&&(Et=bt?St.call(bt,gt[mt],mt,dt):St(gt[mt],mt,dt),Et!==ht))return Et}else if(St===gt[mt])return mt;return Ct?dt.r:i.list.index?0:-1}}(),i.time=i.time||{},i.time.is=i.time.is||function(dt){return o("time"),dt?dt instanceof Date:+new Date().getTime()};var et=i.fn.is,s=i.list.is,_e=i.obj,rt=_e.is,lt=_e.has,pt=_e.map,a={};a.is=function(dt){return o("val.is"),dt===$t?!1:dt===null?!0:dt===1/0?!1:h(dt)||d(dt)||_(dt)?!0:a.link.is(dt)||!1},a.link=a.rel={_:"#"},function(){a.link.is=function(ct){if(o("val.link.is"),ct&&ct[c]&&!ct._&&rt(ct)){var yt={};if(pt(ct,dt,yt),yt.id)return yt.id}return!1};function dt(ct,yt){var gt=this;if(gt.id)return gt.id=!1;if(yt==c&&h(ct))gt.id=ct;else return gt.id=!1}}(),a.link.ify=function(dt){return o("val.link.ify"),ft({},c,dt)},i.obj.has._=".";var c=a.link._,$t,d=i.bi.is,_=i.num.is,h=i.text.is,_e=i.obj,rt=_e.is,ft=_e.put,pt=_e.map;i.val=i.val||a;var g={_:"_"};g.soul=function(dt,ct){return o("node.soul"),dt&&dt._&&dt._[ct||j]},g.soul.ify=function(dt,ct){return o("node.soul.ify"),ct=typeof ct=="string"?{soul:ct}:ct||{},dt=dt||{},dt._=dt._||{},dt._[j]=ct.soul||dt._[j]||$(),dt},g.soul._=a.link._,function(){g.is=function(ct,yt,gt){o("node.is");var St;return rt(ct)&&(St=g.soul(ct))?!pt(ct,dt,{as:gt,cb:yt,s:St,n:ct}):!1};function dt(ct,yt){if(yt!==g._){if(!a.is(ct))return!0;this.cb&&this.cb.call(this.as,ct,yt,this.n,this.s)}}}(),function(){g.ify=function(ct,yt,gt){return o("node.ify"),yt?typeof yt=="string"?yt={soul:yt}:typeof yt=="function"&&(yt={map:yt}):yt={},yt.map&&(yt.node=yt.map.call(gt,ct,$t,yt.node||{})),(yt.node=g.soul.ify(yt.node||{},yt))&&pt(ct,dt,{o:yt,as:gt}),yt.node};function dt(ct,yt){var gt=this.o,St,bt;if(gt.map){St=gt.map.call(this.as,ct,""+yt,gt.node),bt===St?it(gt.node,yt):gt.node&&(gt.node[yt]=St);return}a.is(ct)&&(gt.node[yt]=ct)}}();var _e=i.obj,rt=_e.is,it=_e.del,pt=_e.map,b=i.text,$=b.random,j=g.soul._,$t;i.node=i.node||g;var tt=i.state;tt.lex=function(){return o("state.lex"),tt().toString(36).replace(".","")},tt.to=function(dt,ct,yt){o("state.to");var gt=(dt||{})[ct];return rt(gt)&&(gt=wt(gt)),tt.ify(yt,ct,tt.is(dt,ct),gt,g.soul(dt))},function(){tt.map=function(ct,yt,gt){o("state.map");var St,bt=rt(bt=ct||yt)?bt:null;return ct=et(ct=ct||yt)?ct:null,bt&&!ct?(yt=_(yt)?yt:tt(),bt[ut]=bt[ut]||{},pt(bt,dt,{o:bt,s:yt}),bt):(gt=gt||rt(yt)?yt:St,yt=_(yt)?yt:tt(),function(ht,mt,vt,Et){if(!ct)return dt.call({o:vt,s:yt},ht,mt),ht;ct.call(gt||this||{},ht,mt,vt,Et),!(lt(vt,mt)&&St===vt[mt])&&dt.call({o:vt,s:yt},ht,mt)})};function dt(ct,yt){ut!==yt&&tt.ify(this.o,yt,this.s)}}();var _e=i.obj;_e.as;var lt=_e.has,rt=_e.is,pt=_e.map,wt=_e.copy,at=i.num,_=at.is,ot=i.fn,et=ot.is,ut=g._,$t,nt={};(function(){nt.is=function(yt,gt,St,bt){return o("graph.is"),!yt||!rt(yt)||st(yt)?!1:!pt(yt,dt,{cb:gt,fn:St,as:bt})};function dt(yt,gt){if(!yt||gt!==g.soul(yt)||!g.is(yt,this.fn,this.as))return!0;this.cb&&(ct.n=yt,ct.as=this.as,this.cb.call(ct.as,yt,gt,ct))}function ct(yt){yt&&g.is(ct.n,yt,ct.as)}})(),function(){nt.ify=function(bt,ht,mt){o("graph.ify");var vt={path:[],obj:bt};return ht?typeof ht=="string"?ht={soul:ht}:typeof ht=="function"&&(ht.map=ht):ht={},typeof mt=="string"&&(ht.soul=ht.soul||mt,mt=$t),ht.soul&&(vt.link=a.link.ify(ht.soul)),ht.shell=(mt||{}).shell,ht.graph=ht.graph||{},ht.seen=ht.seen||[],ht.as=ht.as||mt,dt(ht,vt),ht.root=vt.node,ht.graph};function dt(bt,ht){var mt;return(mt=St(bt,ht))?mt:(ht.env=bt,ht.soul=yt,g.ify(ht.obj,ct,ht)&&(ht.link=ht.link||a.link.ify(g.soul(ht.node)),ht.obj!==bt.shell&&(bt.graph[a.link.is(ht.link)]=ht.node)),ht)}function ct(bt,ht,mt){var vt=this,Et=vt.env,xt,Tt;if(g._===ht&&lt(bt,a.link._))return mt._;if(xt=gt(bt,ht,mt,vt,Et)){if(ht||(vt.node=vt.node||mt||{},lt(bt,g._)&&g.soul(bt)&&(vt.node._=wt(bt._)),vt.node=g.soul.ify(vt.node,a.link.is(vt.link)),vt.link=vt.link||a.link.ify(g.soul(vt.node))),(Tt=Et.map)&&(Tt.call(Et.as||{},bt,ht,mt,vt),lt(mt,ht))){if(bt=mt[ht],$t===bt){it(mt,ht);return}if(!(xt=gt(bt,ht,mt,vt,Et)))return}if(!ht)return vt.node;if(xt===!0)return bt;if(Tt=dt(Et,{obj:bt,path:vt.path.concat(ht)}),!!Tt.node)return Tt.link}}function yt(bt){var ht=this,mt=a.link.is(ht.link),vt=ht.env.graph;ht.link=ht.link||a.link.ify(bt),ht.link[a.link._]=bt,ht.node&&ht.node[g._]&&(ht.node[g._][a.link._]=bt),lt(vt,mt)&&(vt[bt]=vt[mt],it(vt,mt))}function gt(bt,ht,mt,vt,Et){var xt;if(a.is(bt))return!0;if(rt(bt))return 1;if(xt=Et.invalid)return bt=xt.call(Et.as||{},bt,ht,mt),gt(bt,ht,mt,vt,Et);Et.err="Invalid value at '"+vt.path.concat(ht).join(".")+"'!",i.list.is(bt)&&(Et.err+=" Use `.set(item)` instead of an Array.")}function St(bt,ht){for(var mt=bt.seen,vt=mt.length,Et;vt--;)if(Et=mt[vt],ht.obj===Et.obj)return Et;mt.push(ht)}}(),nt.node=function(dt){o("graph.node");var ct=g.soul(dt);if(ct)return ft({},ct,dt)},function(){nt.to=function(ct,yt,gt){if(o("graph.to"),!!ct){var St={};return gt=gt||{seen:{}},pt(ct[yt],dt,{obj:St,graph:ct,opt:gt}),St}};function dt(ct,yt){var gt,St;if(g._===yt){if(st(ct,a.link._))return;this.obj[yt]=wt(ct);return}if(!(gt=a.link.is(ct))){this.obj[yt]=ct;return}if(St=this.opt.seen[gt]){this.obj[yt]=St;return}this.obj[yt]=this.opt.seen[gt]=nt.to(this.graph,gt,this.opt)}}();var et=i.fn.is,_e=i.obj,rt=_e.is,it=_e.del,lt=_e.has,st=_e.empty,ft=_e.put,pt=_e.map,wt=_e.copy,$t;i.graph=i.graph||nt}}()})(gun);var gunExports=gun.exports,browser$2=gunExports;const Gun$1=getDefaultExportFromCjs(browser$2);var sea={exports:{}};sea.exports;(function(e){(function(){function o(s,a){return a?commonjsRequire(s):s.slice?o[c(s)]:function(d,h){s(d={exports:{}}),o[c(h)]=d.exports};function c(d){return d.split("/").slice(-1).toString().replace(".js","")}}var i=e;o(function(s){typeof self<"u"&&(s.window=self),typeof window<"u"&&(s.window=window);var a=s.window||s,c,d=a.SEA||{};(d.window=s.window)&&(d.window.SEA=d);try{c+""!=typeof i&&(i.exports=d)}catch{}s.exports=d})(o,"./root"),o(function(s){var a=o("./root");try{a.window&&location.protocol.indexOf("s")<0&&location.host.indexOf("localhost")<0&&!/^127\.\d+\.\d+\.\d+$/.test(location.hostname)&&location.protocol.indexOf("file:")<0&&(console.warn("HTTPS needed for WebCrypto in SEA, redirecting..."),location.protocol="https:")}catch{}})(o,"./https"),o(function(s){var a;if(a+""==typeof btoa){if(a+""==typeof Buffer)try{commonjsGlobal.Buffer=o("buffer",1).Buffer}catch{console.log("Please `npm install buffer` or add it to your package.json !")}commonjsGlobal.btoa=function(c){return Buffer.from(c,"binary").toString("base64")},commonjsGlobal.atob=function(c){return Buffer.from(c,"base64").toString("binary")}}})(o,"./base64"),o(function(s){o("./base64");function a(){}Object.assign(a,{from:Array.from}),a.prototype=Object.create(Array.prototype),a.prototype.toString=function(c,d,h){c=c||"utf8",d=d||0;const g=this.length;if(c==="hex"){const b=new Uint8Array(this);return[...Array((h&&h+1||g)-d).keys()].map($=>b[$+d].toString(16).padStart(2,"0")).join("")}if(c==="utf8")return Array.from({length:(h||g)-d},(b,$)=>String.fromCharCode(this[$+d])).join("");if(c==="base64")return btoa(this)},s.exports=a})(o,"./array"),o(function(s){o("./base64");var a=o("./array");function c(...d){return console.warn("new SafeBuffer() is depreciated, please use SafeBuffer.from()"),c.from(...d)}c.prototype=Object.create(Array.prototype),Object.assign(c,{from(){if(!Object.keys(arguments).length||arguments[0]==null)throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");const d=arguments[0];let h;if(typeof d=="string"){const b=arguments[1]||"utf8";if(b==="hex"){const $=d.match(/([\da-fA-F]{2})/g).map(j=>parseInt(j,16));if(!$||!$.length)throw new TypeError("Invalid first argument for type 'hex'.");h=a.from($)}else if(b==="utf8"||b==="binary"){const $=d.length,j=new Uint16Array($);Array.from({length:$},(tt,at)=>j[at]=d.charCodeAt(at)),h=a.from(j)}else if(b==="base64"){const $=atob(d),j=$.length,tt=new Uint8Array(j);Array.from({length:j},(at,_)=>tt[_]=$.charCodeAt(_)),h=a.from(tt)}else b==="binary"?h=a.from(d):console.info("SafeBuffer.from unknown encoding: "+b);return h}if(d.byteLength,d.byteLength?d.byteLength:d.length){let b;return d instanceof ArrayBuffer&&(b=new Uint8Array(d)),a.from(b||d)}},alloc(d,h=0){return a.from(new Uint8Array(Array.from({length:d},()=>h)))},allocUnsafe(d){return a.from(new Uint8Array(Array.from({length:d})))},concat(d){if(!Array.isArray(d))throw new TypeError("First argument must be Array containing ArrayBuffer or Uint8Array instances.");return a.from(d.reduce((h,g)=>h.concat(Array.from(g)),[]))}}),c.prototype.from=c.from,c.prototype.toString=a.prototype.toString,s.exports=c})(o,"./buffer"),o(function(s){const a=o("./root"),c={Buffer:o("./buffer")};var d={},h;if(JSON.parseAsync=JSON.parseAsync||function(b,$,j){var tt;try{$(tt,JSON.parse(b,j))}catch(at){$(at)}},JSON.stringifyAsync=JSON.stringifyAsync||function(b,$,j,tt){var at;try{$(at,JSON.stringify(b,j,tt))}catch(_){$(_)}},c.parse=function(b,$){return new Promise(function(j,tt){JSON.parseAsync(b,function(at,_){at?tt(at):j(_)},$)})},c.stringify=function(b,$,j){return new Promise(function(tt,at){JSON.stringifyAsync(b,function(_,ot){_?at(_):tt(ot)},$,j)})},a.window&&(c.crypto=a.window.crypto||a.window.msCrypto,c.subtle=(c.crypto||d).subtle||(c.crypto||d).webkitSubtle,c.TextEncoder=a.window.TextEncoder,c.TextDecoder=a.window.TextDecoder,c.random=b=>c.Buffer.from(c.crypto.getRandomValues(new Uint8Array(c.Buffer.alloc(b))))),!c.TextDecoder){const{TextEncoder:b,TextDecoder:$}=o((h+""==typeof i?".":"")+"./lib/text-encoding",1);c.TextDecoder=$,c.TextEncoder=b}if(!c.crypto)try{var g=o("crypto",1);Object.assign(c,{crypto:g,random:$=>c.Buffer.from(g.randomBytes($))});const{Crypto:b}=o("@peculiar/webcrypto",1);c.ossl=c.subtle=new b({directory:"ossl"}).subtle}catch{console.log("Please `npm install @peculiar/webcrypto` or add it to your package.json !")}s.exports=c})(o,"./shim"),o(function(s){var a=o("./root"),c=o("./shim"),d={};d.pbkdf2={hash:{name:"SHA-256"},iter:1e5,ks:64},d.ecdsa={pair:{name:"ECDSA",namedCurve:"P-256"},sign:{name:"ECDSA",hash:{name:"SHA-256"}}},d.ecdh={name:"ECDH",namedCurve:"P-256"},d.jwk=function(h,g){h=h.split(".");var b=h[0],$=h[1],j={kty:"EC",crv:"P-256",x:b,y:$,ext:!0};return j.key_ops=g?["sign"]:["verify"],g&&(j.d=g),j},d.keyToJwk=function(h){return{kty:"oct",k:h.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,""),ext:!1,alg:"A256GCM"}},d.recall={validity:12*60*60,hook:function(h){return h}},d.check=function(h){return typeof h=="string"&&h.slice(0,4)==="SEA{"},d.parse=async function(g){try{var b=typeof g=="string";return b&&g.slice(0,4)==="SEA{"&&(g=g.slice(3)),b?await c.parse(g):g}catch{}return g},a.opt=d,s.exports=d})(o,"./settings"),o(function(s){var a=o("./shim");s.exports=async function(c,d){var h=typeof c=="string"?c:await a.stringify(c),g=await a.subtle.digest({name:d||"SHA-256"},new a.TextEncoder().encode(h));return a.Buffer.from(g)}})(o,"./sha256"),o(function(s){const a=o("./shim"),c=a.subtle,d=a.ossl?a.ossl:c,h=g=>d.digest({name:"SHA-1"},new ArrayBuffer(g));s.exports=h})(o,"./sha1"),o(function(s){var a=o("./root"),c=o("./shim"),d=o("./settings"),h=o("./sha256"),g;a.work=a.work||(async(b,$,j,tt)=>{try{var at=($||{}).epub||$;if(tt=tt||{},at instanceof Function&&(j=at,at=g),b=typeof b=="string"?b:await c.stringify(b),(tt.name||"").toLowerCase().slice(0,3)==="sha"){var _=c.Buffer.from(await h(b,tt.name),"binary").toString(tt.encode||"base64");if(j)try{j(_)}catch(et){console.log(et)}return _}at=at||c.random(9);var ot=await(c.ossl||c.subtle).importKey("raw",new c.TextEncoder().encode(b),{name:tt.name||"PBKDF2"},!1,["deriveBits"]),ut=await(c.ossl||c.subtle).deriveBits({name:tt.name||"PBKDF2",iterations:tt.iterations||d.pbkdf2.iter,salt:new c.TextEncoder().encode(tt.salt||at),hash:tt.hash||d.pbkdf2.hash},ot,tt.length||d.pbkdf2.ks*8);b=c.random(b.length);var nt=c.Buffer.from(ut,"binary").toString(tt.encode||"base64");if(j)try{j(nt)}catch(et){console.log(et)}return nt}catch(et){if(console.log(et),a.err=et,a.throw)throw et;j&&j();return}}),s.exports=a.work})(o,"./work"),o(function(s){var a=o("./root"),c=o("./shim");o("./settings"),a.name=a.name||(async(d,h)=>{try{if(d)try{d()}catch(g){console.log(g)}return}catch(g){if(console.log(g),a.err=g,a.throw)throw g;d&&d();return}}),a.pair=a.pair||(async(d,h)=>{try{var g=c.ossl||c.subtle,b=await c.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]).then(async tt=>{var at={};at.priv=(await c.subtle.exportKey("jwk",tt.privateKey)).d;var _=await c.subtle.exportKey("jwk",tt.publicKey);return at.pub=_.x+"."+_.y,at});try{var $=await g.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]).then(async tt=>{var at={};at.epriv=(await g.exportKey("jwk",tt.privateKey)).d;var _=await g.exportKey("jwk",tt.publicKey);return at.epub=_.x+"."+_.y,at})}catch(tt){if(a.window)throw tt;if(tt=="Error: ECDH is not a supported algorithm")console.log("Ignoring ECDH...");else throw tt}$=$||{};var j={pub:b.pub,priv:b.priv,epub:$.epub,epriv:$.epriv};if(d)try{d(j)}catch(tt){console.log(tt)}return j}catch(tt){if(console.log(tt),a.err=tt,a.throw)throw tt;d&&d();return}}),s.exports=a.pair})(o,"./pair"),o(function(s){var a=o("./root"),c=o("./shim"),d=o("./settings"),h=o("./sha256"),g;a.sign=a.sign||(async(b,$,j,tt)=>{try{if(tt=tt||{},!($||tt).priv){if(!a.I)throw"No signing key.";$=await a.I(null,{what:b,how:"sign",why:tt.why})}if(g===b)throw"`undefined` not allowed.";var at=await d.parse(b),_=tt.check=tt.check||at;if(a.verify&&(a.opt.check(_)||_&&_.s&&_.m)&&g!==await a.verify(_,$)){var rt=await d.parse(_);if(tt.raw||(rt="SEA"+await c.stringify(rt)),j)try{j(rt)}catch(lt){console.log(lt)}return rt}var ot=$.pub,ut=$.priv,nt=d.jwk(ot,ut),et=await h(at),_e=await(c.ossl||c.subtle).importKey("jwk",nt,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"]).then(it=>(c.ossl||c.subtle).sign({name:"ECDSA",hash:{name:"SHA-256"}},it,new Uint8Array(et))),rt={m:at,s:c.Buffer.from(_e,"binary").toString(tt.encode||"base64")};if(tt.raw||(rt="SEA"+await c.stringify(rt)),j)try{j(rt)}catch(it){console.log(it)}return rt}catch(it){if(console.log(it),a.err=it,a.throw)throw it;j&&j();return}}),s.exports=a.sign})(o,"./sign"),o(function(s){var a=o("./root"),c=o("./shim"),d=o("./settings"),h=o("./sha256"),g;a.verify=a.verify||(async(j,tt,at,_)=>{try{var ot=await d.parse(j);if(tt===!1){var ut=await d.parse(ot.m);if(at)try{at(ut)}catch(pt){console.log(pt)}return ut}_=_||{};var nt=tt.pub||tt,et=a.opt.slow_leak?await a.opt.slow_leak(nt):await(c.ossl||c.subtle).importKey("jwk",d.jwk(nt),{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),_e=await h(ot.m),rt,it,lt,st;try{if(rt=c.Buffer.from(ot.s,_.encode||"base64"),it=new Uint8Array(rt),lt=await(c.ossl||c.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},et,it,new Uint8Array(_e)),!lt)throw"Signature did not match."}catch{if(a.opt.fallback)return await a.opt.fall_verify(j,tt,at,_)}var ft=lt?await d.parse(ot.m):g;if(at)try{at(ft)}catch(pt){console.log(pt)}return ft}catch(pt){if(console.log(pt),a.err=pt,a.throw)throw pt;at&&at();return}}),s.exports=a.verify;var b={};a.opt.slow_leak=j=>{if(b[j])return b[j];var tt=d.jwk(j);return b[j]=(c.ossl||c.subtle).importKey("jwk",tt,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),b[j]};var $=a.opt;a.opt.fall_verify=async function(j,tt,at,_,ot){if(ot===a.opt.fallback)throw"Signature did not match";ot=ot||1;var ut=j||"";j=a.opt.unpack(j)||j;var nt=await d.parse(j),et=tt.pub||tt,_e=await a.opt.slow_leak(et),rt=ot<=a.opt.fallback?c.Buffer.from(await c.subtle.digest({name:"SHA-256"},new c.TextEncoder().encode(await d.parse(nt.m)))):await h(nt.m),it,lt,st;try{if(it=c.Buffer.from(nt.s,_.encode||"base64"),lt=new Uint8Array(it),st=await(c.ossl||c.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},_e,lt,new Uint8Array(rt)),!st)throw"Signature did not match."}catch{try{it=c.Buffer.from(nt.s,"utf8"),lt=new Uint8Array(it),st=await(c.ossl||c.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},_e,lt,new Uint8Array(rt))}catch{if(!st)throw"Signature did not match."}}var ft=st?await d.parse(nt.m):g;if($.fall_soul=ut["#"],$.fall_key=ut["."],$.fall_val=j,$.fall_state=ut[">"],at)try{at(ft)}catch(pt){console.log(pt)}return ft},a.opt.fallback=2})(o,"./verify"),o(function(s){var a=o("./shim"),c=o("./settings"),d=o("./sha256");const h=async(g,b,$)=>{const j=g+(b||a.random(8)).toString("utf8"),tt=a.Buffer.from(await d(j),"binary"),at=c.keyToJwk(tt);return await a.subtle.importKey("jwk",at,{name:"AES-GCM"},!1,["encrypt","decrypt"])};s.exports=h})(o,"./aeskey"),o(function(s){var a=o("./root"),c=o("./shim");o("./settings");var d=o("./aeskey"),h;a.encrypt=a.encrypt||(async(g,b,$,j)=>{try{j=j||{};var tt=(b||j).epriv||b;if(h===g)throw"`undefined` not allowed.";if(!tt){if(!a.I)throw"No encryption key.";b=await a.I(null,{what:g,how:"encrypt",why:j.why}),tt=b.epriv||b}var at=typeof g=="string"?g:await c.stringify(g),_={s:c.random(9),iv:c.random(15)},ot=await d(tt,_.s,j).then(nt=>c.subtle.encrypt({name:j.name||"AES-GCM",iv:new Uint8Array(_.iv)},nt,new c.TextEncoder().encode(at))),ut={ct:c.Buffer.from(ot,"binary").toString(j.encode||"base64"),iv:_.iv.toString(j.encode||"base64"),s:_.s.toString(j.encode||"base64")};if(j.raw||(ut="SEA"+await c.stringify(ut)),$)try{$(ut)}catch(nt){console.log(nt)}return ut}catch(nt){if(console.log(nt),a.err=nt,a.throw)throw nt;$&&$();return}}),s.exports=a.encrypt})(o,"./encrypt"),o(function(s){var a=o("./root"),c=o("./shim"),d=o("./settings"),h=o("./aeskey");a.decrypt=a.decrypt||(async(g,b,$,j)=>{try{j=j||{};var tt=(b||j).epriv||b;if(!tt){if(!a.I)throw"No decryption key.";b=await a.I(null,{what:g,how:"decrypt",why:j.why}),tt=b.epriv||b}var at=await d.parse(g),_,ot,ut;try{_=c.Buffer.from(at.s,j.encode||"base64"),ot=c.Buffer.from(at.iv,j.encode||"base64"),ut=c.Buffer.from(at.ct,j.encode||"base64");var nt=await h(tt,_,j).then(_e=>c.subtle.decrypt({name:j.name||"AES-GCM",iv:new Uint8Array(ot),tagLength:128},_e,new Uint8Array(ut)))}catch{if(j.encode==="utf8")throw"Could not decrypt";if(a.opt.fallback)return j.encode="utf8",await a.decrypt(g,b,$,j)}var et=await d.parse(new c.TextDecoder("utf8").decode(nt));if($)try{$(et)}catch(_e){console.log(_e)}return et}catch(_e){if(console.log(_e),a.err=_e,a.throw)throw _e;$&&$();return}}),s.exports=a.decrypt})(o,"./decrypt"),o(function(s){var a=o("./root"),c=o("./shim");o("./settings"),a.secret=a.secret||(async(h,g,b,$)=>{try{if($=$||{},!g||!g.epriv||!g.epub){if(!a.I)throw"No secret mix.";g=await a.I(null,{what:h,how:"secret",why:$.why})}var j=h.epub||h,tt=g.epub,at=g.epriv,_=c.ossl||c.subtle,ot=d(j),ut=Object.assign({public:await _.importKey(...ot,!0,[])},{name:"ECDH",namedCurve:"P-256"}),nt=d(tt,at),et=await _.importKey(...nt,!1,["deriveBits"]).then(async rt=>{var it=await _.deriveBits(ut,rt,256),lt=new Uint8Array(it),st=await _.importKey("raw",lt,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);return _.exportKey("jwk",st).then(({k:ft})=>ft)}),_e=et;if(b)try{b(_e)}catch(rt){console.log(rt)}return _e}catch(rt){if(console.log(rt),a.err=rt,a.throw)throw rt;b&&b();return}});var d=(h,g)=>{var[b,$]=h.split("."),j=g?{d:g}:{};return["jwk",Object.assign(j,{x:b,y:$,kty:"EC",crv:"P-256",ext:!0}),{name:"ECDH",namedCurve:"P-256"}]};s.exports=a.secret})(o,"./secret"),o(function(s){var a=o("./root");a.certify=a.certify||(async(c,d={},h,g,b={})=>{try{if(console.log("SEA.certify() is an early experimental community supported method that may change API behavior without warning in any future version."),c=(()=>{var _e=[];if(c){if((typeof c=="string"||Array.isArray(c))&&c.indexOf("*")>-1)return"*";if(typeof c=="string")return c;if(Array.isArray(c)){if(c.length===1&&c[0])return typeof c[0]=="object"&&c[0].pub?c[0].pub:typeof c[0]=="string"?c[0]:null;c.map(rt=>{typeof rt=="string"?_e.push(rt):typeof rt=="object"&&rt.pub&&_e.push(rt.pub)})}return typeof c=="object"&&c.pub?c.pub:_e.length>0?_e:null}})(),!c)return console.log("No certificant found.");const j=b.expiry&&(typeof b.expiry=="number"||typeof b.expiry=="string")?parseFloat(b.expiry):null,tt=(d||{}).read?d.read:null,at=(d||{}).write?d.write:typeof d=="string"||Array.isArray(d)||d["+"]||d["#"]||d["."]||d["="]||d["*"]||d[">"]||d["<"]?d:null,_=(b||{}).block||(b||{}).blacklist||(b||{}).ban||{},ot=_.read&&(typeof _.read=="string"||(_.read||{})["#"])?_.read:null,ut=typeof _=="string"?_:_.write&&(typeof _.write=="string"||_.write["#"])?_.write:null;if(!tt&&!at)return console.log("No policy found.");const nt=JSON.stringify({c,...j?{e:j}:{},...tt?{r:tt}:{},...at?{w:at}:{},...ot?{rb:ot}:{},...ut?{wb:ut}:{}});var $=await a.sign(nt,h,null,{raw:1});if(b.raw||($="SEA"+JSON.stringify($)),g)try{g($)}catch(_e){console.log(_e)}return $}catch(j){if(a.err=j,a.throw)throw j;g&&g();return}}),s.exports=a.certify})(o,"./certify"),o(function(s){var a=o("./shim"),c=o("./root");c.work=o("./work"),c.sign=o("./sign"),c.verify=o("./verify"),c.encrypt=o("./encrypt"),c.decrypt=o("./decrypt"),c.certify=o("./certify"),c.random=c.random||a.random,c.Buffer=c.Buffer||o("./buffer"),c.keyid=c.keyid||(async d=>{try{const h=a.Buffer.concat(d.replace(/-/g,"+").replace(/_/g,"/").split(".").map(j=>a.Buffer.from(j,"base64"))),g=a.Buffer.concat([a.Buffer.from([153,h.length/256,h.length%256]),h]),b=await sha1hash(g),$=a.Buffer.from(b,"binary");return $.toString("hex",$.length-8)}catch(h){throw console.log(h),h}}),((c.window||{}).GUN||{}).SEA=c,s.exports=c})(o,"./sea"),o(function(s){var a=o("./sea"),c,d;a.window?c=a.window.GUN||{chain:{}}:c=o((d+""==typeof i?".":"")+"./gun",1),a.GUN=c;function h(b){this._={$:this}}h.prototype=function(){function b(){}return b.prototype=c.chain,new b}(),h.prototype.constructor=h,c.chain.user=function(b){var $=this,tt=$.back(-1),j;if(b)return b=a.opt.pub((b._||"")["#"])||b,tt.get("~"+b);if(j=tt.back("user"))return j;var tt=tt._,at=tt,_=at.opt.uuid||g;return(at=(j=at.user=$.chain(new h))._).opt={},at.opt.uuid=function(ot){var ut=_(),nt=tt.user;return!nt||!(nt=nt.is)||!(nt=nt.pub)||(ut="~"+nt+"/"+ut,ot&&ot.call&&ot(null,ut)),ut},j};function g(){return c.state().toString(36).replace(".","")}c.User=h,h.GUN=c,h.SEA=c.SEA=a,s.exports=h})(o,"./user"),o(function(s){var a,c=""+a!=typeof GUN?GUN||{chain:{}}:o((""+a==typeof i?".":"")+"./gun",1);c.chain.then=function(d,h){var g=this,b=new Promise(function($,j){g.once($,h)});return d?b.then(d):b}})(o,"./then"),o(function(s){var a=o("./user"),c=a.SEA,d=a.GUN,h=function(){};a.prototype.create=function(...g){var b=typeof g[0]=="object"&&(g[0].pub||g[0].epub)?g[0]:typeof g[1]=="object"&&(g[1].pub||g[1].epub)?g[1]:null,$=b&&(b.pub||b.epub)?b.pub:typeof g[0]=="string"?g[0]:null,j=b&&(b.pub||b.epub)?b:$&&typeof g[1]=="string"?g[1]:null,tt=g.filter(_e=>typeof _e=="function")[0]||null,at=g&&g.length>1&&typeof g[g.length-1]=="object"?g[g.length-1]:{},_=this,ot=_._,ut=_.back(-1);if(tt=tt||h,at=at||{},at.check!==!1){var nt;if($||(nt="No user."),(j||"").length<8&&(nt="Password too short!"),nt)return tt({err:d.log(nt)}),_}if(ot.ing)return(tt||h)({err:d.log("User is already being created or authenticated!"),wait:!0}),_;ot.ing=!0;var et={};return et.a=function(_e){if(et.pubs=_e,_e&&!at.already){var rt={err:d.log("User already created!")};ot.ing=!1,(tt||h)(rt),_.leave();return}et.salt=String.random(64),c.work(j,et.salt,et.b)},et.b=function(_e){et.proof=_e,b?et.c(b):c.pair(et.c)},et.c=function(_e){var rt;et.pair=_e||{},(rt=ot.root.user)&&(rt._.sea=_e,rt.is={pub:_e.pub,epub:_e.epub,alias:$}),et.data={pub:_e.pub},et.d()},et.d=function(){et.data.alias=$,et.e()},et.e=function(){et.data.epub=et.pair.epub,c.encrypt({priv:et.pair.priv,epriv:et.pair.epriv},et.proof,et.f,{raw:1})},et.f=function(_e){et.data.auth=JSON.stringify({ek:_e,s:et.salt}),et.g(et.data.auth)},et.g=function(_e){var rt;et.data.auth=et.data.auth||_e,ut.get(rt="~"+et.pair.pub).put(et.data).on(et.h);var it={};it[rt]={"#":rt},ut.get("~@"+$).put(it).get(rt).on(et.i)},et.h=function(_e,rt,it,lt){lt.off(),et.h.ok=1,et.i()},et.i=function(_e,rt,it,lt){lt&&(et.i.ok=1,lt.off()),!(!et.h.ok||!et.i.ok)&&(ot.ing=!1,tt({ok:0,pub:et.pair.pub}),h===tt&&(b?_.auth(b):_.auth($,j)))},ut.get("~@"+$).once(et.a),_},a.prototype.leave=function(g,b){var $=this,j=$.back(-1)._.user;if(j&&(delete j.is,delete j._.is,delete j._.sea),c.window)try{var tt={};tt=c.window.sessionStorage,delete tt.recall,delete tt.pair}catch{}return $}})(o,"./create"),o(function(s){var a=o("./user"),c=a.SEA,d=a.GUN,h=function(){};a.prototype.auth=function(...b){var $=typeof b[0]=="object"&&(b[0].pub||b[0].epub)?b[0]:typeof b[1]=="object"&&(b[1].pub||b[1].epub)?b[1]:null,j=!$&&typeof b[0]=="string"?b[0]:null,tt=(j||$&&!($.priv&&$.epriv))&&typeof b[1]=="string"?b[1]:null,at=b.filter(it=>typeof it=="function")[0]||null,_=b&&b.length>1&&typeof b[b.length-1]=="object"?b[b.length-1]:{},ot=this,ut=ot._,nt=ot.back(-1);if(ut.ing)return(at||h)({err:d.log("User is already being created or authenticated!"),wait:!0}),ot;ut.ing=!0;var et={},_e,rt=9;return et.a=function(it){if(!it)return et.b();if(!it.pub){var lt=[];return Object.keys(it).forEach(function(st){st!="_"&&lt.push(it[st])}),et.b(lt)}if(et.name)return et.f(it);et.c((et.data=it).auth)},et.b=function(it){var lt=(et.list=(et.list||[]).concat(it||[])).shift();if(_e===lt){if(et.name)return et.err("Your user account is not published for dApps to access, please consider syncing it online, or allowing local access by adding your device as a peer.");if(j&&rt--){nt.get("~@"+j).once(et.a);return}return et.err("Wrong user or password.")}nt.get(lt).once(et.a)},et.c=function(it){if(_e===it)return et.b();if(typeof it=="string")return et.c(g(it));c.work(tt,(et.auth=it).s,et.d,et.enc)},et.d=function(it){c.decrypt(et.auth.ek,it,et.e,et.enc)},et.e=function(it){if(_e===it)return et.enc?(et.enc=null,et.b()):(et.enc={encode:"utf8"},et.c(et.auth));et.half=it,et.f(et.data)},et.f=function(it){var lt=et.half||{},st=et.data||{};et.g(et.lol={pub:it.pub||st.pub,epub:it.epub||st.epub,priv:it.priv||lt.priv,epriv:it.epriv||lt.epriv})},et.g=function(it){if(!it||!it.pub||!it.epub)return et.b();et.pair=it;var lt=nt._.user,st=lt._;st.tag;var ft=st.opt;st=lt._=nt.get("~"+it.pub)._,st.opt=ft,lt.is={pub:it.pub,epub:it.epub,alias:j||it.pub},st.sea=et.pair,ut.ing=!1;try{tt&&_e==(g(ut.root.graph["~"+it.pub].auth)||"")[":"]&&(_.shuffle=_.change=tt)}catch{}if(_.change?et.z():(at||h)(st),c.window&&(ot.back("user")._.opt||_).remember)try{var pt={};pt=c.window.sessionStorage,pt.recall=!0,pt.pair=JSON.stringify(it)}catch{}try{nt._.tag.auth?nt._.on("auth",st):setTimeout(function(){nt._.on("auth",st)},1)}catch(wt){d.log("Your 'auth' callback crashed with:",wt)}},et.h=function(it){if(!it)return et.b();if(j=it.alias,j||(j=it.alias="~"+$.pub),!it.auth)return et.g($);$=null,et.c((et.data=it).auth)},et.z=function(){et.salt=String.random(64),c.work(_.change,et.salt,et.y)},et.y=function(it){c.encrypt({priv:et.pair.priv,epriv:et.pair.epriv},it,et.x,{raw:1})},et.x=function(it){et.w(JSON.stringify({ek:it,s:et.salt}))},et.w=function(it){if(_.shuffle){console.log("migrate core account from UTF8 & shuffle");var lt={};Object.keys(et.data).forEach(function(st){lt[st]=et.data[st]}),delete lt._,lt.auth=it,nt.get("~"+et.pair.pub).put(lt)}nt.get("~"+et.pair.pub).get("auth").put(it,at||h)},et.err=function(it){var lt={err:d.log(it||"User cannot be found!")};ut.ing=!1,(at||h)(lt)},et.plugin=function(it){if(!(et.name=it))return et.err();var lt=[it];it[0]!=="~"&&(lt[1]="~"+it,lt[2]="~@"+it),et.b(lt)},$?$.priv&&$.epriv?et.g($):nt.get("~"+$.pub).once(et.h):j?nt.get("~@"+j).once(et.a):!j&&!tt&&c.name(et.plugin),ot};function g(b){if(typeof b!="string")return b;try{b=JSON.parse(b)}catch{b={}}return b}})(o,"./auth"),o(function(s){var a=o("./user"),c=a.SEA;a.GUN,a.prototype.recall=function(d,h){var g=this,b=g.back(-1);if(d=d||{},d&&d.sessionStorage){if(c.window)try{var $={};$=c.window.sessionStorage,$&&(b._.opt.remember=!0,(g.back("user")._.opt||d).remember=!0,($.recall||$.pair)&&b.user().auth(JSON.parse($.pair),h))}catch{}return g}return g}})(o,"./recall"),o(function(s){var a=o("./user"),c=a.SEA,d=a.GUN,h=function(){};a.prototype.pair=function(){var g=this,b;try{b=new Proxy({DANGER:""},{get:function($,j,tt){if(!(!g.is||!(g._||"").sea))return g._.sea[j]}})}catch{}return b},a.prototype.delete=async function(g,b,$){console.log("user.delete() IS DEPRECATED AND WILL BE MOVED TO A MODULE!!!");var j=this;j.back(-1);var tt=j.back("user");try{tt.auth(g,b,function(at){var _=(tt.is||{}).pub;tt.map().once(function(){this.put(null)}),tt.leave(),($||h)({ok:0})})}catch(at){d.log("User.delete failed! Error:",at)}return j},a.prototype.alive=async function(){console.log("user.alive() IS DEPRECATED!!!");const g=this.back(-1);try{return await authRecall(g),g._.user._}catch{const $="No session!";throw d.log($),{err:$}}},a.prototype.trust=async function(g){console.log("`.trust` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!"),d.is(g)&&g.get("pub").get((b,$)=>{console.log(b,$)}),g.get("trust").get(path).put(theirPubkey)},a.prototype.grant=function(g,b){console.log("`.grant` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var $=this,j=$.back(-1).user(),tt=j._.sea,at="";return $.back(function(_){_.is||(at+=_.get||"")}),async function(){var _,ot=await j.get("grant").get(tt.pub).get(at).then();ot=await c.decrypt(ot,tt),ot||(ot=c.random(16).toString(),_=await c.encrypt(ot,tt),j.get("grant").get(tt.pub).get(at).put(_));var ut=g.get("pub").then(),nt=g.get("epub").then();ut=await ut,nt=await nt;var et=await c.secret(nt,tt);_=await c.encrypt(ot,et),j.get("grant").get(ut).get(at).put(_,b)}(),$},a.prototype.secret=function(g,b){console.log("`.secret` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var $=this,j=$.back(-1).user(),tt=j.pair(),at="";return $.back(function(_){_.is||(at+=_.get||"")}),async function(){var _,ot=await j.get("trust").get(tt.pub).get(at).then();ot=await c.decrypt(ot,tt),ot||(ot=c.random(16).toString(),_=await c.encrypt(ot,tt),j.get("trust").get(tt.pub).get(at).put(_)),_=await c.encrypt(g,ot),$.put(_,b)}(),$},s.exports=a})(o,"./share"),o(function(s){var a=o("./sea"),c=o("./settings"),d,h=(a.window||"").GUN||o((""+d==typeof i?".":"")+"./gun",1);h.on("opt",function(_){_.sea||(_.sea={own:{}},_.on("put",g,_)),this.to.next(_)});function g(_){var ot=this,ut=ot.as,nt=_.put,et=nt["#"],_e=nt["."],rt=nt[":"],it=nt[">"],lt=_["#"],st;if(!(!et||!_e)){if((_._||"").faith&&(ut.opt||"").faith&&typeof _._=="function"){a.opt.pack(nt,function(pt){a.verify(pt,!1,function(wt){nt["="]=a.opt.unpack(wt),ot.to.next(_)})});return}var ft=function(pt){ut.on("in",{"@":lt,err:_.err=pt})};if((_._||"").DBG&&((_._||"").DBG.c=+new Date),0<=et.indexOf("<?")&&(st=parseFloat(et.split("<?")[1]||""),st&&it<h.state()-st*1e3)){(st=_._)&&st.stun&&st.stun--;return}if(et==="~@"){g.alias(ot,_,rt,_e,et,ut,ft);return}if(et.slice(0,2)==="~@"){g.pubs(ot,_,rt,_e,et,ut,ft);return}if(st=a.opt.pub(et)){g.pub(ot,_,rt,_e,et,ut,ft,ut.user||"",st);return}if(0<=et.indexOf("#")){g.hash(ot,_,rt,_e,et,ut,ft);return}g.any(ot,_,rt,_e,et,ut,ft,ut.user||"")}}g.hash=function(_,ot,ut,nt,et,_e,rt){a.work(ut,null,function(it){function lt(st){let ft="";for(let pt=0;pt<st.length;pt++)ft+=pt-1&1?"":String.fromCharCode(parseInt(st.substring(pt-1,pt+1),16));return btoa(ft)}if(it&&it===nt.split("#").slice(-1)[0])return _.to.next(ot);if(it&&it===lt(nt.split("#").slice(-1)[0]))return _.to.next(ot);rt("Data hash not same as hash!")},{name:"SHA-256"})},g.alias=function(_,ot,ut,nt,et,_e,rt){if(!ut)return rt("Data must exist!");if("~@"+nt===$(ut))return _.to.next(ot);rt("Alias not same!")},g.pubs=function(_,ot,ut,nt,et,_e,rt){if(!ut)return rt("Alias must exist!");if(nt===$(ut))return _.to.next(ot);rt("Alias not same!")},g.pub=async function(_,ot,ut,nt,et,_e,rt,it,lt){var st;const ft=await c.parse(ut)||{},pt=(wt,$t,dt)=>{if(wt.m&&wt.s&&$t&&lt)return a.verify(wt,lt,ct=>{if(d!==ct&&d!==ct.e&&ot.put[">"]&&ot.put[">"]>parseFloat(ct.e))return rt("Certificate expired.");if(d!==ct&&ct.c&&ct.w&&(ct.c===$t||ct.c.indexOf("*")>-1)){let gt=et.indexOf("/")>-1?et.replace(et.substring(0,et.indexOf("/")+1),""):"";String.match=String.match||h.text.match;const St=Array.isArray(ct.w)?ct.w:typeof ct.w=="object"||typeof ct.w=="string"?[ct.w]:[];for(const bt of St)if(String.match(gt,bt["#"])&&String.match(nt,bt["."])||!bt["."]&&String.match(gt,bt["#"])||!bt["#"]&&String.match(nt,bt["."])||String.match(gt?gt+"/"+nt:nt,bt["#"]||bt)){if(bt["+"]&&bt["+"].indexOf("*")>-1&&gt&&gt.indexOf($t)==-1&&nt.indexOf($t)==-1)return rt(`Path "${gt}" or key "${nt}" must contain string "${$t}".`);if(ct.wb&&(typeof ct.wb=="string"||(ct.wb||{})["#"])){var yt=_.as.root.$.back(-1);return typeof ct.wb=="string"&&ct.wb.slice(0,1)!=="~"&&(yt=yt.get("~"+lt)),yt.get(ct.wb).get($t).once(ht=>ht&&(ht===1||ht===!0)?rt(`Certificant ${$t} blocked.`):dt(ct))}return dt(ct)}return rt("Certificate verification fail.")}})};if(nt==="pub"&&"~"+lt===et)return ut===lt?_.to.next(ot):rt("Account not same!");if((st=it.is)&&st.pub&&!ft["*"]&&!ft["+"]&&(lt===st.pub||lt!==st.pub&&((ot._.msg||{}).opt||{}).cert)){a.opt.pack(ot.put,wt=>{a.sign(wt,it._.sea,async function($t){if(d===$t)return rt(a.err||"Signature fail.");if(ot.put[":"]={":":st=a.opt.unpack($t.m),"~":$t.s},ot.put["="]=st,lt===it.is.pub){(st=$(ut))&&((_e.sea.own[st]=_e.sea.own[st]||{})[lt]=1),JSON.stringifyAsync(ot.put[":"],function(dt,ct){return dt?rt(dt||"Stringify error."):(ot.put[":"]=ct,_.to.next(ot))});return}if(lt!==it.is.pub&&((ot._.msg||{}).opt||{}).cert){const dt=await c.parse(ot._.msg.opt.cert);dt&&dt.m&&dt.s&&pt(dt,it.is.pub,ct=>{ot.put[":"]["+"]=dt,ot.put[":"]["*"]=it.is.pub,JSON.stringifyAsync(ot.put[":"],function(yt,gt){return yt?rt(yt||"Stringify error."):(ot.put[":"]=gt,_.to.next(ot))})})}},{raw:1})});return}a.opt.pack(ot.put,wt=>{a.verify(wt,ft["*"]||lt,function($t){var dt;if($t=a.opt.unpack($t),d===$t)return rt("Unverified data.");if((dt=$($t))&&lt===a.opt.pub(dt)&&((_e.sea.own[dt]=_e.sea.own[dt]||{})[lt]=1),ft["+"]&&ft["+"].m&&ft["+"].s&&ft["*"])pt(ft["+"],ft["*"],ct=>(ot.put["="]=$t,_.to.next(ot)));else return ot.put["="]=$t,_.to.next(ot)})})},g.any=function(_,ot,ut,nt,et,_e,rt,it){if(_e.opt.secure)return rt("Soul missing public key at '"+nt+"'.");_e.on("secure",function(lt){if(this.off(),!_e.opt.secure)return _.to.next(lt);rt("Data cannot be changed.")}).on.on("secure",ot)};var b=h.valid,$=function(_,ot){return typeof(ot=b(_))=="string"&&ot};(h.state||"").ify;var j=/[^\w_-]/;a.opt.pub=function(_){if(_&&(_=_.split("~"),!(!_||!(_=_[1]))&&(_=_.split(j).slice(0,2),!(!_||_.length!=2)&&(_[0]||"")[0]!=="@")))return _=_.slice(0,2).join("."),_},a.opt.stringy=function(_){},a.opt.pack=function(_,ot,ut,nt,et){var _e,rt;if(a.opt.check(_))return ot(_);_&&_["#"]&&_["."]&&_[">"]&&(_e=_[":"],rt=1),JSON.parseAsync(rt?_e:_,function(it,lt){var st=d!==(lt||"")[":"]&&(lt||"")["~"];if(!st){ot(_);return}ot({m:{"#":et||_["#"],".":ut||_["."],":":(lt||"")[":"],">":_[">"]||h.state.is(nt,ut)},s:st})})};var tt=a.opt;a.opt.unpack=function(_,ot,ut){var nt;if(d!==_){if(_&&d!==(nt=_[":"]))return nt;if(ot=ot||tt.fall_key,!ut&&tt.fall_val&&(ut={},ut[ot]=tt.fall_val),!(!ot||!ut)){if(_===ut[ot]||!a.opt.check(ut[ot]))return _;var et=ut&&ut._&&ut._["#"]||tt.fall_soul,_e=h.state.is(ut,ot)||tt.fall_state;if(_&&_.length===4&&et===_[0]&&ot===_[1]&&at(_e)===at(_[3]))return _[2];if(_e<a.opt.shuffle_attack)return _}}},a.opt.shuffle_attack=15463296e5;var at=Math.floor})(o,"./index")})()})(sea);var seaExports=sea.exports;const SEA=getDefaultExportFromCjs(seaExports),GunContext=React.createContext(null);function createGun(){const e=window.location.origin;e.includes("render.com");const o=["https://nepalconnect-n6xx.onrender.com/gun",e+"/gun","https://gun-manhattan.herokuapp.com/gun"].filter(Boolean);console.log("Connecting to peers:",o);const i=Gun$1({peers:o,localStorage:!1,radisk:!1,retry:500,max:1/0,super:!1,axe:!1,multicast:!1,WebSocket:window.WebSocket});return i.on("hi",s=>{console.log("Peer connected:",s)}),i.on("bye",s=>{console.log("Peer disconnected:",s)}),i.SEA=SEA,{gun:i,SEA:i.SEA}}function createUser(e,o,i){return new Promise((s,a)=>{e.user().create(o,i,c=>{if(c.err)return a(c.err);e.user().auth(o,i,d=>{if(d.err)return a(d.err);s(d)})})})}function authUser(e,o,i){return new Promise((s,a)=>{e.user().auth(o,i,c=>{if(c.err)return a(c.err);s(c)})})}const KEY_STORAGE="nc_keys_v1";async function generateAndStoreKeys(){const e=localStorage.getItem(KEY_STORAGE);if(e)return JSON.parse(e);const o=await window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["wrapKey","unwrapKey","encrypt","decrypt"]),i=await window.crypto.subtle.exportKey("spki",o.publicKey),s=await window.crypto.subtle.exportKey("pkcs8",o.privateKey),a={publicKey:arrayBufferToBase64(i),privateKey:arrayBufferToBase64(s)};return localStorage.setItem(KEY_STORAGE,JSON.stringify(a)),a}async function getKeyPair(){const e=localStorage.getItem(KEY_STORAGE);return e?JSON.parse(e):await generateAndStoreKeys()}function arrayBufferToBase64(e){const o=new Uint8Array(e);let i="";for(let s=0;s<o.byteLength;s++)i+=String.fromCharCode(o[s]);return btoa(i)}function base64ToArrayBuffer(e){const o=atob(e),i=o.length,s=new Uint8Array(i);for(let a=0;a<i;a++)s[a]=o.charCodeAt(a);return s.buffer}async function importPublicKey(e){const o=base64ToArrayBuffer(e);return await window.crypto.subtle.importKey("spki",o,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"])}async function importPrivateKey(e){const o=base64ToArrayBuffer(e);return await window.crypto.subtle.importKey("pkcs8",o,{name:"RSA-OAEP",hash:"SHA-256"},!0,["decrypt","unwrapKey"])}async function encryptMessageForPeer(e){const o=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),i=crypto.getRandomValues(new Uint8Array(12)),a=new TextEncoder().encode(JSON.stringify(e)),c=await crypto.subtle.encrypt({name:"AES-GCM",iv:i},o,a),d=await crypto.subtle.exportKey("raw",o),h=await getKeyPair(),g=await importPublicKey(h.publicKey),b=await crypto.subtle.encrypt({name:"RSA-OAEP"},g,d);return{iv:arrayBufferToBase64(i.buffer),ciphertext:arrayBufferToBase64(c),wrappedKey:arrayBufferToBase64(b)}}async function decryptMessageFromPeer(e){const o=await getKeyPair(),i=await importPrivateKey(o.privateKey),s=base64ToArrayBuffer(e.data.wrappedKey),a=await crypto.subtle.decrypt({name:"RSA-OAEP"},i,s),c=await crypto.subtle.importKey("raw",a,"AES-GCM",!0,["decrypt"]),d=base64ToArrayBuffer(e.data.iv),h=base64ToArrayBuffer(e.data.ciphertext),g=await crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(d)},c,h),b=new TextDecoder;return JSON.parse(b.decode(g))}const LOAD_BASE=e=>Promise.reject(new Error(`No base found for "${e}"`));class Multibases{constructor(o){this._basesByName={},this._basesByPrefix={},this._loadBase=o.loadBase||LOAD_BASE;for(const i of o.bases)this.addBase(i)}addBase(o){if(this._basesByName[o.name]||this._basesByPrefix[o.prefix])throw new Error(`Codec already exists for codec "${o.name}"`);this._basesByName[o.name]=o,this._basesByPrefix[o.prefix]=o}removeBase(o){delete this._basesByName[o.name],delete this._basesByPrefix[o.prefix]}async getBase(o){if(this._basesByName[o])return this._basesByName[o];if(this._basesByPrefix[o])return this._basesByPrefix[o];const i=await this._loadBase(o);return this._basesByName[i.name]==null&&this._basesByPrefix[i.prefix]==null&&this.addBase(i),i}listBases(){return Object.values(this._basesByName)}}const LOAD_CODEC=e=>Promise.reject(new Error(`No codec found for "${e}"`));class Multicodecs{constructor(o){this._codecsByName={},this._codecsByCode={},this._loadCodec=o.loadCodec||LOAD_CODEC;for(const i of o.codecs)this.addCodec(i)}addCodec(o){if(this._codecsByName[o.name]||this._codecsByCode[o.code])throw new Error(`Resolver already exists for codec "${o.name}"`);this._codecsByName[o.name]=o,this._codecsByCode[o.code]=o}removeCodec(o){delete this._codecsByName[o.name],delete this._codecsByCode[o.code]}async getCodec(o){const i=typeof o=="string"?this._codecsByName:this._codecsByCode;if(i[o])return i[o];const s=await this._loadCodec(o);return i[o]==null&&this.addCodec(s),s}listCodecs(){return Object.values(this._codecsByName)}}const LOAD_HASHER=e=>Promise.reject(new Error(`No hasher found for "${e}"`));class Multihashes{constructor(o){this._hashersByName={},this._hashersByCode={},this._loadHasher=o.loadHasher||LOAD_HASHER;for(const i of o.hashers)this.addHasher(i)}addHasher(o){if(this._hashersByName[o.name]||this._hashersByCode[o.code])throw new Error(`Resolver already exists for codec "${o.name}"`);this._hashersByName[o.name]=o,this._hashersByCode[o.code]=o}removeHasher(o){delete this._hashersByName[o.name],delete this._hashersByCode[o.code]}async getHasher(o){const i=typeof o=="string"?this._hashersByName:this._hashersByCode;if(i[o])return i[o];const s=await this._loadHasher(o);return i[o]==null&&this.addHasher(s),s}listHashers(){return Object.values(this._hashersByName)}}var encode_1$6=encode$t,MSB$8=128,REST$8=127,MSBALL$6=~REST$8,INT$6=Math.pow(2,31);function encode$t(e,o,i){o=o||[],i=i||0;for(var s=i;e>=INT$6;)o[i++]=e&255|MSB$8,e/=128;for(;e&MSBALL$6;)o[i++]=e&255|MSB$8,e>>>=7;return o[i]=e|0,encode$t.bytes=i-s+1,o}var decode$F=read$6,MSB$1$6=128,REST$1$6=127;function read$6(e,s){var i=0,s=s||0,a=0,c=s,d,h=e.length;do{if(c>=h)throw read$6.bytes=0,new RangeError("Could not decode varint");d=e[c++],i+=a<28?(d&REST$1$6)<<a:(d&REST$1$6)*Math.pow(2,a),a+=7}while(d>=MSB$1$6);return read$6.bytes=c-s,i}var N1$7=Math.pow(2,7),N2$7=Math.pow(2,14),N3$7=Math.pow(2,21),N4$7=Math.pow(2,28),N5$7=Math.pow(2,35),N6$7=Math.pow(2,42),N7$7=Math.pow(2,49),N8$6=Math.pow(2,56),N9$6=Math.pow(2,63),length$6=function(e){return e<N1$7?1:e<N2$7?2:e<N3$7?3:e<N4$7?4:e<N5$7?5:e<N6$7?6:e<N7$7?7:e<N8$6?8:e<N9$6?9:10},varint$7={encode:encode_1$6,decode:decode$F,encodingLength:length$6},_brrp_varint$5=varint$7;const decode$E=(e,o=0)=>[_brrp_varint$5.decode(e,o),_brrp_varint$5.decode.bytes],encodeTo$5=(e,o,i=0)=>(_brrp_varint$5.encode(e,o,i),o),encodingLength$6=e=>_brrp_varint$5.encodingLength(e),equals$d=(e,o)=>{if(e===o)return!0;if(e.byteLength!==o.byteLength)return!1;for(let i=0;i<e.byteLength;i++)if(e[i]!==o[i])return!1;return!0},coerce$7=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},create$8=(e,o)=>{const i=o.byteLength,s=encodingLength$6(e),a=s+encodingLength$6(i),c=new Uint8Array(a+i);return encodeTo$5(e,c,0),encodeTo$5(i,c,s),c.set(o,a),new Digest$5(e,i,o,c)},decode$D=e=>{const o=coerce$7(e),[i,s]=decode$E(o),[a,c]=decode$E(o.subarray(s)),d=o.subarray(s+c);if(d.byteLength!==a)throw new Error("Incorrect length");return new Digest$5(i,a,d,o)},equals$c=(e,o)=>{if(e===o)return!0;{const i=o;return e.code===i.code&&e.size===i.size&&i.bytes instanceof Uint8Array&&equals$d(e.bytes,i.bytes)}};let Digest$5=class{constructor(o,i,s,a){this.code=o,this.size=i,this.digest=s,this.bytes=a}};function base$7(e,o){if(e.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),s=0;s<i.length;s++)i[s]=255;for(var a=0;a<e.length;a++){var c=e.charAt(a),d=c.charCodeAt(0);if(i[d]!==255)throw new TypeError(c+" is ambiguous");i[d]=a}var h=e.length,g=e.charAt(0),b=Math.log(h)/Math.log(256),$=Math.log(256)/Math.log(h);function j(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var ot=0,ut=0,nt=0,et=_.length;nt!==et&&_[nt]===0;)nt++,ot++;for(var _e=(et-nt)*$+1>>>0,rt=new Uint8Array(_e);nt!==et;){for(var it=_[nt],lt=0,st=_e-1;(it!==0||lt<ut)&&st!==-1;st--,lt++)it+=256*rt[st]>>>0,rt[st]=it%h>>>0,it=it/h>>>0;if(it!==0)throw new Error("Non-zero carry");ut=lt,nt++}for(var ft=_e-ut;ft!==_e&&rt[ft]===0;)ft++;for(var pt=g.repeat(ot);ft<_e;++ft)pt+=e.charAt(rt[ft]);return pt}function tt(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var ot=0;if(_[ot]!==" "){for(var ut=0,nt=0;_[ot]===g;)ut++,ot++;for(var et=(_.length-ot)*b+1>>>0,_e=new Uint8Array(et);_[ot];){var rt=i[_.charCodeAt(ot)];if(rt===255)return;for(var it=0,lt=et-1;(rt!==0||it<nt)&&lt!==-1;lt--,it++)rt+=h*_e[lt]>>>0,_e[lt]=rt%256>>>0,rt=rt/256>>>0;if(rt!==0)throw new Error("Non-zero carry");nt=it,ot++}if(_[ot]!==" "){for(var st=et-nt;st!==et&&_e[st]===0;)st++;for(var ft=new Uint8Array(ut+(et-st)),pt=ut;st!==et;)ft[pt++]=_e[st++];return ft}}}function at(_){var ot=tt(_);if(ot)return ot;throw new Error(`Non-${o} character`)}return{encode:j,decodeUnsafe:tt,decode:at}}var src$8=base$7,_brrp__multiformats_scope_baseX$7=src$8;let Encoder$7=class{constructor(o,i,s){this.name=o,this.prefix=i,this.baseEncode=s}encode(o){if(o instanceof Uint8Array)return`${this.prefix}${this.baseEncode(o)}`;throw Error("Unknown type, must be binary type")}},Decoder$7=class{constructor(o,i,s){if(this.name=o,this.prefix=i,i.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=s}decode(o){if(typeof o=="string"){if(o.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(o)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(o.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(o){return or$7(this,o)}},ComposedDecoder$7=class{constructor(o){this.decoders=o}or(o){return or$7(this,o)}decode(o){const i=o[0],s=this.decoders[i];if(s)return s.decode(o);throw RangeError(`Unable to decode multibase string ${JSON.stringify(o)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$7=(e,o)=>new ComposedDecoder$7({...e.decoders||{[e.prefix]:e},...o.decoders||{[o.prefix]:o}});let Codec$7=class{constructor(o,i,s,a){this.name=o,this.prefix=i,this.baseEncode=s,this.baseDecode=a,this.encoder=new Encoder$7(o,i,s),this.decoder=new Decoder$7(o,i,a)}encode(o){return this.encoder.encode(o)}decode(o){return this.decoder.decode(o)}};const from$8=({name:e,prefix:o,encode:i,decode:s})=>new Codec$7(e,o,i,s),baseX$7=({prefix:e,name:o,alphabet:i})=>{const{encode:s,decode:a}=_brrp__multiformats_scope_baseX$7(i,o);return from$8({prefix:e,name:o,encode:s,decode:c=>coerce$7(a(c))})},decode$C=(e,o,i,s)=>{const a={};for(let $=0;$<o.length;++$)a[o[$]]=$;let c=e.length;for(;e[c-1]==="=";)--c;const d=new Uint8Array(c*i/8|0);let h=0,g=0,b=0;for(let $=0;$<c;++$){const j=a[e[$]];if(j===void 0)throw new SyntaxError(`Non-${s} character`);g=g<<i|j,h+=i,h>=8&&(h-=8,d[b++]=255&g>>h)}if(h>=i||255&g<<8-h)throw new SyntaxError("Unexpected end of data");return d},encode$s=(e,o,i)=>{const s=o[o.length-1]==="=",a=(1<<i)-1;let c="",d=0,h=0;for(let g=0;g<e.length;++g)for(h=h<<8|e[g],d+=8;d>i;)d-=i,c+=o[a&h>>d];if(d&&(c+=o[a&h<<i-d]),s)for(;c.length*i&7;)c+="=";return c},rfc4648$7=({name:e,prefix:o,bitsPerChar:i,alphabet:s})=>from$8({prefix:o,name:e,encode(a){return encode$s(a,s,i)},decode(a){return decode$C(a,s,i,e)}}),base58btc$7=baseX$7({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$7({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const base32$b=rfc4648$7({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$7({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$7({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$7({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$7({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$7({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$7({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$7({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$7({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const format$9=(e,o)=>{const{bytes:i,version:s}=e;switch(s){case 0:return toStringV0$5(i,baseCache$5(e),o||base58btc$7.encoder);default:return toStringV1$5(i,baseCache$5(e),o||base32$b.encoder)}},cache$5=new WeakMap,baseCache$5=e=>{const o=cache$5.get(e);if(o==null){const i=new Map;return cache$5.set(e,i),i}return o};let CID$5=class jt{constructor(o,i,s,a){this.code=i,this.version=o,this.multihash=s,this.bytes=a,this["/"]=a}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:o,multihash:i}=this;if(o!==DAG_PB_CODE$5)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(i.code!==SHA_256_CODE$5)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return jt.createV0(i)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:o,digest:i}=this.multihash,s=create$8(o,i);return jt.createV1(this.code,s)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(o){return jt.equals(this,o)}static equals(o,i){const s=i;return s&&o.code===s.code&&o.version===s.version&&equals$c(o.multihash,s.multihash)}toString(o){return format$9(this,o)}toJSON(){return{"/":format$9(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(o){if(o==null)return null;const i=o;if(i instanceof jt)return i;if(i["/"]!=null&&i["/"]===i.bytes||i.asCID===i){const{version:s,code:a,multihash:c,bytes:d}=i;return new jt(s,a,c,d||encodeCID$6(s,a,c.bytes))}else if(i[cidSymbol$5]===!0){const{version:s,multihash:a,code:c}=i,d=decode$D(a);return jt.create(s,c,d)}else return null}static create(o,i,s){if(typeof i!="number")throw new Error("String codecs are no longer supported");if(!(s.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(o){case 0:{if(i!==DAG_PB_CODE$5)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$5}) block encoding`);return new jt(o,i,s,s.bytes)}case 1:{const a=encodeCID$6(o,i,s.bytes);return new jt(o,i,s,a)}default:throw new Error("Invalid version")}}static createV0(o){return jt.create(0,DAG_PB_CODE$5,o)}static createV1(o,i){return jt.create(1,o,i)}static decode(o){const[i,s]=jt.decodeFirst(o);if(s.length)throw new Error("Incorrect length");return i}static decodeFirst(o){const i=jt.inspectBytes(o),s=i.size-i.multihashSize,a=coerce$7(o.subarray(s,s+i.multihashSize));if(a.byteLength!==i.multihashSize)throw new Error("Incorrect length");const c=a.subarray(i.multihashSize-i.digestSize),d=new Digest$5(i.multihashCode,i.digestSize,c,a);return[i.version===0?jt.createV0(d):jt.createV1(i.codec,d),o.subarray(i.size)]}static inspectBytes(o){let i=0;const s=()=>{const[j,tt]=decode$E(o.subarray(i));return i+=tt,j};let a=s(),c=DAG_PB_CODE$5;if(a===18?(a=0,i=0):c=s(),a!==0&&a!==1)throw new RangeError(`Invalid CID version ${a}`);const d=i,h=s(),g=s(),b=i+g,$=b-d;return{version:a,codec:c,multihashCode:h,digestSize:g,multihashSize:$,size:b}}static parse(o,i){const[s,a]=parseCIDtoBytes$5(o,i),c=jt.decode(a);if(c.version===0&&o[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$5(c).set(s,o),c}};const parseCIDtoBytes$5=(e,o)=>{switch(e[0]){case"Q":{const i=o||base58btc$7;return[base58btc$7.prefix,i.decode(`${base58btc$7.prefix}${e}`)]}case base58btc$7.prefix:{const i=o||base58btc$7;return[base58btc$7.prefix,i.decode(e)]}case base32$b.prefix:{const i=o||base32$b;return[base32$b.prefix,i.decode(e)]}default:{if(o==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],o.decode(e)]}}},toStringV0$5=(e,o,i)=>{const{prefix:s}=i;if(s!==base58btc$7.prefix)throw Error(`Cannot string encode V0 in ${i.name} encoding`);const a=o.get(s);if(a==null){const c=i.encode(e).slice(1);return o.set(s,c),c}else return a},toStringV1$5=(e,o,i)=>{const{prefix:s}=i,a=o.get(s);if(a==null){const c=i.encode(e);return o.set(s,c),c}else return a},DAG_PB_CODE$5=112,SHA_256_CODE$5=18,encodeCID$6=(e,o,i)=>{const s=encodingLength$6(e),a=s+encodingLength$6(o),c=new Uint8Array(a+i.byteLength);return encodeTo$5(e,c,0),encodeTo$5(o,c,s),c.set(i,a),c},cidSymbol$5=Symbol.for("@ipld/js-cid/CID"),textDecoder$2=new TextDecoder;function decodeVarint(e,o){let i=0;for(let s=0;;s+=7){if(s>=64)throw new Error("protobuf: varint overflow");if(o>=e.length)throw new Error("protobuf: unexpected end of data");const a=e[o++];if(i+=s<28?(a&127)<<s:(a&127)*2**s,a<128)break}return[i,o]}function decodeBytes(e,o){let i;[i,o]=decodeVarint(e,o);const s=o+i;if(i<0||s<0)throw new Error("protobuf: invalid length");if(s>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(o,s),s]}function decodeKey(e,o){let i;return[i,o]=decodeVarint(e,o),[i&7,i>>3,o]}function decodeLink(e){const o={},i=e.length;let s=0;for(;s<i;){let a,c;if([a,c,s]=decodeKey(e,s),c===1){if(o.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(a!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${a}) for Hash`);if(o.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(o.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[o.Hash,s]=decodeBytes(e,s)}else if(c===2){if(o.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(a!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${a}) for Name`);if(o.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let d;[d,s]=decodeBytes(e,s),o.Name=textDecoder$2.decode(d)}else if(c===3){if(o.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(a!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${a}) for Tsize`);[o.Tsize,s]=decodeVarint(e,s)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${c}`)}if(s>i)throw new Error("protobuf: (PBLink) unexpected end of data");return o}function decodeNode(e){const o=e.length;let i=0,s,a=!1,c;for(;i<o;){let h,g;if([h,g,i]=decodeKey(e,i),h!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${h}`);if(g===1){if(c)throw new Error("protobuf: (PBNode) duplicate Data section");[c,i]=decodeBytes(e,i),s&&(a=!0)}else if(g===2){if(a)throw new Error("protobuf: (PBNode) duplicate Links section");s||(s=[]);let b;[b,i]=decodeBytes(e,i),s.push(decodeLink(b))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${g}`)}if(i>o)throw new Error("protobuf: (PBNode) unexpected end of data");const d={};return c&&(d.Data=c),d.Links=s||[],d}const textEncoder$3=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink(e,o){let i=o.length;if(typeof e.Tsize=="number"){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");i=encodeVarint(o,i,e.Tsize)-1,o[i]=24}if(typeof e.Name=="string"){const s=textEncoder$3.encode(e.Name);i-=s.length,o.set(s,i),i=encodeVarint(o,i,s.length)-1,o[i]=18}return e.Hash&&(i-=e.Hash.length,o.set(e.Hash,i),i=encodeVarint(o,i,e.Hash.length)-1,o[i]=10),o.length-i}function encodeNode(e){const o=sizeNode(e),i=new Uint8Array(o);let s=o;if(e.Data&&(s-=e.Data.length,i.set(e.Data,s),s=encodeVarint(i,s,e.Data.length)-1,i[s]=10),e.Links)for(let a=e.Links.length-1;a>=0;a--){const c=encodeLink(e.Links[a],i.subarray(0,s));s-=c,s=encodeVarint(i,s,c)-1,i[s]=18}return i}function sizeLink(e){let o=0;if(e.Hash){const i=e.Hash.length;o+=1+i+sov(i)}if(typeof e.Name=="string"){const i=textEncoder$3.encode(e.Name).length;o+=1+i+sov(i)}return typeof e.Tsize=="number"&&(o+=1+sov(e.Tsize)),o}function sizeNode(e){let o=0;if(e.Data){const i=e.Data.length;o+=1+i+sov(i)}if(e.Links)for(const i of e.Links){const s=sizeLink(i);o+=1+s+sov(s)}return o}function encodeVarint(e,o,i){o-=sov(i);const s=o;for(;i>=maxUInt32;)e[o++]=i&127|128,i/=128;for(;i>=128;)e[o++]=i&127|128,i>>>=7;return e[o]=i,s}function sov(e){return e%2===0&&e++,Math.floor((len64(e)+6)/7)}function len64(e){let o=0;return e>=maxInt32&&(e=Math.floor(e/maxInt32),o=32),e>=65536&&(e>>>=16,o+=16),e>=256&&(e>>>=8,o+=8),o+len8tab[e]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder$2=new TextEncoder;function linkComparator(e,o){if(e===o)return 0;const i=e.Name?textEncoder$2.encode(e.Name):[],s=o.Name?textEncoder$2.encode(o.Name):[];let a=i.length,c=s.length;for(let d=0,h=Math.min(a,c);d<h;++d)if(i[d]!==s[d]){a=i[d],c=s[d];break}return a<c?-1:c<a?1:0}function hasOnlyProperties(e,o){return!Object.keys(e).some(i=>!o.includes(i))}function asLink(e){if(typeof e.asCID=="object"){const i=CID$5.asCID(e);if(!i)throw new TypeError("Invalid DAG-PB form");return{Hash:i}}if(typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const o={};if(e.Hash){let i=CID$5.asCID(e.Hash);try{i||(typeof e.Hash=="string"?i=CID$5.parse(e.Hash):e.Hash instanceof Uint8Array&&(i=CID$5.decode(e.Hash)))}catch(s){throw new TypeError(`Invalid DAG-PB form: ${s.message}`)}i&&(o.Hash=i)}if(!o.Hash)throw new TypeError("Invalid DAG-PB form");return typeof e.Name=="string"&&(o.Name=e.Name),typeof e.Tsize=="number"&&(o.Tsize=e.Tsize),o}function prepare(e){if((e instanceof Uint8Array||typeof e=="string")&&(e={Data:e}),typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const o={};if(e.Data!==void 0)if(typeof e.Data=="string")o.Data=textEncoder$2.encode(e.Data);else if(e.Data instanceof Uint8Array)o.Data=e.Data;else throw new TypeError("Invalid DAG-PB form");if(e.Links!==void 0)if(Array.isArray(e.Links))o.Links=e.Links.map(asLink),o.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else o.Links=[];return o}function validate$2(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(e,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(e.Data!==void 0&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let o=0;o<e.Links.length;o++){const i=e.Links[o];if(!i||typeof i!="object"||Array.isArray(i))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(i,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!i.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(i.Hash.asCID!==i.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(i.Name!==void 0&&typeof i.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(i.Tsize!==void 0&&(typeof i.Tsize!="number"||i.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(o>0&&linkComparator(i,e.Links[o-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(e,o=[]){return prepare({Data:e,Links:o})}function createLink(e,o,i){return asLink({Hash:i,Name:e,Tsize:o})}const name$6="dag-pb",code$6=112;function encode$r(e){validate$2(e);const o={};return e.Links&&(o.Links=e.Links.map(i=>{const s={};return i.Hash&&(s.Hash=i.Hash.bytes),i.Name!==void 0&&(s.Name=i.Name),i.Tsize!==void 0&&(s.Tsize=i.Tsize),s})),e.Data&&(o.Data=e.Data),encodeNode(o)}function decode$B(e){const o=decodeNode(e),i={};return o.Data&&(i.Data=o.Data),o.Links&&(i.Links=o.Links.map(s=>{const a={};try{a.Hash=CID$5.decode(s.Hash)}catch{}if(!a.Hash)throw new Error("Invalid Hash field found in link, expected CID");return s.Name!==void 0&&(a.Name=s.Name),s.Tsize!==void 0&&(a.Tsize=s.Tsize),a})),i}const dagPB=Object.freeze(Object.defineProperty({__proto__:null,code:code$6,createLink,createNode,decode:decode$B,encode:encode$r,name:name$6,prepare,validate:validate$2},Symbol.toStringTag,{value:"Module"})),typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";const o=typeof e;if(typeofs.includes(o))return o;if(o==="function")return"Function";if(Array.isArray(e))return"Array";if(isBuffer$1(e))return"Buffer";const i=getObjectType(e);return i||"Object"}function isBuffer$1(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function getObjectType(e){const o=Object.prototype.toString.call(e).slice(8,-1);if(objectTypeNames.includes(o))return o}class Type{constructor(o,i,s){this.major=o,this.majorEncoded=o<<5,this.name=i,this.terminal=s}toString(){return`Type[${this.major}].${this.name}`}compare(o){return this.major<o.major?-1:this.major>o.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(o,i,s){this.type=o,this.value=i,this.encodedLength=s,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$1=new TextDecoder,textEncoder$1=new TextEncoder;function isBuffer(e){return useBuffer&&globalThis.Buffer.isBuffer(e)}function asU8A(e){return e instanceof Uint8Array?isBuffer(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const toString$7=useBuffer?(e,o,i)=>i-o>64?globalThis.Buffer.from(e.subarray(o,i)).toString("utf8"):utf8Slice(e,o,i):(e,o,i)=>i-o>64?textDecoder$1.decode(e.subarray(o,i)):utf8Slice(e,o,i),fromString$7=useBuffer?e=>e.length>64?globalThis.Buffer.from(e):utf8ToBytes(e):e=>e.length>64?textEncoder$1.encode(e):utf8ToBytes(e),fromArray=e=>Uint8Array.from(e),slice=useBuffer?(e,o,i)=>isBuffer(e)?new Uint8Array(e.subarray(o,i)):e.slice(o,i):(e,o,i)=>e.slice(o,i),concat$2=useBuffer?(e,o)=>(e=e.map(i=>i instanceof Uint8Array?i:globalThis.Buffer.from(i)),asU8A(globalThis.Buffer.concat(e,o))):(e,o)=>{const i=new Uint8Array(o);let s=0;for(let a of e)s+a.length>i.length&&(a=a.subarray(0,i.length-s)),i.set(a,s),s+=a.length;return i},alloc=useBuffer?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function compare(e,o){if(isBuffer(e)&&isBuffer(o))return e.compare(o);for(let i=0;i<e.length;i++)if(e[i]!==o[i])return e[i]<o[i]?-1:1;return 0}function utf8ToBytes(e,o=1/0){let i;const s=e.length;let a=null;const c=[];for(let d=0;d<s;++d){if(i=e.charCodeAt(d),i>55295&&i<57344){if(!a){if(i>56319){(o-=3)>-1&&c.push(239,191,189);continue}else if(d+1===s){(o-=3)>-1&&c.push(239,191,189);continue}a=i;continue}if(i<56320){(o-=3)>-1&&c.push(239,191,189),a=i;continue}i=(a-55296<<10|i-56320)+65536}else a&&(o-=3)>-1&&c.push(239,191,189);if(a=null,i<128){if((o-=1)<0)break;c.push(i)}else if(i<2048){if((o-=2)<0)break;c.push(i>>6|192,i&63|128)}else if(i<65536){if((o-=3)<0)break;c.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((o-=4)<0)break;c.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return c}function utf8Slice(e,o,i){const s=[];for(;o<i;){const a=e[o];let c=null,d=a>239?4:a>223?3:a>191?2:1;if(o+d<=i){let h,g,b,$;switch(d){case 1:a<128&&(c=a);break;case 2:h=e[o+1],(h&192)===128&&($=(a&31)<<6|h&63,$>127&&(c=$));break;case 3:h=e[o+1],g=e[o+2],(h&192)===128&&(g&192)===128&&($=(a&15)<<12|(h&63)<<6|g&63,$>2047&&($<55296||$>57343)&&(c=$));break;case 4:h=e[o+1],g=e[o+2],b=e[o+3],(h&192)===128&&(g&192)===128&&(b&192)===128&&($=(a&15)<<18|(h&63)<<12|(g&63)<<6|b&63,$>65535&&$<1114112&&(c=$))}}c===null?(c=65533,d=1):c>65535&&(c-=65536,s.push(c>>>10&1023|55296),c=56320|c&1023),s.push(c),o+=d}return decodeCodePointsArray(s)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){const o=e.length;if(o<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);let i="",s=0;for(;s<o;)i+=String.fromCharCode.apply(String,e.slice(s,s+=MAX_ARGUMENTS_LENGTH));return i}const defaultChunkSize=256;class Bl{constructor(o=defaultChunkSize){this.chunkSize=o,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(o){let i=this.chunks[this.chunks.length-1];if(this.cursor+o.length<=this.maxCursor+1){const a=i.length-(this.maxCursor-this.cursor)-1;i.set(o,a)}else{if(i){const a=i.length-(this.maxCursor-this.cursor)-1;a<i.length&&(this.chunks[this.chunks.length-1]=i.subarray(0,a),this.maxCursor=this.cursor-1)}o.length<64&&o.length<this.chunkSize?(i=alloc(this.chunkSize),this.chunks.push(i),this.maxCursor+=i.length,this._initReuseChunk===null&&(this._initReuseChunk=i),i.set(o,0)):(this.chunks.push(o),this.maxCursor+=o.length)}this.cursor+=o.length}toBytes(o=!1){let i;if(this.chunks.length===1){const s=this.chunks[0];o&&this.cursor>s.length/2?(i=this.cursor===s.length?s:s.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):i=slice(s,0,this.cursor)}else i=concat$2(this.chunks,this.cursor);return o&&this.reset(),i}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(e,o,i){if(e.length-o<i)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(e,o,i){assertEnoughData(e,o,1);const s=e[o];if(i.strict===!0&&s<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return s}function readUint16(e,o,i){assertEnoughData(e,o,2);const s=e[o]<<8|e[o+1];if(i.strict===!0&&s<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return s}function readUint32(e,o,i){assertEnoughData(e,o,4);const s=e[o]*16777216+(e[o+1]<<16)+(e[o+2]<<8)+e[o+3];if(i.strict===!0&&s<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return s}function readUint64(e,o,i){assertEnoughData(e,o,8);const s=e[o]*16777216+(e[o+1]<<16)+(e[o+2]<<8)+e[o+3],a=e[o+4]*16777216+(e[o+5]<<16)+(e[o+6]<<8)+e[o+7],c=(BigInt(s)<<BigInt(32))+BigInt(a);if(i.strict===!0&&c<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(c<=Number.MAX_SAFE_INTEGER)return Number(c);if(i.allowBigInt===!0)return c;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8(e,o,i,s){return new Token(Type.uint,readUint8(e,o+1,s),2)}function decodeUint16(e,o,i,s){return new Token(Type.uint,readUint16(e,o+1,s),3)}function decodeUint32(e,o,i,s){return new Token(Type.uint,readUint32(e,o+1,s),5)}function decodeUint64(e,o,i,s){return new Token(Type.uint,readUint64(e,o+1,s),9)}function encodeUint(e,o){return encodeUintValue(e,0,o.value)}function encodeUintValue(e,o,i){if(i<uintBoundaries[0]){const s=Number(i);e.push([o|s])}else if(i<uintBoundaries[1]){const s=Number(i);e.push([o|24,s])}else if(i<uintBoundaries[2]){const s=Number(i);e.push([o|25,s>>>8,s&255])}else if(i<uintBoundaries[3]){const s=Number(i);e.push([o|26,s>>>24&255,s>>>16&255,s>>>8&255,s&255])}else{const s=BigInt(i);if(s<uintBoundaries[4]){const a=[o|27,0,0,0,0,0,0,0];let c=Number(s&BigInt(4294967295)),d=Number(s>>BigInt(32)&BigInt(4294967295));a[8]=c&255,c=c>>8,a[7]=c&255,c=c>>8,a[6]=c&255,c=c>>8,a[5]=c&255,a[4]=d&255,d=d>>8,a[3]=d&255,d=d>>8,a[2]=d&255,d=d>>8,a[1]=d&255,e.push(a)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function(o){return encodeUintValue.encodedSize(o.value)};encodeUintValue.encodedSize=function(o){return o<uintBoundaries[0]?1:o<uintBoundaries[1]?2:o<uintBoundaries[2]?3:o<uintBoundaries[3]?5:9};encodeUint.compareTokens=function(o,i){return o.value<i.value?-1:o.value>i.value?1:0};function decodeNegint8(e,o,i,s){return new Token(Type.negint,-1-readUint8(e,o+1,s),2)}function decodeNegint16(e,o,i,s){return new Token(Type.negint,-1-readUint16(e,o+1,s),3)}function decodeNegint32(e,o,i,s){return new Token(Type.negint,-1-readUint32(e,o+1,s),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(e,o,i,s){const a=readUint64(e,o+1,s);if(typeof a!="bigint"){const c=-1-a;if(c>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,c,9)}if(s.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token(Type.negint,neg1b-BigInt(a),9)}function encodeNegint(e,o){const i=o.value,s=typeof i=="bigint"?i*neg1b-pos1b:i*-1-1;encodeUintValue(e,o.type.majorEncoded,s)}encodeNegint.encodedSize=function(o){const i=o.value,s=typeof i=="bigint"?i*neg1b-pos1b:i*-1-1;return s<uintBoundaries[0]?1:s<uintBoundaries[1]?2:s<uintBoundaries[2]?3:s<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function(o,i){return o.value<i.value?1:o.value>i.value?-1:0};function toToken$3(e,o,i,s){assertEnoughData(e,o,i+s);const a=slice(e,o+i,o+i+s);return new Token(Type.bytes,a,i+s)}function decodeBytesCompact(e,o,i,s){return toToken$3(e,o,1,i)}function decodeBytes8(e,o,i,s){return toToken$3(e,o,2,readUint8(e,o+1,s))}function decodeBytes16(e,o,i,s){return toToken$3(e,o,3,readUint16(e,o+1,s))}function decodeBytes32(e,o,i,s){return toToken$3(e,o,5,readUint32(e,o+1,s))}function decodeBytes64(e,o,i,s){const a=readUint64(e,o+1,s);if(typeof a=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3(e,o,9,a)}function tokenBytes(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===Type.string?fromString$7(e.value):e.value),e.encodedBytes}function encodeBytes(e,o){const i=tokenBytes(o);encodeUintValue(e,o.type.majorEncoded,i.length),e.push(i)}encodeBytes.encodedSize=function(o){const i=tokenBytes(o);return encodeUintValue.encodedSize(i.length)+i.length};encodeBytes.compareTokens=function(o,i){return compareBytes(tokenBytes(o),tokenBytes(i))};function compareBytes(e,o){return e.length<o.length?-1:e.length>o.length?1:compare(e,o)}function toToken$2(e,o,i,s,a){const c=i+s;assertEnoughData(e,o,c);const d=new Token(Type.string,toString$7(e,o+i,o+c),c);return a.retainStringBytes===!0&&(d.byteValue=slice(e,o+i,o+c)),d}function decodeStringCompact(e,o,i,s){return toToken$2(e,o,1,i,s)}function decodeString8(e,o,i,s){return toToken$2(e,o,2,readUint8(e,o+1,s),s)}function decodeString16(e,o,i,s){return toToken$2(e,o,3,readUint16(e,o+1,s),s)}function decodeString32(e,o,i,s){return toToken$2(e,o,5,readUint32(e,o+1,s),s)}function decodeString64(e,o,i,s){const a=readUint64(e,o+1,s);if(typeof a=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2(e,o,9,a,s)}const encodeString=encodeBytes;function toToken$1(e,o,i,s){return new Token(Type.array,s,i)}function decodeArrayCompact(e,o,i,s){return toToken$1(e,o,1,i)}function decodeArray8(e,o,i,s){return toToken$1(e,o,2,readUint8(e,o+1,s))}function decodeArray16(e,o,i,s){return toToken$1(e,o,3,readUint16(e,o+1,s))}function decodeArray32(e,o,i,s){return toToken$1(e,o,5,readUint32(e,o+1,s))}function decodeArray64(e,o,i,s){const a=readUint64(e,o+1,s);if(typeof a=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1(e,o,9,a)}function decodeArrayIndefinite(e,o,i,s){if(s.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1(e,o,1,1/0)}function encodeArray(e,o){encodeUintValue(e,Type.array.majorEncoded,o.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function(o){return encodeUintValue.encodedSize(o.value)};function toToken(e,o,i,s){return new Token(Type.map,s,i)}function decodeMapCompact(e,o,i,s){return toToken(e,o,1,i)}function decodeMap8(e,o,i,s){return toToken(e,o,2,readUint8(e,o+1,s))}function decodeMap16(e,o,i,s){return toToken(e,o,3,readUint16(e,o+1,s))}function decodeMap32(e,o,i,s){return toToken(e,o,5,readUint32(e,o+1,s))}function decodeMap64(e,o,i,s){const a=readUint64(e,o+1,s);if(typeof a=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken(e,o,9,a)}function decodeMapIndefinite(e,o,i,s){if(s.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken(e,o,1,1/0)}function encodeMap(e,o){encodeUintValue(e,Type.map.majorEncoded,o.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function(o){return encodeUintValue.encodedSize(o.value)};function decodeTagCompact(e,o,i,s){return new Token(Type.tag,i,1)}function decodeTag8(e,o,i,s){return new Token(Type.tag,readUint8(e,o+1,s),2)}function decodeTag16(e,o,i,s){return new Token(Type.tag,readUint16(e,o+1,s),3)}function decodeTag32(e,o,i,s){return new Token(Type.tag,readUint32(e,o+1,s),5)}function decodeTag64(e,o,i,s){return new Token(Type.tag,readUint64(e,o+1,s),9)}function encodeTag(e,o){encodeUintValue(e,Type.tag.majorEncoded,o.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function(o){return encodeUintValue.encodedSize(o.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(e,o,i,s){if(s.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return s.coerceUndefinedToNull===!0?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(e,o,i,s){if(s.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken(e,o,i){if(i){if(i.allowNaN===!1&&Number.isNaN(e))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(i.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token(Type.float,e,o)}function decodeFloat16(e,o,i,s){return createToken(readFloat16(e,o+1),3,s)}function decodeFloat32(e,o,i,s){return createToken(readFloat32(e,o+1),5,s)}function decodeFloat64(e,o,i,s){return createToken(readFloat64(e,o+1),9,s)}function encodeFloat(e,o,i){const s=o.value;if(s===!1)e.push([Type.float.majorEncoded|MINOR_FALSE]);else if(s===!0)e.push([Type.float.majorEncoded|MINOR_TRUE]);else if(s===null)e.push([Type.float.majorEncoded|MINOR_NULL]);else if(s===void 0)e.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let a,c=!1;(!i||i.float64!==!0)&&(encodeFloat16(s),a=readFloat16(ui8a,1),s===a||Number.isNaN(s)?(ui8a[0]=249,e.push(ui8a.slice(0,3)),c=!0):(encodeFloat32(s),a=readFloat32(ui8a,1),s===a&&(ui8a[0]=250,e.push(ui8a.slice(0,5)),c=!0))),c||(encodeFloat64(s),a=readFloat64(ui8a,1),ui8a[0]=251,e.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(o,i){const s=o.value;if(s===!1||s===!0||s===null||s===void 0)return 1;if(!i||i.float64!==!0){encodeFloat16(s);let a=readFloat16(ui8a,1);if(s===a||Number.isNaN(s))return 3;if(encodeFloat32(s),a=readFloat32(ui8a,1),s===a)return 5}return 9};const buffer=new ArrayBuffer(9),dataView=new DataView(buffer,1),ui8a=new Uint8Array(buffer,0);function encodeFloat16(e){if(e===1/0)dataView.setUint16(0,31744,!1);else if(e===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(e))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,e);const o=dataView.getUint32(0),i=(o&2139095040)>>23,s=o&8388607;if(i===255)dataView.setUint16(0,31744,!1);else if(i===0)dataView.setUint16(0,(e&2147483648)>>16|s>>13,!1);else{const a=i-127;a<-24?dataView.setUint16(0,0):a<-14?dataView.setUint16(0,(o&2147483648)>>16|1<<24+a,!1):dataView.setUint16(0,(o&2147483648)>>16|a+15<<10|s>>13,!1)}}}function readFloat16(e,o){if(e.length-o<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const i=(e[o]<<8)+e[o+1];if(i===31744)return 1/0;if(i===64512)return-1/0;if(i===32256)return NaN;const s=i>>10&31,a=i&1023;let c;return s===0?c=a*2**-24:s!==31?c=(a+1024)*2**(s-25):c=a===0?1/0:NaN,i&32768?-c:c}function encodeFloat32(e){dataView.setFloat32(0,e,!1)}function readFloat32(e,o){if(e.length-o<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const i=(e.byteOffset||0)+o;return new DataView(e.buffer,i,4).getFloat32(0,!1)}function encodeFloat64(e){dataView.setFloat64(0,e,!1)}function readFloat64(e,o){if(e.length-o<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const i=(e.byteOffset||0)+o;return new DataView(e.buffer,i,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor(e,o,i){throw new Error(`${decodeErrPrefix} encountered invalid minor (${i}) for major ${e[o]>>>5}`)}function errorer(e){return()=>{throw new Error(`${decodeErrPrefix} ${e}`)}}const jump=[];for(let e=0;e<=23;e++)jump[e]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let e=32;e<=55;e++)jump[e]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let e=64;e<=87;e++)jump[e]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)jump[e]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)jump[e]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let e=160;e<=183;e++)jump[e]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let e=192;e<=215;e++)jump[e]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let e=224;e<=243;e++)jump[e]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let e=0;e<24;e++)quick[e]=new Token(Type.uint,e,1);for(let e=-1;e>=-24;e--)quick[31-e]=new Token(Type.negint,e,1);quick[64]=new Token(Type.bytes,new Uint8Array(0),1);quick[96]=new Token(Type.string,"",1);quick[128]=new Token(Type.array,0,1);quick[160]=new Token(Type.map,0,1);quick[244]=new Token(Type.false,!1,1);quick[245]=new Token(Type.true,!0,1);quick[246]=new Token(Type.null,null,1);function quickEncodeToken(e){switch(e.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return e.value.length?void 0:fromArray([64]);case Type.string:return e.value===""?fromArray([96]):void 0;case Type.array:return e.value===0?fromArray([128]):void 0;case Type.map:return e.value===0?fromArray([160]):void 0;case Type.uint:return e.value<24?fromArray([Number(e.value)]):void 0;case Type.negint:if(e.value>=-24)return fromArray([31-Number(e.value)])}}const defaultEncodeOptions$1={float64:!1,mapSorter:mapSorter$1,quickEncodeToken};function makeCborEncoders(){const e=[];return e[Type.uint.major]=encodeUint,e[Type.negint.major]=encodeNegint,e[Type.bytes.major]=encodeBytes,e[Type.string.major]=encodeString,e[Type.array.major]=encodeArray,e[Type.map.major]=encodeMap,e[Type.tag.major]=encodeTag,e[Type.float.major]=encodeFloat,e}const cborEncoders=makeCborEncoders(),buf=new Bl;class Ref{constructor(o,i){this.obj=o,this.parent=i}includes(o){let i=this;do if(i.obj===o)return!0;while(i=i.parent);return!1}static createCheck(o,i){if(o&&o.includes(i))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(i,o)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number(e,o,i,s){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new Token(Type.float,e):e>=0?new Token(Type.uint,e):new Token(Type.negint,e)},bigint(e,o,i,s){return e>=BigInt(0)?new Token(Type.uint,e):new Token(Type.negint,e)},Uint8Array(e,o,i,s){return new Token(Type.bytes,e)},string(e,o,i,s){return new Token(Type.string,e)},boolean(e,o,i,s){return e?simpleTokens.true:simpleTokens.false},null(e,o,i,s){return simpleTokens.null},undefined(e,o,i,s){return simpleTokens.undefined},ArrayBuffer(e,o,i,s){return new Token(Type.bytes,new Uint8Array(e))},DataView(e,o,i,s){return new Token(Type.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,o,i,s){if(!e.length)return i.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;s=Ref.createCheck(s,e);const a=[];let c=0;for(const d of e)a[c++]=objectToTokens(d,i,s);return i.addBreakTokens?[new Token(Type.array,e.length),a,new Token(Type.break)]:[new Token(Type.array,e.length),a]},Object(e,o,i,s){const a=o!=="Object",c=a?e.keys():Object.keys(e),d=a?e.size:c.length;if(!d)return i.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;s=Ref.createCheck(s,e);const h=[];let g=0;for(const b of c)h[g++]=[objectToTokens(b,i,s),objectToTokens(a?e.get(b):e[b],i,s)];return sortMapEntries(h,i),i.addBreakTokens?[new Token(Type.map,d),h,new Token(Type.break)]:[new Token(Type.map,d),h]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${e}Array`]=typeEncoders.DataView;function objectToTokens(e,o={},i){const s=is(e),a=o&&o.typeEncoders&&o.typeEncoders[s]||typeEncoders[s];if(typeof a=="function"){const d=a(e,s,o,i);if(d!=null)return d}const c=typeEncoders[s];if(!c)throw new Error(`${encodeErrPrefix} unsupported type: ${s}`);return c(e,s,o,i)}function sortMapEntries(e,o){o.mapSorter&&e.sort(o.mapSorter)}function mapSorter$1(e,o){const i=Array.isArray(e[0])?e[0][0]:e[0],s=Array.isArray(o[0])?o[0][0]:o[0];if(i.type!==s.type)return i.type.compare(s.type);const a=i.type.major,c=cborEncoders[a].compareTokens(i,s);return c===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),c}function tokensToEncoded(e,o,i,s){if(Array.isArray(o))for(const a of o)tokensToEncoded(e,a,i,s);else i[o.type.major](e,o,s)}function encodeCustom(e,o,i){const s=objectToTokens(e,i);if(!Array.isArray(s)&&i.quickEncodeToken){const a=i.quickEncodeToken(s);if(a)return a;const c=o[s.type.major];if(c.encodedSize){const d=c.encodedSize(s,i),h=new Bl(d);if(c(h,s,i),h.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${s} was wrong`);return asU8A(h.chunks[0])}}return buf.reset(),tokensToEncoded(buf,s,o,i),buf.toBytes(!0)}function encode$q(e,o){return o=Object.assign({},defaultEncodeOptions$1,o),encodeCustom(e,cborEncoders,o)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(o,i={}){this.pos=0,this.data=o,this.options=i}done(){return this.pos>=this.data.length}next(){const o=this.data[this.pos];let i=quick[o];if(i===void 0){const s=jump[o];if(!s)throw new Error(`${decodeErrPrefix} no decoder for major type ${o>>>5} (byte 0x${o.toString(16).padStart(2,"0")})`);const a=o&31;i=s(this.data,this.pos,a,this.options)}return this.pos+=i.encodedLength,i}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(e,o,i){const s=[];for(let a=0;a<e.value;a++){const c=tokensToObject(o,i);if(c===BREAK){if(e.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(c===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${a}, expected ${e.value})`);s[a]=c}return s}function tokenToMap(e,o,i){const s=i.useMaps===!0,a=s?void 0:{},c=s?new Map:void 0;for(let d=0;d<e.value;d++){const h=tokensToObject(o,i);if(h===BREAK){if(e.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(h===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${d} [no key], expected ${e.value})`);if(s!==!0&&typeof h!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof h})`);if(i.rejectDuplicateMapKeys===!0&&(s&&c.has(h)||!s&&h in a))throw new Error(`${decodeErrPrefix} found repeat map key "${h}"`);const g=tokensToObject(o,i);if(g===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${d} [no value], expected ${e.value})`);s?c.set(h,g):a[h]=g}return s?c:a}function tokensToObject(e,o){if(e.done())return DONE;const i=e.next();if(i.type===Type.break)return BREAK;if(i.type.terminal)return i.value;if(i.type===Type.array)return tokenToArray(i,e,o);if(i.type===Type.map)return tokenToMap(i,e,o);if(i.type===Type.tag){if(o.tags&&typeof o.tags[i.value]=="function"){const s=tokensToObject(e,o);return o.tags[i.value](s)}throw new Error(`${decodeErrPrefix} tag not supported (${i.value})`)}throw new Error("unsupported")}function decode$A(e,o){if(!(e instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);o=Object.assign({},defaultDecodeOptions,o);const i=o.tokenizer||new Tokeniser(e,o),s=tokensToObject(i,o);if(s===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(s===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);if(!i.done())throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return s}var encode_1$5=encode$p,MSB$7=128,REST$7=127,MSBALL$5=~REST$7,INT$5=Math.pow(2,31);function encode$p(e,o,i){o=o||[],i=i||0;for(var s=i;e>=INT$5;)o[i++]=e&255|MSB$7,e/=128;for(;e&MSBALL$5;)o[i++]=e&255|MSB$7,e>>>=7;return o[i]=e|0,encode$p.bytes=i-s+1,o}var decode$z=read$5,MSB$1$5=128,REST$1$5=127;function read$5(e,s){var i=0,s=s||0,a=0,c=s,d,h=e.length;do{if(c>=h)throw read$5.bytes=0,new RangeError("Could not decode varint");d=e[c++],i+=a<28?(d&REST$1$5)<<a:(d&REST$1$5)*Math.pow(2,a),a+=7}while(d>=MSB$1$5);return read$5.bytes=c-s,i}var N1$6=Math.pow(2,7),N2$6=Math.pow(2,14),N3$6=Math.pow(2,21),N4$6=Math.pow(2,28),N5$6=Math.pow(2,35),N6$6=Math.pow(2,42),N7$6=Math.pow(2,49),N8$5=Math.pow(2,56),N9$5=Math.pow(2,63),length$5=function(e){return e<N1$6?1:e<N2$6?2:e<N3$6?3:e<N4$6?4:e<N5$6?5:e<N6$6?6:e<N7$6?7:e<N8$5?8:e<N9$5?9:10},varint$6={encode:encode_1$5,decode:decode$z,encodingLength:length$5},_brrp_varint$4=varint$6;const decode$y=(e,o=0)=>[_brrp_varint$4.decode(e,o),_brrp_varint$4.decode.bytes],encodeTo$4=(e,o,i=0)=>(_brrp_varint$4.encode(e,o,i),o),encodingLength$5=e=>_brrp_varint$4.encodingLength(e),equals$b=(e,o)=>{if(e===o)return!0;if(e.byteLength!==o.byteLength)return!1;for(let i=0;i<e.byteLength;i++)if(e[i]!==o[i])return!1;return!0},coerce$6=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},create$7=(e,o)=>{const i=o.byteLength,s=encodingLength$5(e),a=s+encodingLength$5(i),c=new Uint8Array(a+i);return encodeTo$4(e,c,0),encodeTo$4(i,c,s),c.set(o,a),new Digest$4(e,i,o,c)},decode$x=e=>{const o=coerce$6(e),[i,s]=decode$y(o),[a,c]=decode$y(o.subarray(s)),d=o.subarray(s+c);if(d.byteLength!==a)throw new Error("Incorrect length");return new Digest$4(i,a,d,o)},equals$a=(e,o)=>{if(e===o)return!0;{const i=o;return e.code===i.code&&e.size===i.size&&i.bytes instanceof Uint8Array&&equals$b(e.bytes,i.bytes)}};let Digest$4=class{constructor(o,i,s,a){this.code=o,this.size=i,this.digest=s,this.bytes=a}};function base$6(e,o){if(e.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),s=0;s<i.length;s++)i[s]=255;for(var a=0;a<e.length;a++){var c=e.charAt(a),d=c.charCodeAt(0);if(i[d]!==255)throw new TypeError(c+" is ambiguous");i[d]=a}var h=e.length,g=e.charAt(0),b=Math.log(h)/Math.log(256),$=Math.log(256)/Math.log(h);function j(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var ot=0,ut=0,nt=0,et=_.length;nt!==et&&_[nt]===0;)nt++,ot++;for(var _e=(et-nt)*$+1>>>0,rt=new Uint8Array(_e);nt!==et;){for(var it=_[nt],lt=0,st=_e-1;(it!==0||lt<ut)&&st!==-1;st--,lt++)it+=256*rt[st]>>>0,rt[st]=it%h>>>0,it=it/h>>>0;if(it!==0)throw new Error("Non-zero carry");ut=lt,nt++}for(var ft=_e-ut;ft!==_e&&rt[ft]===0;)ft++;for(var pt=g.repeat(ot);ft<_e;++ft)pt+=e.charAt(rt[ft]);return pt}function tt(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var ot=0;if(_[ot]!==" "){for(var ut=0,nt=0;_[ot]===g;)ut++,ot++;for(var et=(_.length-ot)*b+1>>>0,_e=new Uint8Array(et);_[ot];){var rt=i[_.charCodeAt(ot)];if(rt===255)return;for(var it=0,lt=et-1;(rt!==0||it<nt)&&lt!==-1;lt--,it++)rt+=h*_e[lt]>>>0,_e[lt]=rt%256>>>0,rt=rt/256>>>0;if(rt!==0)throw new Error("Non-zero carry");nt=it,ot++}if(_[ot]!==" "){for(var st=et-nt;st!==et&&_e[st]===0;)st++;for(var ft=new Uint8Array(ut+(et-st)),pt=ut;st!==et;)ft[pt++]=_e[st++];return ft}}}function at(_){var ot=tt(_);if(ot)return ot;throw new Error(`Non-${o} character`)}return{encode:j,decodeUnsafe:tt,decode:at}}var src$7=base$6,_brrp__multiformats_scope_baseX$6=src$7;let Encoder$6=class{constructor(o,i,s){this.name=o,this.prefix=i,this.baseEncode=s}encode(o){if(o instanceof Uint8Array)return`${this.prefix}${this.baseEncode(o)}`;throw Error("Unknown type, must be binary type")}},Decoder$6=class{constructor(o,i,s){if(this.name=o,this.prefix=i,i.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=s}decode(o){if(typeof o=="string"){if(o.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(o)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(o.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(o){return or$6(this,o)}},ComposedDecoder$6=class{constructor(o){this.decoders=o}or(o){return or$6(this,o)}decode(o){const i=o[0],s=this.decoders[i];if(s)return s.decode(o);throw RangeError(`Unable to decode multibase string ${JSON.stringify(o)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$6=(e,o)=>new ComposedDecoder$6({...e.decoders||{[e.prefix]:e},...o.decoders||{[o.prefix]:o}});let Codec$6=class{constructor(o,i,s,a){this.name=o,this.prefix=i,this.baseEncode=s,this.baseDecode=a,this.encoder=new Encoder$6(o,i,s),this.decoder=new Decoder$6(o,i,a)}encode(o){return this.encoder.encode(o)}decode(o){return this.decoder.decode(o)}};const from$7=({name:e,prefix:o,encode:i,decode:s})=>new Codec$6(e,o,i,s),baseX$6=({prefix:e,name:o,alphabet:i})=>{const{encode:s,decode:a}=_brrp__multiformats_scope_baseX$6(i,o);return from$7({prefix:e,name:o,encode:s,decode:c=>coerce$6(a(c))})},decode$w=(e,o,i,s)=>{const a={};for(let $=0;$<o.length;++$)a[o[$]]=$;let c=e.length;for(;e[c-1]==="=";)--c;const d=new Uint8Array(c*i/8|0);let h=0,g=0,b=0;for(let $=0;$<c;++$){const j=a[e[$]];if(j===void 0)throw new SyntaxError(`Non-${s} character`);g=g<<i|j,h+=i,h>=8&&(h-=8,d[b++]=255&g>>h)}if(h>=i||255&g<<8-h)throw new SyntaxError("Unexpected end of data");return d},encode$o=(e,o,i)=>{const s=o[o.length-1]==="=",a=(1<<i)-1;let c="",d=0,h=0;for(let g=0;g<e.length;++g)for(h=h<<8|e[g],d+=8;d>i;)d-=i,c+=o[a&h>>d];if(d&&(c+=o[a&h<<i-d]),s)for(;c.length*i&7;)c+="=";return c},rfc4648$6=({name:e,prefix:o,bitsPerChar:i,alphabet:s})=>from$7({prefix:o,name:e,encode(a){return encode$o(a,s,i)},decode(a){return decode$w(a,s,i,e)}}),base58btc$6=baseX$6({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$6({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const base32$a=rfc4648$6({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$6({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$6({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$6({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$6({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$6({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$6({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$6({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$6({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const format$8=(e,o)=>{const{bytes:i,version:s}=e;switch(s){case 0:return toStringV0$4(i,baseCache$4(e),o||base58btc$6.encoder);default:return toStringV1$4(i,baseCache$4(e),o||base32$a.encoder)}},cache$4=new WeakMap,baseCache$4=e=>{const o=cache$4.get(e);if(o==null){const i=new Map;return cache$4.set(e,i),i}return o};let CID$4=class Ot{constructor(o,i,s,a){this.code=i,this.version=o,this.multihash=s,this.bytes=a,this["/"]=a}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:o,multihash:i}=this;if(o!==DAG_PB_CODE$4)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(i.code!==SHA_256_CODE$4)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ot.createV0(i)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:o,digest:i}=this.multihash,s=create$7(o,i);return Ot.createV1(this.code,s)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(o){return Ot.equals(this,o)}static equals(o,i){const s=i;return s&&o.code===s.code&&o.version===s.version&&equals$a(o.multihash,s.multihash)}toString(o){return format$8(this,o)}toJSON(){return{"/":format$8(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(o){if(o==null)return null;const i=o;if(i instanceof Ot)return i;if(i["/"]!=null&&i["/"]===i.bytes||i.asCID===i){const{version:s,code:a,multihash:c,bytes:d}=i;return new Ot(s,a,c,d||encodeCID$5(s,a,c.bytes))}else if(i[cidSymbol$4]===!0){const{version:s,multihash:a,code:c}=i,d=decode$x(a);return Ot.create(s,c,d)}else return null}static create(o,i,s){if(typeof i!="number")throw new Error("String codecs are no longer supported");if(!(s.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(o){case 0:{if(i!==DAG_PB_CODE$4)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$4}) block encoding`);return new Ot(o,i,s,s.bytes)}case 1:{const a=encodeCID$5(o,i,s.bytes);return new Ot(o,i,s,a)}default:throw new Error("Invalid version")}}static createV0(o){return Ot.create(0,DAG_PB_CODE$4,o)}static createV1(o,i){return Ot.create(1,o,i)}static decode(o){const[i,s]=Ot.decodeFirst(o);if(s.length)throw new Error("Incorrect length");return i}static decodeFirst(o){const i=Ot.inspectBytes(o),s=i.size-i.multihashSize,a=coerce$6(o.subarray(s,s+i.multihashSize));if(a.byteLength!==i.multihashSize)throw new Error("Incorrect length");const c=a.subarray(i.multihashSize-i.digestSize),d=new Digest$4(i.multihashCode,i.digestSize,c,a);return[i.version===0?Ot.createV0(d):Ot.createV1(i.codec,d),o.subarray(i.size)]}static inspectBytes(o){let i=0;const s=()=>{const[j,tt]=decode$y(o.subarray(i));return i+=tt,j};let a=s(),c=DAG_PB_CODE$4;if(a===18?(a=0,i=0):c=s(),a!==0&&a!==1)throw new RangeError(`Invalid CID version ${a}`);const d=i,h=s(),g=s(),b=i+g,$=b-d;return{version:a,codec:c,multihashCode:h,digestSize:g,multihashSize:$,size:b}}static parse(o,i){const[s,a]=parseCIDtoBytes$4(o,i),c=Ot.decode(a);if(c.version===0&&o[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$4(c).set(s,o),c}};const parseCIDtoBytes$4=(e,o)=>{switch(e[0]){case"Q":{const i=o||base58btc$6;return[base58btc$6.prefix,i.decode(`${base58btc$6.prefix}${e}`)]}case base58btc$6.prefix:{const i=o||base58btc$6;return[base58btc$6.prefix,i.decode(e)]}case base32$a.prefix:{const i=o||base32$a;return[base32$a.prefix,i.decode(e)]}default:{if(o==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],o.decode(e)]}}},toStringV0$4=(e,o,i)=>{const{prefix:s}=i;if(s!==base58btc$6.prefix)throw Error(`Cannot string encode V0 in ${i.name} encoding`);const a=o.get(s);if(a==null){const c=i.encode(e).slice(1);return o.set(s,c),c}else return a},toStringV1$4=(e,o,i)=>{const{prefix:s}=i,a=o.get(s);if(a==null){const c=i.encode(e);return o.set(s,c),c}else return a},DAG_PB_CODE$4=112,SHA_256_CODE$4=18,encodeCID$5=(e,o,i)=>{const s=encodingLength$5(e),a=s+encodingLength$5(o),c=new Uint8Array(a+i.byteLength);return encodeTo$4(e,c,0),encodeTo$4(o,c,s),c.set(i,a),c},cidSymbol$4=Symbol.for("@ipld/js-cid/CID"),CID_CBOR_TAG=42;function cidEncoder$1(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const o=CID$4.asCID(e);if(!o)return null;const i=new Uint8Array(o.bytes.byteLength+1);return i.set(o.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,i)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions$1={float64:!0,typeEncoders:{Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}};function cidDecoder(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID$4.decode(e.subarray(1))}const decodeOptions$1={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$1.tags[CID_CBOR_TAG]=cidDecoder;const name$5="dag-cbor",code$5=113,encode$n=e=>encode$q(e,encodeOptions$1),decode$v=e=>decode$A(e,decodeOptions$1),dagCBOR=Object.freeze(Object.defineProperty({__proto__:null,code:code$5,decode:decode$v,encode:encode$n,name:name$5},Symbol.toStringTag,{value:"Module"}));var encode_1$4=encode$m,MSB$6=128,REST$6=127,MSBALL$4=~REST$6,INT$4=Math.pow(2,31);function encode$m(e,o,i){o=o||[],i=i||0;for(var s=i;e>=INT$4;)o[i++]=e&255|MSB$6,e/=128;for(;e&MSBALL$4;)o[i++]=e&255|MSB$6,e>>>=7;return o[i]=e|0,encode$m.bytes=i-s+1,o}var decode$u=read$4,MSB$1$4=128,REST$1$4=127;function read$4(e,s){var i=0,s=s||0,a=0,c=s,d,h=e.length;do{if(c>=h)throw read$4.bytes=0,new RangeError("Could not decode varint");d=e[c++],i+=a<28?(d&REST$1$4)<<a:(d&REST$1$4)*Math.pow(2,a),a+=7}while(d>=MSB$1$4);return read$4.bytes=c-s,i}var N1$5=Math.pow(2,7),N2$5=Math.pow(2,14),N3$5=Math.pow(2,21),N4$5=Math.pow(2,28),N5$5=Math.pow(2,35),N6$5=Math.pow(2,42),N7$5=Math.pow(2,49),N8$4=Math.pow(2,56),N9$4=Math.pow(2,63),length$4=function(e){return e<N1$5?1:e<N2$5?2:e<N3$5?3:e<N4$5?4:e<N5$5?5:e<N6$5?6:e<N7$5?7:e<N8$4?8:e<N9$4?9:10},varint$5={encode:encode_1$4,decode:decode$u,encodingLength:length$4},_brrp_varint$3=varint$5;const decode$t=(e,o=0)=>[_brrp_varint$3.decode(e,o),_brrp_varint$3.decode.bytes],encodeTo$3=(e,o,i=0)=>(_brrp_varint$3.encode(e,o,i),o),encodingLength$4=e=>_brrp_varint$3.encodingLength(e),equals$9=(e,o)=>{if(e===o)return!0;if(e.byteLength!==o.byteLength)return!1;for(let i=0;i<e.byteLength;i++)if(e[i]!==o[i])return!1;return!0},coerce$5=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},create$6=(e,o)=>{const i=o.byteLength,s=encodingLength$4(e),a=s+encodingLength$4(i),c=new Uint8Array(a+i);return encodeTo$3(e,c,0),encodeTo$3(i,c,s),c.set(o,a),new Digest$3(e,i,o,c)},decode$s=e=>{const o=coerce$5(e),[i,s]=decode$t(o),[a,c]=decode$t(o.subarray(s)),d=o.subarray(s+c);if(d.byteLength!==a)throw new Error("Incorrect length");return new Digest$3(i,a,d,o)},equals$8=(e,o)=>{if(e===o)return!0;{const i=o;return e.code===i.code&&e.size===i.size&&i.bytes instanceof Uint8Array&&equals$9(e.bytes,i.bytes)}};let Digest$3=class{constructor(o,i,s,a){this.code=o,this.size=i,this.digest=s,this.bytes=a}};function base$5(e,o){if(e.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),s=0;s<i.length;s++)i[s]=255;for(var a=0;a<e.length;a++){var c=e.charAt(a),d=c.charCodeAt(0);if(i[d]!==255)throw new TypeError(c+" is ambiguous");i[d]=a}var h=e.length,g=e.charAt(0),b=Math.log(h)/Math.log(256),$=Math.log(256)/Math.log(h);function j(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var ot=0,ut=0,nt=0,et=_.length;nt!==et&&_[nt]===0;)nt++,ot++;for(var _e=(et-nt)*$+1>>>0,rt=new Uint8Array(_e);nt!==et;){for(var it=_[nt],lt=0,st=_e-1;(it!==0||lt<ut)&&st!==-1;st--,lt++)it+=256*rt[st]>>>0,rt[st]=it%h>>>0,it=it/h>>>0;if(it!==0)throw new Error("Non-zero carry");ut=lt,nt++}for(var ft=_e-ut;ft!==_e&&rt[ft]===0;)ft++;for(var pt=g.repeat(ot);ft<_e;++ft)pt+=e.charAt(rt[ft]);return pt}function tt(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var ot=0;if(_[ot]!==" "){for(var ut=0,nt=0;_[ot]===g;)ut++,ot++;for(var et=(_.length-ot)*b+1>>>0,_e=new Uint8Array(et);_[ot];){var rt=i[_.charCodeAt(ot)];if(rt===255)return;for(var it=0,lt=et-1;(rt!==0||it<nt)&&lt!==-1;lt--,it++)rt+=h*_e[lt]>>>0,_e[lt]=rt%256>>>0,rt=rt/256>>>0;if(rt!==0)throw new Error("Non-zero carry");nt=it,ot++}if(_[ot]!==" "){for(var st=et-nt;st!==et&&_e[st]===0;)st++;for(var ft=new Uint8Array(ut+(et-st)),pt=ut;st!==et;)ft[pt++]=_e[st++];return ft}}}function at(_){var ot=tt(_);if(ot)return ot;throw new Error(`Non-${o} character`)}return{encode:j,decodeUnsafe:tt,decode:at}}var src$6=base$5,_brrp__multiformats_scope_baseX$5=src$6;let Encoder$5=class{constructor(o,i,s){this.name=o,this.prefix=i,this.baseEncode=s}encode(o){if(o instanceof Uint8Array)return`${this.prefix}${this.baseEncode(o)}`;throw Error("Unknown type, must be binary type")}},Decoder$5=class{constructor(o,i,s){if(this.name=o,this.prefix=i,i.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=s}decode(o){if(typeof o=="string"){if(o.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(o)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(o.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(o){return or$5(this,o)}},ComposedDecoder$5=class{constructor(o){this.decoders=o}or(o){return or$5(this,o)}decode(o){const i=o[0],s=this.decoders[i];if(s)return s.decode(o);throw RangeError(`Unable to decode multibase string ${JSON.stringify(o)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$5=(e,o)=>new ComposedDecoder$5({...e.decoders||{[e.prefix]:e},...o.decoders||{[o.prefix]:o}});let Codec$5=class{constructor(o,i,s,a){this.name=o,this.prefix=i,this.baseEncode=s,this.baseDecode=a,this.encoder=new Encoder$5(o,i,s),this.decoder=new Decoder$5(o,i,a)}encode(o){return this.encoder.encode(o)}decode(o){return this.decoder.decode(o)}};const from$6=({name:e,prefix:o,encode:i,decode:s})=>new Codec$5(e,o,i,s),baseX$5=({prefix:e,name:o,alphabet:i})=>{const{encode:s,decode:a}=_brrp__multiformats_scope_baseX$5(i,o);return from$6({prefix:e,name:o,encode:s,decode:c=>coerce$5(a(c))})},decode$r=(e,o,i,s)=>{const a={};for(let $=0;$<o.length;++$)a[o[$]]=$;let c=e.length;for(;e[c-1]==="=";)--c;const d=new Uint8Array(c*i/8|0);let h=0,g=0,b=0;for(let $=0;$<c;++$){const j=a[e[$]];if(j===void 0)throw new SyntaxError(`Non-${s} character`);g=g<<i|j,h+=i,h>=8&&(h-=8,d[b++]=255&g>>h)}if(h>=i||255&g<<8-h)throw new SyntaxError("Unexpected end of data");return d},encode$l=(e,o,i)=>{const s=o[o.length-1]==="=",a=(1<<i)-1;let c="",d=0,h=0;for(let g=0;g<e.length;++g)for(h=h<<8|e[g],d+=8;d>i;)d-=i,c+=o[a&h>>d];if(d&&(c+=o[a&h<<i-d]),s)for(;c.length*i&7;)c+="=";return c},rfc4648$5=({name:e,prefix:o,bitsPerChar:i,alphabet:s})=>from$6({prefix:o,name:e,encode(a){return encode$l(a,s,i)},decode(a){return decode$r(a,s,i,e)}}),base58btc$5=baseX$5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const base32$9=rfc4648$5({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$5({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$5({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$5({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$5({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$5({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$5({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$5({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$5({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const format$7=(e,o)=>{const{bytes:i,version:s}=e;switch(s){case 0:return toStringV0$3(i,baseCache$3(e),o||base58btc$5.encoder);default:return toStringV1$3(i,baseCache$3(e),o||base32$9.encoder)}},cache$3=new WeakMap,baseCache$3=e=>{const o=cache$3.get(e);if(o==null){const i=new Map;return cache$3.set(e,i),i}return o};let CID$3=class Nt{constructor(o,i,s,a){this.code=i,this.version=o,this.multihash=s,this.bytes=a,this["/"]=a}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:o,multihash:i}=this;if(o!==DAG_PB_CODE$3)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(i.code!==SHA_256_CODE$3)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Nt.createV0(i)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:o,digest:i}=this.multihash,s=create$6(o,i);return Nt.createV1(this.code,s)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(o){return Nt.equals(this,o)}static equals(o,i){const s=i;return s&&o.code===s.code&&o.version===s.version&&equals$8(o.multihash,s.multihash)}toString(o){return format$7(this,o)}toJSON(){return{"/":format$7(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(o){if(o==null)return null;const i=o;if(i instanceof Nt)return i;if(i["/"]!=null&&i["/"]===i.bytes||i.asCID===i){const{version:s,code:a,multihash:c,bytes:d}=i;return new Nt(s,a,c,d||encodeCID$4(s,a,c.bytes))}else if(i[cidSymbol$3]===!0){const{version:s,multihash:a,code:c}=i,d=decode$s(a);return Nt.create(s,c,d)}else return null}static create(o,i,s){if(typeof i!="number")throw new Error("String codecs are no longer supported");if(!(s.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(o){case 0:{if(i!==DAG_PB_CODE$3)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$3}) block encoding`);return new Nt(o,i,s,s.bytes)}case 1:{const a=encodeCID$4(o,i,s.bytes);return new Nt(o,i,s,a)}default:throw new Error("Invalid version")}}static createV0(o){return Nt.create(0,DAG_PB_CODE$3,o)}static createV1(o,i){return Nt.create(1,o,i)}static decode(o){const[i,s]=Nt.decodeFirst(o);if(s.length)throw new Error("Incorrect length");return i}static decodeFirst(o){const i=Nt.inspectBytes(o),s=i.size-i.multihashSize,a=coerce$5(o.subarray(s,s+i.multihashSize));if(a.byteLength!==i.multihashSize)throw new Error("Incorrect length");const c=a.subarray(i.multihashSize-i.digestSize),d=new Digest$3(i.multihashCode,i.digestSize,c,a);return[i.version===0?Nt.createV0(d):Nt.createV1(i.codec,d),o.subarray(i.size)]}static inspectBytes(o){let i=0;const s=()=>{const[j,tt]=decode$t(o.subarray(i));return i+=tt,j};let a=s(),c=DAG_PB_CODE$3;if(a===18?(a=0,i=0):c=s(),a!==0&&a!==1)throw new RangeError(`Invalid CID version ${a}`);const d=i,h=s(),g=s(),b=i+g,$=b-d;return{version:a,codec:c,multihashCode:h,digestSize:g,multihashSize:$,size:b}}static parse(o,i){const[s,a]=parseCIDtoBytes$3(o,i),c=Nt.decode(a);if(c.version===0&&o[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$3(c).set(s,o),c}};const parseCIDtoBytes$3=(e,o)=>{switch(e[0]){case"Q":{const i=o||base58btc$5;return[base58btc$5.prefix,i.decode(`${base58btc$5.prefix}${e}`)]}case base58btc$5.prefix:{const i=o||base58btc$5;return[base58btc$5.prefix,i.decode(e)]}case base32$9.prefix:{const i=o||base32$9;return[base32$9.prefix,i.decode(e)]}default:{if(o==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],o.decode(e)]}}},toStringV0$3=(e,o,i)=>{const{prefix:s}=i;if(s!==base58btc$5.prefix)throw Error(`Cannot string encode V0 in ${i.name} encoding`);const a=o.get(s);if(a==null){const c=i.encode(e).slice(1);return o.set(s,c),c}else return a},toStringV1$3=(e,o,i)=>{const{prefix:s}=i,a=o.get(s);if(a==null){const c=i.encode(e);return o.set(s,c),c}else return a},DAG_PB_CODE$3=112,SHA_256_CODE$3=18,encodeCID$4=(e,o,i)=>{const s=encodingLength$4(e),a=s+encodingLength$4(o),c=new Uint8Array(a+i.byteLength);return encodeTo$3(e,c,0),encodeTo$3(o,c,s),c.set(i,a),c},cidSymbol$3=Symbol.for("@ipld/js-cid/CID"),base64$b=rfc4648$5({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$5({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});rfc4648$5({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$5({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class JSONEncoder extends Array{constructor(){super(),this.inRecursive=[]}prefix(o){const i=this.inRecursive[this.inRecursive.length-1];i&&(i.type===Type.array&&(i.elements++,i.elements!==1&&o.push([44])),i.type===Type.map&&(i.elements++,i.elements!==1&&(i.elements%2===1?o.push([44]):o.push([58]))))}[Type.uint.major](o,i){this.prefix(o);const s=String(i.value),a=[];for(let c=0;c<s.length;c++)a[c]=s.charCodeAt(c);o.push(a)}[Type.negint.major](o,i){this[Type.uint.major](o,i)}[Type.bytes.major](o,i){throw new Error(`${encodeErrPrefix} unsupported type: Uint8Array`)}[Type.string.major](o,i){this.prefix(o);const s=fromString$7(JSON.stringify(i.value));o.push(s.length>32?asU8A(s):s)}[Type.array.major](o,i){this.prefix(o),this.inRecursive.push({type:Type.array,elements:0}),o.push([91])}[Type.map.major](o,i){this.prefix(o),this.inRecursive.push({type:Type.map,elements:0}),o.push([123])}[Type.tag.major](o,i){}[Type.float.major](o,i){if(i.type.name==="break"){const d=this.inRecursive.pop();if(d){if(d.type===Type.array)o.push([93]);else if(d.type===Type.map)o.push([125]);else throw new Error("Unexpected recursive type; this should not happen!");return}throw new Error("Unexpected break; this should not happen!")}if(i.value===void 0)throw new Error(`${encodeErrPrefix} unsupported type: undefined`);if(this.prefix(o),i.type.name==="true"){o.push([116,114,117,101]);return}else if(i.type.name==="false"){o.push([102,97,108,115,101]);return}else if(i.type.name==="null"){o.push([110,117,108,108]);return}const s=String(i.value),a=[];let c=!1;for(let d=0;d<s.length;d++)a[d]=s.charCodeAt(d),!c&&(a[d]===46||a[d]===101||a[d]===69)&&(c=!0);c||(a.push(46),a.push(48)),o.push(a)}}function mapSorter(e,o){if(Array.isArray(e[0])||Array.isArray(o[0]))throw new Error(`${encodeErrPrefix} complex map keys are not supported`);const i=e[0],s=o[0];if(i.type!==Type.string||s.type!==Type.string)throw new Error(`${encodeErrPrefix} non-string map keys are not supported`);if(i<s)return-1;if(i>s)return 1;throw new Error(`${encodeErrPrefix} unexpected duplicate map keys, this is not supported`)}const defaultEncodeOptions={addBreakTokens:!0,mapSorter};function encode$k(e,o){return o=Object.assign({},defaultEncodeOptions,o),encodeCustom(e,new JSONEncoder,o)}class Tokenizer{constructor(o,i={}){this.pos=0,this.data=o,this.options=i,this.modeStack=["value"],this.lastToken=""}done(){return this.pos>=this.data.length}ch(){return this.data[this.pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let o=this.ch();for(;o===32||o===9||o===13||o===10;)o=this.data[++this.pos]}expect(o){if(this.data.length-this.pos<o.length)throw new Error(`${decodeErrPrefix} unexpected end of input at position ${this.pos}`);for(let i=0;i<o.length;i++)if(this.data[this.pos++]!==o[i])throw new Error(`${decodeErrPrefix} unexpected token at position ${this.pos}, expected to find '${String.fromCharCode(...o)}'`)}parseNumber(){const o=this.pos;let i=!1,s=!1;const a=h=>{for(;!this.done();){const g=this.ch();if(h.includes(g))this.pos++;else break}};if(this.ch()===45&&(i=!0,this.pos++),this.ch()===48)if(this.pos++,this.ch()===46)this.pos++,s=!0;else return new Token(Type.uint,0,this.pos-o);if(a([48,49,50,51,52,53,54,55,56,57]),i&&this.pos===o+1)throw new Error(`${decodeErrPrefix} unexpected token at position ${this.pos}`);if(!this.done()&&this.ch()===46){if(s)throw new Error(`${decodeErrPrefix} unexpected token at position ${this.pos}`);s=!0,this.pos++,a([48,49,50,51,52,53,54,55,56,57])}!this.done()&&(this.ch()===101||this.ch()===69)&&(s=!0,this.pos++,!this.done()&&(this.ch()===43||this.ch()===45)&&this.pos++,a([48,49,50,51,52,53,54,55,56,57]));const c=String.fromCharCode.apply(null,this.data.subarray(o,this.pos)),d=parseFloat(c);return s?new Token(Type.float,d,this.pos-o):this.options.allowBigInt!==!0||Number.isSafeInteger(d)?new Token(d>=0?Type.uint:Type.negint,d,this.pos-o):new Token(d>=0?Type.uint:Type.negint,BigInt(c),this.pos-o)}parseString(){if(this.ch()!==34)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}; this shouldn't happen`);this.pos++;for(let c=this.pos,d=0;c<this.data.length&&d<65536;c++,d++){const h=this.data[c];if(h===92||h<32||h>=128)break;if(h===34){const g=String.fromCharCode.apply(null,this.data.subarray(this.pos,c));return this.pos=c+1,new Token(Type.string,g,d)}}const o=this.pos,i=[],s=()=>{if(this.pos+4>=this.data.length)throw new Error(`${decodeErrPrefix} unexpected end of unicode escape sequence at position ${this.pos}`);let c=0;for(let d=0;d<4;d++){let h=this.ch();if(h>=48&&h<=57)h-=48;else if(h>=97&&h<=102)h=h-97+10;else if(h>=65&&h<=70)h=h-65+10;else throw new Error(`${decodeErrPrefix} unexpected unicode escape character at position ${this.pos}`);c=c*16+h,this.pos++}return c},a=()=>{const c=this.ch();let d=null,h=c>239?4:c>223?3:c>191?2:1;if(this.pos+h>this.data.length)throw new Error(`${decodeErrPrefix} unexpected unicode sequence at position ${this.pos}`);let g,b,$,j;switch(h){case 1:c<128&&(d=c);break;case 2:g=this.data[this.pos+1],(g&192)===128&&(j=(c&31)<<6|g&63,j>127&&(d=j));break;case 3:g=this.data[this.pos+1],b=this.data[this.pos+2],(g&192)===128&&(b&192)===128&&(j=(c&15)<<12|(g&63)<<6|b&63,j>2047&&(j<55296||j>57343)&&(d=j));break;case 4:g=this.data[this.pos+1],b=this.data[this.pos+2],$=this.data[this.pos+3],(g&192)===128&&(b&192)===128&&($&192)===128&&(j=(c&15)<<18|(g&63)<<12|(b&63)<<6|$&63,j>65535&&j<1114112&&(d=j))}d===null?(d=65533,h=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d),this.pos+=h};for(;!this.done();){const c=this.ch();let d;switch(c){case 92:if(this.pos++,this.done())throw new Error(`${decodeErrPrefix} unexpected string termination at position ${this.pos}`);switch(d=this.ch(),this.pos++,d){case 34:case 39:case 92:case 47:i.push(d);break;case 98:i.push(8);break;case 116:i.push(9);break;case 110:i.push(10);break;case 102:i.push(12);break;case 114:i.push(13);break;case 117:i.push(s());break;default:throw new Error(`${decodeErrPrefix} unexpected string escape character at position ${this.pos}`)}break;case 34:return this.pos++,new Token(Type.string,decodeCodePointsArray(i),this.pos-o);default:if(c<32)throw new Error(`${decodeErrPrefix} invalid control character at position ${this.pos}`);c<128?(i.push(c),this.pos++):a()}}throw new Error(`${decodeErrPrefix} unexpected end of string at position ${this.pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this.pos++,new Token(Type.map,1/0,1);case 91:return this.modeStack.push("array-start"),this.pos++,new Token(Type.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new Token(Type.null,null,4);case 102:return this.expect([102,97,108,115,101]),new Token(Type.false,!1,5);case 116:return this.expect([116,114,117,101]),new Token(Type.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":{if(this.modeStack.pop(),this.ch()===93)return this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue()}case"array-start":return this.modeStack.pop(),this.ch()===93?(this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(this.ch()===125)return this.modeStack.pop(),this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this.pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),this.ch()===125)return this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);const o=this.parseString();if(this.skipWhitespace(),this.ch()!==58)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("obj-value"),o}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${decodeErrPrefix} unexpected parse state at position ${this.pos}; this shouldn't happen`)}}}function decode$q(e,o){return o=Object.assign({tokenizer:new Tokenizer(e,o)},o),decode$A(e,o)}function cidEncoder(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const o=CID$3.asCID(e);if(!o)return null;const i=o.toString();return[new Token(Type.map,1/0,1),new Token(Type.string,"/",1),new Token(Type.string,i,i.length),new Token(Type.break,void 0,1)]}function bytesEncoder(e){const o=base64$b.encode(e).slice(1);return[new Token(Type.map,1/0,1),new Token(Type.string,"/",1),new Token(Type.map,1/0,1),new Token(Type.string,"bytes",5),new Token(Type.string,o,o.length),new Token(Type.break,void 0,1),new Token(Type.break,void 0,1)]}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={typeEncoders:{Object:cidEncoder,Uint8Array:bytesEncoder,Buffer:bytesEncoder,undefined:undefinedEncoder,number:numberEncoder}};class DagJsonTokenizer extends Tokenizer{constructor(o,i){super(o,i),this.tokenBuffer=[]}done(){return this.tokenBuffer.length===0&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const o=this._next();if(o.type===Type.map){const i=this._next();if(i.type===Type.string&&i.value==="/"){const s=this._next();if(s.type===Type.string){if(this._next().type!==Type.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(s),new Token(Type.tag,42,0)}if(s.type===Type.map){const a=this._next();if(a.type===Type.string&&a.value==="bytes"){const c=this._next();if(c.type===Type.string){for(let h=0;h<2;h++)if(this._next().type!==Type.break)throw new Error("Invalid encoded Bytes form");const d=base64$b.decode(`m${c.value}`);return new Token(Type.bytes,d,c.value.length)}this.tokenBuffer.push(c)}this.tokenBuffer.push(a)}this.tokenBuffer.push(s)}this.tokenBuffer.push(i)}return o}}const decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions.tags[42]=CID$3.parse;const name$4="dag-json",code$4=297,encode$j=e=>encode$k(e,encodeOptions),decode$p=e=>{const o=Object.assign(decodeOptions,{tokenizer:new DagJsonTokenizer(e,decodeOptions)});return decode$q(e,o)},format$6=e=>utf8Decoder.decode(encode$j(e)),utf8Decoder=new TextDecoder,parse$1=e=>decode$p(utf8Encoder.encode(e)),utf8Encoder=new TextEncoder,dagJSON=Object.freeze(Object.defineProperty({__proto__:null,code:code$4,decode:decode$p,encode:encode$j,format:format$6,name:name$4,parse:parse$1,stringify:format$6},Symbol.toStringTag,{value:"Module"}));function base$4(e,o){if(e.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),s=0;s<i.length;s++)i[s]=255;for(var a=0;a<e.length;a++){var c=e.charAt(a),d=c.charCodeAt(0);if(i[d]!==255)throw new TypeError(c+" is ambiguous");i[d]=a}var h=e.length,g=e.charAt(0),b=Math.log(h)/Math.log(256),$=Math.log(256)/Math.log(h);function j(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var ot=0,ut=0,nt=0,et=_.length;nt!==et&&_[nt]===0;)nt++,ot++;for(var _e=(et-nt)*$+1>>>0,rt=new Uint8Array(_e);nt!==et;){for(var it=_[nt],lt=0,st=_e-1;(it!==0||lt<ut)&&st!==-1;st--,lt++)it+=256*rt[st]>>>0,rt[st]=it%h>>>0,it=it/h>>>0;if(it!==0)throw new Error("Non-zero carry");ut=lt,nt++}for(var ft=_e-ut;ft!==_e&&rt[ft]===0;)ft++;for(var pt=g.repeat(ot);ft<_e;++ft)pt+=e.charAt(rt[ft]);return pt}function tt(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var ot=0;if(_[ot]!==" "){for(var ut=0,nt=0;_[ot]===g;)ut++,ot++;for(var et=(_.length-ot)*b+1>>>0,_e=new Uint8Array(et);_[ot];){var rt=i[_.charCodeAt(ot)];if(rt===255)return;for(var it=0,lt=et-1;(rt!==0||it<nt)&&lt!==-1;lt--,it++)rt+=h*_e[lt]>>>0,_e[lt]=rt%256>>>0,rt=rt/256>>>0;if(rt!==0)throw new Error("Non-zero carry");nt=it,ot++}if(_[ot]!==" "){for(var st=et-nt;st!==et&&_e[st]===0;)st++;for(var ft=new Uint8Array(ut+(et-st)),pt=ut;st!==et;)ft[pt++]=_e[st++];return ft}}}function at(_){var ot=tt(_);if(ot)return ot;throw new Error(`Non-${o} character`)}return{encode:j,decodeUnsafe:tt,decode:at}}var src$5=base$4,_brrp__multiformats_scope_baseX$4=src$5;const equals$7=(e,o)=>{if(e===o)return!0;if(e.byteLength!==o.byteLength)return!1;for(let i=0;i<e.byteLength;i++)if(e[i]!==o[i])return!1;return!0},coerce$4=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},fromString$6=e=>new TextEncoder().encode(e),toString$6=e=>new TextDecoder().decode(e);let Encoder$4=class{constructor(o,i,s){this.name=o,this.prefix=i,this.baseEncode=s}encode(o){if(o instanceof Uint8Array)return`${this.prefix}${this.baseEncode(o)}`;throw Error("Unknown type, must be binary type")}},Decoder$4=class{constructor(o,i,s){if(this.name=o,this.prefix=i,i.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=s}decode(o){if(typeof o=="string"){if(o.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(o)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(o.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(o){return or$4(this,o)}},ComposedDecoder$4=class{constructor(o){this.decoders=o}or(o){return or$4(this,o)}decode(o){const i=o[0],s=this.decoders[i];if(s)return s.decode(o);throw RangeError(`Unable to decode multibase string ${JSON.stringify(o)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$4=(e,o)=>new ComposedDecoder$4({...e.decoders||{[e.prefix]:e},...o.decoders||{[o.prefix]:o}});let Codec$4=class{constructor(o,i,s,a){this.name=o,this.prefix=i,this.baseEncode=s,this.baseDecode=a,this.encoder=new Encoder$4(o,i,s),this.decoder=new Decoder$4(o,i,a)}encode(o){return this.encoder.encode(o)}decode(o){return this.decoder.decode(o)}};const from$5=({name:e,prefix:o,encode:i,decode:s})=>new Codec$4(e,o,i,s),baseX$4=({prefix:e,name:o,alphabet:i})=>{const{encode:s,decode:a}=_brrp__multiformats_scope_baseX$4(i,o);return from$5({prefix:e,name:o,encode:s,decode:c=>coerce$4(a(c))})},decode$o=(e,o,i,s)=>{const a={};for(let $=0;$<o.length;++$)a[o[$]]=$;let c=e.length;for(;e[c-1]==="=";)--c;const d=new Uint8Array(c*i/8|0);let h=0,g=0,b=0;for(let $=0;$<c;++$){const j=a[e[$]];if(j===void 0)throw new SyntaxError(`Non-${s} character`);g=g<<i|j,h+=i,h>=8&&(h-=8,d[b++]=255&g>>h)}if(h>=i||255&g<<8-h)throw new SyntaxError("Unexpected end of data");return d},encode$i=(e,o,i)=>{const s=o[o.length-1]==="=",a=(1<<i)-1;let c="",d=0,h=0;for(let g=0;g<e.length;++g)for(h=h<<8|e[g],d+=8;d>i;)d-=i,c+=o[a&h>>d];if(d&&(c+=o[a&h<<i-d]),s)for(;c.length*i&7;)c+="=";return c},rfc4648$4=({name:e,prefix:o,bitsPerChar:i,alphabet:s})=>from$5({prefix:o,name:e,encode(a){return encode$i(a,s,i)},decode(a){return decode$o(a,s,i,e)}}),base64$9=rfc4648$4({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$3=rfc4648$4({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$3=rfc4648$4({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$3=rfc4648$4({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$a=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$9,base64pad:base64pad$3,base64url:base64url$3,base64urlpad:base64urlpad$3},Symbol.toStringTag,{value:"Module"}));function toBase64url(e){return base64url$3.encode(e).slice(1)}function fromBase64url(e){return base64url$3.decode(`u${e}`)}var encode_1$3=encode$h,MSB$5=128,REST$5=127,MSBALL$3=~REST$5,INT$3=Math.pow(2,31);function encode$h(e,o,i){o=o||[],i=i||0;for(var s=i;e>=INT$3;)o[i++]=e&255|MSB$5,e/=128;for(;e&MSBALL$3;)o[i++]=e&255|MSB$5,e>>>=7;return o[i]=e|0,encode$h.bytes=i-s+1,o}var decode$n=read$3,MSB$1$3=128,REST$1$3=127;function read$3(e,s){var i=0,s=s||0,a=0,c=s,d,h=e.length;do{if(c>=h)throw read$3.bytes=0,new RangeError("Could not decode varint");d=e[c++],i+=a<28?(d&REST$1$3)<<a:(d&REST$1$3)*Math.pow(2,a),a+=7}while(d>=MSB$1$3);return read$3.bytes=c-s,i}var N1$4=Math.pow(2,7),N2$4=Math.pow(2,14),N3$4=Math.pow(2,21),N4$4=Math.pow(2,28),N5$4=Math.pow(2,35),N6$4=Math.pow(2,42),N7$4=Math.pow(2,49),N8$3=Math.pow(2,56),N9$3=Math.pow(2,63),length$3=function(e){return e<N1$4?1:e<N2$4?2:e<N3$4?3:e<N4$4?4:e<N5$4?5:e<N6$4?6:e<N7$4?7:e<N8$3?8:e<N9$3?9:10},varint$4={encode:encode_1$3,decode:decode$n,encodingLength:length$3},_brrp_varint$2=varint$4;const decode$m=(e,o=0)=>[_brrp_varint$2.decode(e,o),_brrp_varint$2.decode.bytes],encodeTo$2=(e,o,i=0)=>(_brrp_varint$2.encode(e,o,i),o),encodingLength$3=e=>_brrp_varint$2.encodingLength(e),create$5=(e,o)=>{const i=o.byteLength,s=encodingLength$3(e),a=s+encodingLength$3(i),c=new Uint8Array(a+i);return encodeTo$2(e,c,0),encodeTo$2(i,c,s),c.set(o,a),new Digest$2(e,i,o,c)},decode$l=e=>{const o=coerce$4(e),[i,s]=decode$m(o),[a,c]=decode$m(o.subarray(s)),d=o.subarray(s+c);if(d.byteLength!==a)throw new Error("Incorrect length");return new Digest$2(i,a,d,o)},equals$6=(e,o)=>{if(e===o)return!0;{const i=o;return e.code===i.code&&e.size===i.size&&i.bytes instanceof Uint8Array&&equals$7(e.bytes,i.bytes)}};let Digest$2=class{constructor(o,i,s,a){this.code=o,this.size=i,this.digest=s,this.bytes=a}};const base58btc$4=baseX$4({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$3=baseX$4({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$3=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$4,base58flickr:base58flickr$3},Symbol.toStringTag,{value:"Module"})),base32$7=rfc4648$4({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$3=rfc4648$4({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$3=rfc4648$4({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$3=rfc4648$4({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$3=rfc4648$4({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$3=rfc4648$4({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$3=rfc4648$4({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$3=rfc4648$4({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$3=rfc4648$4({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$8=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$7,base32hex:base32hex$3,base32hexpad:base32hexpad$3,base32hexpadupper:base32hexpadupper$3,base32hexupper:base32hexupper$3,base32pad:base32pad$3,base32padupper:base32padupper$3,base32upper:base32upper$3,base32z:base32z$3},Symbol.toStringTag,{value:"Module"})),format$5=(e,o)=>{const{bytes:i,version:s}=e;switch(s){case 0:return toStringV0$2(i,baseCache$2(e),o||base58btc$4.encoder);default:return toStringV1$2(i,baseCache$2(e),o||base32$7.encoder)}},cache$2=new WeakMap,baseCache$2=e=>{const o=cache$2.get(e);if(o==null){const i=new Map;return cache$2.set(e,i),i}return o};let CID$2=class It{constructor(o,i,s,a){this.code=i,this.version=o,this.multihash=s,this.bytes=a,this["/"]=a}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:o,multihash:i}=this;if(o!==DAG_PB_CODE$2)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(i.code!==SHA_256_CODE$2)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return It.createV0(i)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:o,digest:i}=this.multihash,s=create$5(o,i);return It.createV1(this.code,s)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(o){return It.equals(this,o)}static equals(o,i){const s=i;return s&&o.code===s.code&&o.version===s.version&&equals$6(o.multihash,s.multihash)}toString(o){return format$5(this,o)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(o){if(o==null)return null;const i=o;if(i instanceof It)return i;if(i["/"]!=null&&i["/"]===i.bytes||i.asCID===i){const{version:s,code:a,multihash:c,bytes:d}=i;return new It(s,a,c,d||encodeCID$3(s,a,c.bytes))}else if(i[cidSymbol$2]===!0){const{version:s,multihash:a,code:c}=i,d=decode$l(a);return It.create(s,c,d)}else return null}static create(o,i,s){if(typeof i!="number")throw new Error("String codecs are no longer supported");if(!(s.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(o){case 0:{if(i!==DAG_PB_CODE$2)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$2}) block encoding`);return new It(o,i,s,s.bytes)}case 1:{const a=encodeCID$3(o,i,s.bytes);return new It(o,i,s,a)}default:throw new Error("Invalid version")}}static createV0(o){return It.create(0,DAG_PB_CODE$2,o)}static createV1(o,i){return It.create(1,o,i)}static decode(o){const[i,s]=It.decodeFirst(o);if(s.length)throw new Error("Incorrect length");return i}static decodeFirst(o){const i=It.inspectBytes(o),s=i.size-i.multihashSize,a=coerce$4(o.subarray(s,s+i.multihashSize));if(a.byteLength!==i.multihashSize)throw new Error("Incorrect length");const c=a.subarray(i.multihashSize-i.digestSize),d=new Digest$2(i.multihashCode,i.digestSize,c,a);return[i.version===0?It.createV0(d):It.createV1(i.codec,d),o.subarray(i.size)]}static inspectBytes(o){let i=0;const s=()=>{const[j,tt]=decode$m(o.subarray(i));return i+=tt,j};let a=s(),c=DAG_PB_CODE$2;if(a===18?(a=0,i=0):c=s(),a!==0&&a!==1)throw new RangeError(`Invalid CID version ${a}`);const d=i,h=s(),g=s(),b=i+g,$=b-d;return{version:a,codec:c,multihashCode:h,digestSize:g,multihashSize:$,size:b}}static parse(o,i){const[s,a]=parseCIDtoBytes$2(o,i),c=It.decode(a);return baseCache$2(c).set(s,o),c}};const parseCIDtoBytes$2=(e,o)=>{switch(e[0]){case"Q":{const i=o||base58btc$4;return[base58btc$4.prefix,i.decode(`${base58btc$4.prefix}${e}`)]}case base58btc$4.prefix:{const i=o||base58btc$4;return[base58btc$4.prefix,i.decode(e)]}case base32$7.prefix:{const i=o||base32$7;return[base32$7.prefix,i.decode(e)]}default:{if(o==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],o.decode(e)]}}},toStringV0$2=(e,o,i)=>{const{prefix:s}=i;if(s!==base58btc$4.prefix)throw Error(`Cannot string encode V0 in ${i.name} encoding`);const a=o.get(s);if(a==null){const c=i.encode(e).slice(1);return o.set(s,c),c}else return a},toStringV1$2=(e,o,i)=>{const{prefix:s}=i,a=o.get(s);if(a==null){const c=i.encode(e);return o.set(s,c),c}else return a},DAG_PB_CODE$2=112,SHA_256_CODE$2=18,encodeCID$3=(e,o,i)=>{const s=encodingLength$3(e),a=s+encodingLength$3(o),c=new Uint8Array(a+i.byteLength);return encodeTo$2(e,c,0),encodeTo$2(o,c,s),c.set(i,a),c},cidSymbol$2=Symbol.for("@ipld/js-cid/CID");function fromSplit$1(e){const[o,i,s]=e;return{payload:i,signatures:[{protected:o,signature:s}],link:CID$2.decode(fromBase64url(i))}}function encodeSignature(e){const o={signature:fromBase64url(e.signature)};return e.header&&(o.header=e.header),e.protected&&(o.protected=fromBase64url(e.protected)),o}function encode$g(e){const o=fromBase64url(e.payload);try{CID$2.decode(o)}catch{throw new Error("Not a valid DagJWS")}return{payload:o,signatures:e.signatures.map(encodeSignature)}}function decodeSignature(e){const o={signature:toBase64url(e.signature)};return e.header&&(o.header=e.header),e.protected&&(o.protected=toBase64url(e.protected)),o}function decode$k(e){const o={payload:toBase64url(e.payload),signatures:e.signatures.map(decodeSignature)};return o.link=CID$2.decode(new Uint8Array(e.payload)),o}function fromSplit(e){const[o,i,s,a,c]=e,d={ciphertext:a,iv:s,protected:o,tag:c};return i&&(d.recipients=[{encrypted_key:i}]),d}function encodeRecipient(e){const o={};return e.encrypted_key&&(o.encrypted_key=fromBase64url(e.encrypted_key)),e.header&&(o.header=e.header),o}function encode$f(e){const o={ciphertext:fromBase64url(e.ciphertext),protected:fromBase64url(e.protected),iv:fromBase64url(e.iv),tag:fromBase64url(e.tag)};return e.aad&&(o.aad=fromBase64url(e.aad)),e.recipients&&(o.recipients=e.recipients.map(encodeRecipient)),e.unprotected&&(o.unprotected=e.unprotected),o}function decodeRecipient(e){const o={};return e.encrypted_key&&(o.encrypted_key=toBase64url(e.encrypted_key)),e.header&&(o.header=e.header),o}function decode$j(e){const o={ciphertext:toBase64url(e.ciphertext),protected:toBase64url(e.protected),iv:toBase64url(e.iv),tag:toBase64url(e.tag)};return e.aad&&(o.aad=toBase64url(e.aad)),e.recipients&&(o.recipients=e.recipients.map(decodeRecipient)),e.unprotected&&(o.unprotected=e.unprotected),o}const name$3="dag-jose",code$3=133;function isDagJWS(e){return"payload"in e&&typeof e.payload=="string"&&"signatures"in e&&Array.isArray(e.signatures)}function isEncodedJWS(e){return"payload"in e&&e.payload instanceof Uint8Array&&"signatures"in e&&Array.isArray(e.signatures)}function isEncodedJWE(e){return"ciphertext"in e&&e.ciphertext instanceof Uint8Array&&"iv"in e&&e.iv instanceof Uint8Array&&"protected"in e&&e.protected instanceof Uint8Array&&"tag"in e&&e.tag instanceof Uint8Array}function isDagJWE(e){return"ciphertext"in e&&typeof e.ciphertext=="string"&&"iv"in e&&typeof e.iv=="string"&&"protected"in e&&typeof e.protected=="string"&&"tag"in e&&typeof e.tag=="string"}function toGeneral(e){if(typeof e=="string"){const o=e.split(".");if(o.length===3)return fromSplit$1(o);if(o.length===5)return fromSplit(o);throw new Error("Not a valid JOSE string")}if(isDagJWS(e)||isDagJWE(e))return e;throw new Error("Not a valid unencoded JOSE object")}function encode$e(e){typeof e=="string"&&(e=toGeneral(e));let o;if(isDagJWS(e))o=encode$g(e);else if(isDagJWE(e))o=encode$f(e);else throw new Error("Not a valid JOSE object");return new Uint8Array(encode$n(o))}function decode$i(e){let o;try{o=decode$v(e)}catch{throw new Error("Not a valid DAG-JOSE object")}if(isEncodedJWS(o))return decode$k(o);if(isEncodedJWE(o))return decode$j(o);throw new Error("Not a valid DAG-JOSE object")}const dagJOSE=Object.freeze(Object.defineProperty({__proto__:null,code:code$3,decode:decode$i,encode:encode$e,name:name$3,toGeneral},Symbol.toStringTag,{value:"Module"})),code$2=0,name$2="identity",encode$d=coerce$4,digest=e=>create$5(code$2,encode$d(e)),identity$4={code:code$2,name:name$2,encode:encode$d,digest},identity$5=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$4},Symbol.toStringTag,{value:"Module"})),identity$3=from$5({prefix:"\0",name:"identity",encode:e=>toString$6(e),decode:e=>fromString$6(e)}),identityBase$3=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$3},Symbol.toStringTag,{value:"Module"})),base2$6=rfc4648$4({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$7=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$6},Symbol.toStringTag,{value:"Module"})),base8$6=rfc4648$4({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$7=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$6},Symbol.toStringTag,{value:"Module"})),base10$6=baseX$4({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$7=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$6},Symbol.toStringTag,{value:"Module"})),base16$6=rfc4648$4({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$3=rfc4648$4({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$7=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$6,base16upper:base16upper$3},Symbol.toStringTag,{value:"Module"})),base36$6=baseX$4({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$3=baseX$4({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$7=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$6,base36upper:base36upper$3},Symbol.toStringTag,{value:"Module"})),alphabet$3=Array.from(""),alphabetBytesToChars$3=alphabet$3.reduce((e,o,i)=>(e[i]=o,e),[]),alphabetCharsToBytes$3=alphabet$3.reduce((e,o,i)=>(e[o.codePointAt(0)]=i,e),[]);function encode$c(e){return e.reduce((o,i)=>(o+=alphabetBytesToChars$3[i],o),"")}function decode$h(e){const o=[];for(const i of e){const s=alphabetCharsToBytes$3[i.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${i}`);o.push(s)}return new Uint8Array(o)}const base256emoji$6=from$5({prefix:"",name:"base256emoji",encode:encode$c,decode:decode$h}),base256emoji$7=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:base256emoji$6},Symbol.toStringTag,{value:"Module"})),from$4=({name:e,code:o,encode:i})=>new Hasher(e,o,i);class Hasher{constructor(o,i,s){this.name=o,this.code=i,this.encode=s}digest(o){if(o instanceof Uint8Array){const i=this.encode(o);return i instanceof Uint8Array?create$5(this.code,i):i.then(s=>create$5(this.code,s))}else throw Error("Unknown type, must be binary type")}}const sha=e=>async o=>new Uint8Array(await crypto.subtle.digest(e,o)),sha256=from$4({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512=from$4({name:"sha2-512",code:19,encode:sha("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256,sha512},Symbol.toStringTag,{value:"Module"})),name$1="raw",code$1=85,encode$b=e=>coerce$4(e),decode$g=e=>coerce$4(e),raw=Object.freeze(Object.defineProperty({__proto__:null,code:code$1,decode:decode$g,encode:encode$b,name:name$1},Symbol.toStringTag,{value:"Module"})),textEncoder=new TextEncoder,textDecoder=new TextDecoder,name="json",code=512,encode$a=e=>textEncoder.encode(JSON.stringify(e)),decode$f=e=>JSON.parse(textDecoder.decode(e)),json=Object.freeze(Object.defineProperty({__proto__:null,code,decode:decode$f,encode:encode$a,name},Symbol.toStringTag,{value:"Module"})),bases$3={...identityBase$3,...base2$7,...base8$7,...base10$7,...base16$7,...base32$8,...base36$7,...base58$3,...base64$a,...base256emoji$7},hashes={...sha2,...identity$5},codecs$1={raw,json};class Parser{constructor(){kt(this,"index",0);kt(this,"input","")}new(o){return this.index=0,this.input=o,this}readAtomically(o){const i=this.index,s=o();return s===void 0&&(this.index=i),s}parseWith(o){const i=o();if(this.index===this.input.length)return i}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(o){return this.readAtomically(()=>{const i=this.readChar();if(i===o)return i})}readSeparator(o,i,s){return this.readAtomically(()=>{if(!(i>0&&this.readGivenChar(o)===void 0))return s()})}readNumber(o,i,s,a){return this.readAtomically(()=>{let c=0,d=0;const h=this.peekChar();if(h===void 0)return;const g=h==="0",b=2**(8*a)-1;for(;;){const $=this.readAtomically(()=>{const j=this.readChar();if(j===void 0)return;const tt=Number.parseInt(j,o);if(!Number.isNaN(tt))return tt});if($===void 0)break;if(c*=o,c+=$,c>b||(d+=1,i!==void 0&&d>i))return}if(d!==0)return!s&&g&&d>1?void 0:c})}readIPv4Addr(){return this.readAtomically(()=>{const o=new Uint8Array(4);for(let i=0;i<o.length;i++){const s=this.readSeparator(".",i,()=>this.readNumber(10,3,!1,1));if(s===void 0)return;o[i]=s}return o})}readIPv6Addr(){const o=i=>{for(let s=0;s<i.length/2;s++){const a=s*2;if(s<i.length-3){const d=this.readSeparator(":",s,()=>this.readIPv4Addr());if(d!==void 0)return i[a]=d[0],i[a+1]=d[1],i[a+2]=d[2],i[a+3]=d[3],[a+4,!0]}const c=this.readSeparator(":",s,()=>this.readNumber(16,4,!0,2));if(c===void 0)return[a,!1];i[a]=c>>8,i[a+1]=c&255}return[i.length,!1]};return this.readAtomically(()=>{const i=new Uint8Array(16),[s,a]=o(i);if(s===16)return i;if(a||this.readGivenChar(":")===void 0||this.readGivenChar(":")===void 0)return;const c=new Uint8Array(14),d=16-(s+2),[h]=o(c.subarray(0,d));return i.set(c.subarray(0,h),16-h),i})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}}const MAX_IPV6_LENGTH=45,MAX_IPV4_LENGTH=15,parser=new Parser;function parseIPv4(e){if(!(e.length>MAX_IPV4_LENGTH))return parser.new(e).parseWith(()=>parser.readIPv4Addr())}function parseIPv6(e){if(e.includes("%")&&(e=e.split("%")[0]),!(e.length>MAX_IPV6_LENGTH))return parser.new(e).parseWith(()=>parser.readIPv6Addr())}function parseIP(e,o=!1){if(e.includes("%")&&(e=e.split("%")[0]),e.length>MAX_IPV6_LENGTH)return;const i=parser.new(e).parseWith(()=>parser.readIPAddr());if(i)return o&&i.length===4?Uint8Array.from([0,0,0,0,0,0,0,0,0,0,255,255,i[0],i[1],i[2],i[3]]):i}function isIPv4(e){return!!parseIPv4(e)}function isIPv6(e){return!!parseIPv6(e)}function isIP(e){return!!parseIP(e)}function base$3(e,o){if(e.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),s=0;s<i.length;s++)i[s]=255;for(var a=0;a<e.length;a++){var c=e.charAt(a),d=c.charCodeAt(0);if(i[d]!==255)throw new TypeError(c+" is ambiguous");i[d]=a}var h=e.length,g=e.charAt(0),b=Math.log(h)/Math.log(256),$=Math.log(256)/Math.log(h);function j(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var ot=0,ut=0,nt=0,et=_.length;nt!==et&&_[nt]===0;)nt++,ot++;for(var _e=(et-nt)*$+1>>>0,rt=new Uint8Array(_e);nt!==et;){for(var it=_[nt],lt=0,st=_e-1;(it!==0||lt<ut)&&st!==-1;st--,lt++)it+=256*rt[st]>>>0,rt[st]=it%h>>>0,it=it/h>>>0;if(it!==0)throw new Error("Non-zero carry");ut=lt,nt++}for(var ft=_e-ut;ft!==_e&&rt[ft]===0;)ft++;for(var pt=g.repeat(ot);ft<_e;++ft)pt+=e.charAt(rt[ft]);return pt}function tt(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var ot=0;if(_[ot]!==" "){for(var ut=0,nt=0;_[ot]===g;)ut++,ot++;for(var et=(_.length-ot)*b+1>>>0,_e=new Uint8Array(et);_[ot];){var rt=i[_.charCodeAt(ot)];if(rt===255)return;for(var it=0,lt=et-1;(rt!==0||it<nt)&&lt!==-1;lt--,it++)rt+=h*_e[lt]>>>0,_e[lt]=rt%256>>>0,rt=rt/256>>>0;if(rt!==0)throw new Error("Non-zero carry");nt=it,ot++}if(_[ot]!==" "){for(var st=et-nt;st!==et&&_e[st]===0;)st++;for(var ft=new Uint8Array(ut+(et-st)),pt=ut;st!==et;)ft[pt++]=_e[st++];return ft}}}function at(_){var ot=tt(_);if(ot)return ot;throw new Error(`Non-${o} character`)}return{encode:j,decodeUnsafe:tt,decode:at}}var src$4=base$3,_brrp__multiformats_scope_baseX$3=src$4;const coerce$3=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},fromString$5=e=>new TextEncoder().encode(e),toString$5=e=>new TextDecoder().decode(e);let Encoder$3=class{constructor(o,i,s){this.name=o,this.prefix=i,this.baseEncode=s}encode(o){if(o instanceof Uint8Array)return`${this.prefix}${this.baseEncode(o)}`;throw Error("Unknown type, must be binary type")}},Decoder$3=class{constructor(o,i,s){if(this.name=o,this.prefix=i,i.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=s}decode(o){if(typeof o=="string"){if(o.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(o)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(o.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(o){return or$3(this,o)}},ComposedDecoder$3=class{constructor(o){this.decoders=o}or(o){return or$3(this,o)}decode(o){const i=o[0],s=this.decoders[i];if(s)return s.decode(o);throw RangeError(`Unable to decode multibase string ${JSON.stringify(o)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$3=(e,o)=>new ComposedDecoder$3({...e.decoders||{[e.prefix]:e},...o.decoders||{[o.prefix]:o}});let Codec$3=class{constructor(o,i,s,a){this.name=o,this.prefix=i,this.baseEncode=s,this.baseDecode=a,this.encoder=new Encoder$3(o,i,s),this.decoder=new Decoder$3(o,i,a)}encode(o){return this.encoder.encode(o)}decode(o){return this.decoder.decode(o)}};const from$3=({name:e,prefix:o,encode:i,decode:s})=>new Codec$3(e,o,i,s),baseX$3=({prefix:e,name:o,alphabet:i})=>{const{encode:s,decode:a}=_brrp__multiformats_scope_baseX$3(i,o);return from$3({prefix:e,name:o,encode:s,decode:c=>coerce$3(a(c))})},decode$e=(e,o,i,s)=>{const a={};for(let $=0;$<o.length;++$)a[o[$]]=$;let c=e.length;for(;e[c-1]==="=";)--c;const d=new Uint8Array(c*i/8|0);let h=0,g=0,b=0;for(let $=0;$<c;++$){const j=a[e[$]];if(j===void 0)throw new SyntaxError(`Non-${s} character`);g=g<<i|j,h+=i,h>=8&&(h-=8,d[b++]=255&g>>h)}if(h>=i||255&g<<8-h)throw new SyntaxError("Unexpected end of data");return d},encode$9=(e,o,i)=>{const s=o[o.length-1]==="=",a=(1<<i)-1;let c="",d=0,h=0;for(let g=0;g<e.length;++g)for(h=h<<8|e[g],d+=8;d>i;)d-=i,c+=o[a&h>>d];if(d&&(c+=o[a&h<<i-d]),s)for(;c.length*i&7;)c+="=";return c},rfc4648$3=({name:e,prefix:o,bitsPerChar:i,alphabet:s})=>from$3({prefix:o,name:e,encode(a){return encode$9(a,s,i)},decode(a){return decode$e(a,s,i,e)}}),base10$4=baseX$3({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$5=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$4},Symbol.toStringTag,{value:"Module"})),base16$4=rfc4648$3({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$2=rfc4648$3({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$5=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$4,base16upper:base16upper$2},Symbol.toStringTag,{value:"Module"})),base2$4=rfc4648$3({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$5=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$4},Symbol.toStringTag,{value:"Module"})),alphabet$2=Array.from(""),alphabetBytesToChars$2=alphabet$2.reduce((e,o,i)=>(e[i]=o,e),[]),alphabetCharsToBytes$2=alphabet$2.reduce((e,o,i)=>(e[o.codePointAt(0)]=i,e),[]);function encode$8(e){return e.reduce((o,i)=>(o+=alphabetBytesToChars$2[i],o),"")}function decode$d(e){const o=[];for(const i of e){const s=alphabetCharsToBytes$2[i.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${i}`);o.push(s)}return new Uint8Array(o)}const base256emoji$4=from$3({prefix:"",name:"base256emoji",encode:encode$8,decode:decode$d}),base256emoji$5=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:base256emoji$4},Symbol.toStringTag,{value:"Module"})),base32$5=rfc4648$3({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$2=rfc4648$3({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$2=rfc4648$3({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$2=rfc4648$3({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$2=rfc4648$3({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$2=rfc4648$3({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$2=rfc4648$3({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$2=rfc4648$3({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$2=rfc4648$3({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$6=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$5,base32hex:base32hex$2,base32hexpad:base32hexpad$2,base32hexpadupper:base32hexpadupper$2,base32hexupper:base32hexupper$2,base32pad:base32pad$2,base32padupper:base32padupper$2,base32upper:base32upper$2,base32z:base32z$2},Symbol.toStringTag,{value:"Module"})),base36$4=baseX$3({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$2=baseX$3({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$5=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$4,base36upper:base36upper$2},Symbol.toStringTag,{value:"Module"})),base58btc$3=baseX$3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$2=baseX$3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$2=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$3,base58flickr:base58flickr$2},Symbol.toStringTag,{value:"Module"})),base64$7=rfc4648$3({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$2=rfc4648$3({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$2=rfc4648$3({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$2=rfc4648$3({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$8=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$7,base64pad:base64pad$2,base64url:base64url$2,base64urlpad:base64urlpad$2},Symbol.toStringTag,{value:"Module"})),base8$4=rfc4648$3({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$5=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$4},Symbol.toStringTag,{value:"Module"})),identity$2=from$3({prefix:"\0",name:"identity",encode:e=>toString$5(e),decode:e=>fromString$5(e)}),identityBase$2=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$2},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases$2={...identityBase$2,...base2$5,...base8$5,...base10$5,...base16$5,...base32$6,...base36$5,...base58$2,...base64$8,...base256emoji$5};function asUint8Array$1(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function allocUnsafe$1(e=0){var o;return((o=globalThis.Buffer)==null?void 0:o.allocUnsafe)!=null?asUint8Array$1(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function createCodec$1(e,o,i,s){return{name:e,prefix:o,encoder:{name:e,prefix:o,encode:i},decoder:{decode:s}}}const string$1=createCodec$1("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),ascii$1=createCodec$1("ascii","a",e=>{let o="a";for(let i=0;i<e.length;i++)o+=String.fromCharCode(e[i]);return o},e=>{e=e.substring(1);const o=allocUnsafe$1(e.length);for(let i=0;i<e.length;i++)o[i]=e.charCodeAt(i);return o}),BASES$1={utf8:string$1,"utf-8":string$1,hex:bases$2.base16,latin1:ascii$1,ascii:ascii$1,binary:ascii$1,...bases$2};function toString$4(e,o="utf8"){const i=BASES$1[o];if(i==null)throw new Error(`Unsupported encoding "${o}"`);return(o==="utf8"||o==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):i.encoder.encode(e).substring(1)}const isV4=isIPv4,isV6=isIPv6,toBytes$1=function(e){let o=0;if(e=e.toString().trim(),isV4(e)){const i=new Uint8Array(o+4);return e.split(/\./g).forEach(s=>{i[o++]=parseInt(s,10)&255}),i}if(isV6(e)){const i=e.split(":",8);let s;for(s=0;s<i.length;s++){const c=isV4(i[s]);let d;c&&(d=toBytes$1(i[s]),i[s]=toString$4(d.slice(0,2),"base16")),d!=null&&++s<8&&i.splice(s,0,toString$4(d.slice(2,4),"base16"))}if(i[0]==="")for(;i.length<8;)i.unshift("0");else if(i[i.length-1]==="")for(;i.length<8;)i.push("0");else if(i.length<8){for(s=0;s<i.length&&i[s]!=="";s++);const c=[s,1];for(s=9-i.length;s>0;s--)c.push("0");i.splice.apply(i,c)}const a=new Uint8Array(o+16);for(s=0;s<i.length;s++){const c=parseInt(i[s],16);a[o++]=c>>8&255,a[o++]=c&255}return a}throw new Error("invalid ip address")},toString$3=function(e,o=0,i){o=~~o,i=i??e.length-o;const s=new DataView(e.buffer);if(i===4){const a=[];for(let c=0;c<i;c++)a.push(e[o+c]);return a.join(".")}if(i===16){const a=[];for(let c=0;c<i;c+=2)a.push(s.getUint16(o+c).toString(16));return a.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""},V$1=-1,names={},codes={},table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,V$1,"ip6zone"],[43,8,"ipcidr"],[53,V$1,"dns",!0],[54,V$1,"dns4",!0],[55,V$1,"dns6",!0],[56,V$1,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc"],[281,0,"webrtc-w3c"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,V$1,"unix",!1,!0],[421,V$1,"ipfs"],[421,V$1,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,V$1,"garlic64"],[448,0,"tls"],[449,V$1,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,V$1,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,V$1,"memory"]];table.forEach(e=>{const o=createProtocol(...e);codes[o.code]=o,names[o.name]=o});function createProtocol(e,o,i,s,a){return{code:e,size:o,name:i,resolvable:!!s,path:!!a}}function getProtocol(e){if(typeof e=="number"){if(codes[e]!=null)return codes[e];throw new Error(`no protocol with code: ${e}`)}else if(typeof e=="string"){if(names[e]!=null)return names[e];throw new Error(`no protocol with name: ${e}`)}throw new Error(`invalid protocol id type: ${typeof e}`)}var encode_1$2=encode$7,MSB$4=128,REST$4=127,MSBALL$2=~REST$4,INT$2=Math.pow(2,31);function encode$7(e,o,i){o=o||[],i=i||0;for(var s=i;e>=INT$2;)o[i++]=e&255|MSB$4,e/=128;for(;e&MSBALL$2;)o[i++]=e&255|MSB$4,e>>>=7;return o[i]=e|0,encode$7.bytes=i-s+1,o}var decode$c=read$2,MSB$1$2=128,REST$1$2=127;function read$2(e,s){var i=0,s=s||0,a=0,c=s,d,h=e.length;do{if(c>=h)throw read$2.bytes=0,new RangeError("Could not decode varint");d=e[c++],i+=a<28?(d&REST$1$2)<<a:(d&REST$1$2)*Math.pow(2,a),a+=7}while(d>=MSB$1$2);return read$2.bytes=c-s,i}var N1$3=Math.pow(2,7),N2$3=Math.pow(2,14),N3$3=Math.pow(2,21),N4$3=Math.pow(2,28),N5$3=Math.pow(2,35),N6$3=Math.pow(2,42),N7$3=Math.pow(2,49),N8$2=Math.pow(2,56),N9$2=Math.pow(2,63),length$2=function(e){return e<N1$3?1:e<N2$3?2:e<N3$3?3:e<N4$3?4:e<N5$3?5:e<N6$3?6:e<N7$3?7:e<N8$2?8:e<N9$2?9:10},varint$3={encode:encode_1$2,decode:decode$c,encodingLength:length$2},_brrp_varint$1=varint$3;const decode$b=(e,o=0)=>[_brrp_varint$1.decode(e,o),_brrp_varint$1.decode.bytes],encodeTo$1=(e,o,i=0)=>(_brrp_varint$1.encode(e,o,i),o),encodingLength$2=e=>_brrp_varint$1.encodingLength(e),equals$5=(e,o)=>{if(e===o)return!0;if(e.byteLength!==o.byteLength)return!1;for(let i=0;i<e.byteLength;i++)if(e[i]!==o[i])return!1;return!0},coerce$2=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},fromString$4=e=>new TextEncoder().encode(e),toString$2=e=>new TextDecoder().decode(e),create$4=(e,o)=>{const i=o.byteLength,s=encodingLength$2(e),a=s+encodingLength$2(i),c=new Uint8Array(a+i);return encodeTo$1(e,c,0),encodeTo$1(i,c,s),c.set(o,a),new Digest$1(e,i,o,c)},decode$a=e=>{const o=coerce$2(e),[i,s]=decode$b(o),[a,c]=decode$b(o.subarray(s)),d=o.subarray(s+c);if(d.byteLength!==a)throw new Error("Incorrect length");return new Digest$1(i,a,d,o)},equals$4=(e,o)=>{if(e===o)return!0;{const i=o;return e.code===i.code&&e.size===i.size&&i.bytes instanceof Uint8Array&&equals$5(e.bytes,i.bytes)}};let Digest$1=class{constructor(o,i,s,a){this.code=o,this.size=i,this.digest=s,this.bytes=a}};function base$2(e,o){if(e.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),s=0;s<i.length;s++)i[s]=255;for(var a=0;a<e.length;a++){var c=e.charAt(a),d=c.charCodeAt(0);if(i[d]!==255)throw new TypeError(c+" is ambiguous");i[d]=a}var h=e.length,g=e.charAt(0),b=Math.log(h)/Math.log(256),$=Math.log(256)/Math.log(h);function j(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var ot=0,ut=0,nt=0,et=_.length;nt!==et&&_[nt]===0;)nt++,ot++;for(var _e=(et-nt)*$+1>>>0,rt=new Uint8Array(_e);nt!==et;){for(var it=_[nt],lt=0,st=_e-1;(it!==0||lt<ut)&&st!==-1;st--,lt++)it+=256*rt[st]>>>0,rt[st]=it%h>>>0,it=it/h>>>0;if(it!==0)throw new Error("Non-zero carry");ut=lt,nt++}for(var ft=_e-ut;ft!==_e&&rt[ft]===0;)ft++;for(var pt=g.repeat(ot);ft<_e;++ft)pt+=e.charAt(rt[ft]);return pt}function tt(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var ot=0;if(_[ot]!==" "){for(var ut=0,nt=0;_[ot]===g;)ut++,ot++;for(var et=(_.length-ot)*b+1>>>0,_e=new Uint8Array(et);_[ot];){var rt=i[_.charCodeAt(ot)];if(rt===255)return;for(var it=0,lt=et-1;(rt!==0||it<nt)&&lt!==-1;lt--,it++)rt+=h*_e[lt]>>>0,_e[lt]=rt%256>>>0,rt=rt/256>>>0;if(rt!==0)throw new Error("Non-zero carry");nt=it,ot++}if(_[ot]!==" "){for(var st=et-nt;st!==et&&_e[st]===0;)st++;for(var ft=new Uint8Array(ut+(et-st)),pt=ut;st!==et;)ft[pt++]=_e[st++];return ft}}}function at(_){var ot=tt(_);if(ot)return ot;throw new Error(`Non-${o} character`)}return{encode:j,decodeUnsafe:tt,decode:at}}var src$3=base$2,_brrp__multiformats_scope_baseX$2=src$3;let Encoder$2=class{constructor(o,i,s){this.name=o,this.prefix=i,this.baseEncode=s}encode(o){if(o instanceof Uint8Array)return`${this.prefix}${this.baseEncode(o)}`;throw Error("Unknown type, must be binary type")}},Decoder$2=class{constructor(o,i,s){if(this.name=o,this.prefix=i,i.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=s}decode(o){if(typeof o=="string"){if(o.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(o)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(o.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(o){return or$2(this,o)}},ComposedDecoder$2=class{constructor(o){this.decoders=o}or(o){return or$2(this,o)}decode(o){const i=o[0],s=this.decoders[i];if(s)return s.decode(o);throw RangeError(`Unable to decode multibase string ${JSON.stringify(o)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$2=(e,o)=>new ComposedDecoder$2({...e.decoders||{[e.prefix]:e},...o.decoders||{[o.prefix]:o}});let Codec$2=class{constructor(o,i,s,a){this.name=o,this.prefix=i,this.baseEncode=s,this.baseDecode=a,this.encoder=new Encoder$2(o,i,s),this.decoder=new Decoder$2(o,i,a)}encode(o){return this.encoder.encode(o)}decode(o){return this.decoder.decode(o)}};const from$2=({name:e,prefix:o,encode:i,decode:s})=>new Codec$2(e,o,i,s),baseX$2=({prefix:e,name:o,alphabet:i})=>{const{encode:s,decode:a}=_brrp__multiformats_scope_baseX$2(i,o);return from$2({prefix:e,name:o,encode:s,decode:c=>coerce$2(a(c))})},decode$9=(e,o,i,s)=>{const a={};for(let $=0;$<o.length;++$)a[o[$]]=$;let c=e.length;for(;e[c-1]==="=";)--c;const d=new Uint8Array(c*i/8|0);let h=0,g=0,b=0;for(let $=0;$<c;++$){const j=a[e[$]];if(j===void 0)throw new SyntaxError(`Non-${s} character`);g=g<<i|j,h+=i,h>=8&&(h-=8,d[b++]=255&g>>h)}if(h>=i||255&g<<8-h)throw new SyntaxError("Unexpected end of data");return d},encode$6=(e,o,i)=>{const s=o[o.length-1]==="=",a=(1<<i)-1;let c="",d=0,h=0;for(let g=0;g<e.length;++g)for(h=h<<8|e[g],d+=8;d>i;)d-=i,c+=o[a&h>>d];if(d&&(c+=o[a&h<<i-d]),s)for(;c.length*i&7;)c+="=";return c},rfc4648$2=({name:e,prefix:o,bitsPerChar:i,alphabet:s})=>from$2({prefix:o,name:e,encode(a){return encode$6(a,s,i)},decode(a){return decode$9(a,s,i,e)}}),base58btc$2=baseX$2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr$1=baseX$2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58$1=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$2,base58flickr:base58flickr$1},Symbol.toStringTag,{value:"Module"})),base32$3=rfc4648$2({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper$1=rfc4648$2({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad$1=rfc4648$2({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper$1=rfc4648$2({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex$1=rfc4648$2({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper$1=rfc4648$2({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad$1=rfc4648$2({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper$1=rfc4648$2({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z$1=rfc4648$2({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$4=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$3,base32hex:base32hex$1,base32hexpad:base32hexpad$1,base32hexpadupper:base32hexpadupper$1,base32hexupper:base32hexupper$1,base32pad:base32pad$1,base32padupper:base32padupper$1,base32upper:base32upper$1,base32z:base32z$1},Symbol.toStringTag,{value:"Module"})),format$4=(e,o)=>{const{bytes:i,version:s}=e;switch(s){case 0:return toStringV0$1(i,baseCache$1(e),o||base58btc$2.encoder);default:return toStringV1$1(i,baseCache$1(e),o||base32$3.encoder)}},cache$1=new WeakMap,baseCache$1=e=>{const o=cache$1.get(e);if(o==null){const i=new Map;return cache$1.set(e,i),i}return o};let CID$1=class Bt{constructor(o,i,s,a){this.code=i,this.version=o,this.multihash=s,this.bytes=a,this["/"]=a}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:o,multihash:i}=this;if(o!==DAG_PB_CODE$1)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(i.code!==SHA_256_CODE$1)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Bt.createV0(i)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:o,digest:i}=this.multihash,s=create$4(o,i);return Bt.createV1(this.code,s)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(o){return Bt.equals(this,o)}static equals(o,i){const s=i;return s&&o.code===s.code&&o.version===s.version&&equals$4(o.multihash,s.multihash)}toString(o){return format$4(this,o)}toJSON(){return{"/":format$4(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(o){if(o==null)return null;const i=o;if(i instanceof Bt)return i;if(i["/"]!=null&&i["/"]===i.bytes||i.asCID===i){const{version:s,code:a,multihash:c,bytes:d}=i;return new Bt(s,a,c,d||encodeCID$2(s,a,c.bytes))}else if(i[cidSymbol$1]===!0){const{version:s,multihash:a,code:c}=i,d=decode$a(a);return Bt.create(s,c,d)}else return null}static create(o,i,s){if(typeof i!="number")throw new Error("String codecs are no longer supported");if(!(s.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(o){case 0:{if(i!==DAG_PB_CODE$1)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$1}) block encoding`);return new Bt(o,i,s,s.bytes)}case 1:{const a=encodeCID$2(o,i,s.bytes);return new Bt(o,i,s,a)}default:throw new Error("Invalid version")}}static createV0(o){return Bt.create(0,DAG_PB_CODE$1,o)}static createV1(o,i){return Bt.create(1,o,i)}static decode(o){const[i,s]=Bt.decodeFirst(o);if(s.length)throw new Error("Incorrect length");return i}static decodeFirst(o){const i=Bt.inspectBytes(o),s=i.size-i.multihashSize,a=coerce$2(o.subarray(s,s+i.multihashSize));if(a.byteLength!==i.multihashSize)throw new Error("Incorrect length");const c=a.subarray(i.multihashSize-i.digestSize),d=new Digest$1(i.multihashCode,i.digestSize,c,a);return[i.version===0?Bt.createV0(d):Bt.createV1(i.codec,d),o.subarray(i.size)]}static inspectBytes(o){let i=0;const s=()=>{const[j,tt]=decode$b(o.subarray(i));return i+=tt,j};let a=s(),c=DAG_PB_CODE$1;if(a===18?(a=0,i=0):c=s(),a!==0&&a!==1)throw new RangeError(`Invalid CID version ${a}`);const d=i,h=s(),g=s(),b=i+g,$=b-d;return{version:a,codec:c,multihashCode:h,digestSize:g,multihashSize:$,size:b}}static parse(o,i){const[s,a]=parseCIDtoBytes$1(o,i),c=Bt.decode(a);if(c.version===0&&o[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$1(c).set(s,o),c}};const parseCIDtoBytes$1=(e,o)=>{switch(e[0]){case"Q":{const i=o||base58btc$2;return[base58btc$2.prefix,i.decode(`${base58btc$2.prefix}${e}`)]}case base58btc$2.prefix:{const i=o||base58btc$2;return[base58btc$2.prefix,i.decode(e)]}case base32$3.prefix:{const i=o||base32$3;return[base32$3.prefix,i.decode(e)]}default:{if(o==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],o.decode(e)]}}},toStringV0$1=(e,o,i)=>{const{prefix:s}=i;if(s!==base58btc$2.prefix)throw Error(`Cannot string encode V0 in ${i.name} encoding`);const a=o.get(s);if(a==null){const c=i.encode(e).slice(1);return o.set(s,c),c}else return a},toStringV1$1=(e,o,i)=>{const{prefix:s}=i,a=o.get(s);if(a==null){const c=i.encode(e);return o.set(s,c),c}else return a},DAG_PB_CODE$1=112,SHA_256_CODE$1=18,encodeCID$2=(e,o,i)=>{const s=encodingLength$2(e),a=s+encodingLength$2(o),c=new Uint8Array(a+i.byteLength);return encodeTo$1(e,c,0),encodeTo$1(o,c,s),c.set(i,a),c},cidSymbol$1=Symbol.for("@ipld/js-cid/CID"),identity$1=from$2({prefix:"\0",name:"identity",encode:e=>toString$2(e),decode:e=>fromString$4(e)}),identityBase$1=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$1},Symbol.toStringTag,{value:"Module"})),base2$2=rfc4648$2({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$3=Object.freeze(Object.defineProperty({__proto__:null,base2:base2$2},Symbol.toStringTag,{value:"Module"})),base8$2=rfc4648$2({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$3=Object.freeze(Object.defineProperty({__proto__:null,base8:base8$2},Symbol.toStringTag,{value:"Module"})),base10$2=baseX$2({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$3=Object.freeze(Object.defineProperty({__proto__:null,base10:base10$2},Symbol.toStringTag,{value:"Module"})),base16$2=rfc4648$2({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper$1=rfc4648$2({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$3=Object.freeze(Object.defineProperty({__proto__:null,base16:base16$2,base16upper:base16upper$1},Symbol.toStringTag,{value:"Module"})),base36$2=baseX$2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper$1=baseX$2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$3=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$2,base36upper:base36upper$1},Symbol.toStringTag,{value:"Module"})),base64$5=rfc4648$2({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad$1=rfc4648$2({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$1=rfc4648$2({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad$1=rfc4648$2({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$6=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$5,base64pad:base64pad$1,base64url:base64url$1,base64urlpad:base64urlpad$1},Symbol.toStringTag,{value:"Module"})),alphabet$1=Array.from(""),alphabetBytesToChars$1=alphabet$1.reduce((e,o,i)=>(e[i]=o,e),[]),alphabetCharsToBytes$1=alphabet$1.reduce((e,o,i)=>(e[o.codePointAt(0)]=i,e),[]);function encode$5(e){return e.reduce((o,i)=>(o+=alphabetBytesToChars$1[i],o),"")}function decode$8(e){const o=[];for(const i of e){const s=alphabetCharsToBytes$1[i.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${i}`);o.push(s)}return new Uint8Array(o)}const base256emoji$2=from$2({prefix:"",name:"base256emoji",encode:encode$5,decode:decode$8}),base256emoji$3=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:base256emoji$2},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const bases$1={...identityBase$1,...base2$3,...base8$3,...base10$3,...base16$3,...base32$4,...base36$3,...base58$1,...base64$6,...base256emoji$3};var encode_1$1=encode$4,MSB$3=128,REST$3=127,MSBALL$1=~REST$3,INT$1=Math.pow(2,31);function encode$4(e,o,i){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw encode$4.bytes=0,new RangeError("Could not encode varint");o=o||[],i=i||0;for(var s=i;e>=INT$1;)o[i++]=e&255|MSB$3,e/=128;for(;e&MSBALL$1;)o[i++]=e&255|MSB$3,e>>>=7;return o[i]=e|0,encode$4.bytes=i-s+1,o}var decode$7=read$1,MSB$2=128,REST$2=127;function read$1(e,s){var i=0,s=s||0,a=0,c=s,d,h=e.length;do{if(c>=h||a>49)throw read$1.bytes=0,new RangeError("Could not decode varint");d=e[c++],i+=a<28?(d&REST$2)<<a:(d&REST$2)*Math.pow(2,a),a+=7}while(d>=MSB$2);return read$1.bytes=c-s,i}var N1$2=Math.pow(2,7),N2$2=Math.pow(2,14),N3$2=Math.pow(2,21),N4$2=Math.pow(2,28),N5$2=Math.pow(2,35),N6$2=Math.pow(2,42),N7$2=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(e){return e<N1$2?1:e<N2$2?2:e<N3$2?3:e<N4$2?4:e<N5$2?5:e<N6$2?6:e<N7$2?7:e<N8$1?8:e<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$7,encodingLength:length$1};const varint$2=getDefaultExportFromCjs(varint$1);function fromString$3(e,o="utf8"){const i=BASES$1[o];if(i==null)throw new Error(`Unsupported encoding "${o}"`);return(o==="utf8"||o==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?asUint8Array$1(globalThis.Buffer.from(e,"utf-8")):i.decoder.decode(`${i.prefix}${e}`)}function concat$1(e,o){o==null&&(o=e.reduce((a,c)=>a+c.length,0));const i=allocUnsafe$1(o);let s=0;for(const a of e)i.set(a,s),s+=a.length;return asUint8Array$1(i)}function convertToString(e,o){switch(getProtocol(e).code){case 4:case 41:return bytes2ip(o);case 42:return bytes2str(o);case 6:case 273:case 33:case 132:return bytes2port$1(o).toString();case 53:case 54:case 55:case 56:case 400:case 449:case 777:return bytes2str(o);case 421:return bytes2mh(o);case 444:return bytes2onion$1(o);case 445:return bytes2onion$1(o);case 466:return bytes2mb$1(o);default:return toString$4(o,"base16")}}function convertToBytes(e,o){switch(getProtocol(e).code){case 4:return ip2bytes(o);case 41:return ip2bytes(o);case 42:return str2bytes(o);case 6:case 273:case 33:case 132:return port2bytes$1(parseInt(o,10));case 53:case 54:case 55:case 56:case 400:case 449:case 777:return str2bytes(o);case 421:return mh2bytes(o);case 444:return onion2bytes$1(o);case 445:return onion32bytes$1(o);case 466:return mb2bytes$1(o);default:return fromString$3(o,"base16")}}const decoders$1=Object.values(bases$1).map(e=>e.decoder),anybaseDecoder$1=function(){let e=decoders$1[0].or(decoders$1[1]);return decoders$1.slice(2).forEach(o=>e=e.or(o)),e}();function ip2bytes(e){if(!isIP(e))throw new Error("invalid ip address");return toBytes$1(e)}function bytes2ip(e){const o=toString$3(e,0,e.length);if(o==null)throw new Error("ipBuff is required");if(!isIP(o))throw new Error("invalid ip address");return o}function port2bytes$1(e){const o=new ArrayBuffer(2);return new DataView(o).setUint16(0,e),new Uint8Array(o)}function bytes2port$1(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function str2bytes(e){const o=fromString$3(e),i=Uint8Array.from(varint$2.encode(o.length));return concat$1([i,o],i.length+o.length)}function bytes2str(e){const o=varint$2.decode(e);if(e=e.slice(varint$2.decode.bytes),e.length!==o)throw new Error("inconsistent lengths");return toString$4(e)}function mh2bytes(e){let o;e[0]==="Q"||e[0]==="1"?o=decode$a(base58btc$2.decode(`z${e}`)).bytes:o=CID$1.parse(e).multihash.bytes;const i=Uint8Array.from(varint$2.encode(o.length));return concat$1([i,o],i.length+o.length)}function mb2bytes$1(e){const o=anybaseDecoder$1.decode(e),i=Uint8Array.from(varint$2.encode(o.length));return concat$1([i,o],i.length+o.length)}function bytes2mb$1(e){const o=varint$2.decode(e),i=e.slice(varint$2.decode.bytes);if(i.length!==o)throw new Error("inconsistent lengths");return"u"+toString$4(i,"base64url")}function bytes2mh(e){const o=varint$2.decode(e),i=e.slice(varint$2.decode.bytes);if(i.length!==o)throw new Error("inconsistent lengths");return toString$4(i,"base58btc")}function onion2bytes$1(e){const o=e.split(":");if(o.length!==2)throw new Error(`failed to parse onion addr: ["'${o.join('", "')}'"]' does not contain a port number`);if(o[0].length!==16)throw new Error(`failed to parse onion addr: ${o[0]} not a Tor onion address.`);const i=base32$3.decode("b"+o[0]),s=parseInt(o[1],10);if(s<1||s>65536)throw new Error("Port number is not in range(1, 65536)");const a=port2bytes$1(s);return concat$1([i,a],i.length+a.length)}function onion32bytes$1(e){const o=e.split(":");if(o.length!==2)throw new Error(`failed to parse onion addr: ["'${o.join('", "')}'"]' does not contain a port number`);if(o[0].length!==56)throw new Error(`failed to parse onion addr: ${o[0]} not a Tor onion3 address.`);const i=base32$3.decode(`b${o[0]}`),s=parseInt(o[1],10);if(s<1||s>65536)throw new Error("Port number is not in range(1, 65536)");const a=port2bytes$1(s);return concat$1([i,a],i.length+a.length)}function bytes2onion$1(e){const o=e.slice(0,e.length-2),i=e.slice(e.length-2),s=toString$4(o,"base32"),a=bytes2port$1(i);return`${s}:${a}`}function stringToStringTuples(e){const o=[],i=e.split("/").slice(1);if(i.length===1&&i[0]==="")return[];for(let s=0;s<i.length;s++){const a=i[s],c=getProtocol(a);if(c.size===0){o.push([a]);continue}if(s++,s>=i.length)throw ParseError("invalid address: "+e);if(c.path===!0){o.push([a,cleanPath(i.slice(s).join("/"))]);break}o.push([a,i[s]])}return o}function stringTuplesToString(e){const o=[];return e.map(i=>{const s=protoFromTuple(i);return o.push(s.name),i.length>1&&i[1]!=null&&o.push(i[1]),null}),cleanPath(o.join("/"))}function stringTuplesToTuples(e){return e.map(o=>{Array.isArray(o)||(o=[o]);const i=protoFromTuple(o);return o.length>1?[i.code,convertToBytes(i.code,o[1])]:[i.code]})}function tuplesToStringTuples(e){return e.map(o=>{const i=protoFromTuple(o);return o[1]!=null?[i.code,convertToString(i.code,o[1])]:[i.code]})}function tuplesToBytes(e){return fromBytes(concat$1(e.map(o=>{const i=protoFromTuple(o);let s=Uint8Array.from(varint$2.encode(i.code));return o.length>1&&o[1]!=null&&(s=concat$1([s,o[1]])),s})))}function sizeForAddr$1(e,o){return e.size>0?e.size/8:e.size===0?0:varint$2.decode(o)+(varint$2.decode.bytes??0)}function bytesToTuples(e){const o=[];let i=0;for(;i<e.length;){const s=varint$2.decode(e,i),a=varint$2.decode.bytes??0,c=getProtocol(s),d=sizeForAddr$1(c,e.slice(i+a));if(d===0){o.push([s]),i+=a;continue}const h=e.slice(i+a,i+a+d);if(i+=d+a,i>e.length)throw ParseError("Invalid address Uint8Array: "+toString$4(e,"base16"));o.push([s,h])}return o}function bytesToString$1(e){const o=bytesToTuples(e),i=tuplesToStringTuples(o);return stringTuplesToString(i)}function stringToBytes$1(e){e=cleanPath(e);const o=stringToStringTuples(e),i=stringTuplesToTuples(o);return tuplesToBytes(i)}function fromString$2(e){return stringToBytes$1(e)}function fromBytes(e){const o=validateBytes(e);if(o!=null)throw o;return Uint8Array.from(e)}function validateBytes(e){try{bytesToTuples(e)}catch(o){return o}}function cleanPath(e){return"/"+e.trim().split("/").filter(o=>o).join("/")}function ParseError(e){return new Error("Error parsing address: "+e)}function protoFromTuple(e){return getProtocol(e[0])}function assign(e,o){for(const i in o)Object.defineProperty(e,i,{value:o[i],enumerable:!0,configurable:!0});return e}function createError(e,o,i){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");i||(i={}),typeof o=="object"&&(i=o,o=""),o&&(i.code=o);try{return assign(e,i)}catch{i.message=e.message,i.stack=e.stack;const a=function(){};return a.prototype=Object.create(Object.getPrototypeOf(e)),assign(new a,i)}}var errCode=createError;const errCode$1=getDefaultExportFromCjs(errCode);function equals$3(e,o){if(e===o)return!0;if(e.byteLength!==o.byteLength)return!1;for(let i=0;i<e.byteLength;i++)if(e[i]!==o[i])return!1;return!0}var __classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(e,o,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?e!==o||!s:!o.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(e):s?s.value:o.get(e)},__classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(e,o,i,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?e!==o||!a:!o.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(e,i):a?a.value=i:o.set(e,i),i},_DefaultMultiaddr_string,_DefaultMultiaddr_tuples,_DefaultMultiaddr_stringTuples,_a;const inspect$2=Symbol.for("nodejs.util.inspect.custom"),DNS_CODES$1=[getProtocol("dns").code,getProtocol("dns4").code,getProtocol("dns6").code,getProtocol("dnsaddr").code],resolvers$1=new Map,symbol$2=Symbol.for("@multiformats/js-multiaddr/multiaddr");function isMultiaddr$1(e){return!!(e!=null&&e[symbol$2])}class DefaultMultiaddr{constructor(o){if(_DefaultMultiaddr_string.set(this,void 0),_DefaultMultiaddr_tuples.set(this,void 0),_DefaultMultiaddr_stringTuples.set(this,void 0),this[_a]=!0,o==null&&(o=""),o instanceof Uint8Array)this.bytes=fromBytes(o);else if(typeof o=="string"){if(o.length>0&&o.charAt(0)!=="/")throw new Error(`multiaddr "${o}" must start with a "/"`);this.bytes=fromString$2(o)}else if(isMultiaddr$1(o))this.bytes=fromBytes(o.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return __classPrivateFieldGet(this,_DefaultMultiaddr_string,"f")==null&&__classPrivateFieldSet(this,_DefaultMultiaddr_string,bytesToString$1(this.bytes),"f"),__classPrivateFieldGet(this,_DefaultMultiaddr_string,"f")}toJSON(){return this.toString()}toOptions(){let o,i,s,a,c="";const d=getProtocol("tcp"),h=getProtocol("udp"),g=getProtocol("ip4"),b=getProtocol("ip6"),$=getProtocol("dns6"),j=getProtocol("ip6zone");for(const[at,_]of this.stringTuples())at===j.code&&(c=`%${_??""}`),DNS_CODES$1.includes(at)&&(i=d.name,a=443,s=`${_??""}${c}`,o=at===$.code?6:4),(at===d.code||at===h.code)&&(i=getProtocol(at).name,a=parseInt(_??"")),(at===g.code||at===b.code)&&(i=getProtocol(at).name,s=`${_??""}${c}`,o=at===b.code?6:4);if(o==null||i==null||s==null||a==null)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:o,host:s,transport:i,port:a}}protos(){return this.protoCodes().map(o=>Object.assign({},getProtocol(o)))}protoCodes(){const o=[],i=this.bytes;let s=0;for(;s<i.length;){const a=varint$2.decode(i,s),c=varint$2.decode.bytes??0,d=getProtocol(a),h=sizeForAddr$1(d,i.slice(s+c));s+=h+c,o.push(a)}return o}protoNames(){return this.protos().map(o=>o.name)}tuples(){return __classPrivateFieldGet(this,_DefaultMultiaddr_tuples,"f")==null&&__classPrivateFieldSet(this,_DefaultMultiaddr_tuples,bytesToTuples(this.bytes),"f"),__classPrivateFieldGet(this,_DefaultMultiaddr_tuples,"f")}stringTuples(){return __classPrivateFieldGet(this,_DefaultMultiaddr_stringTuples,"f")==null&&__classPrivateFieldSet(this,_DefaultMultiaddr_stringTuples,tuplesToStringTuples(this.tuples()),"f"),__classPrivateFieldGet(this,_DefaultMultiaddr_stringTuples,"f")}encapsulate(o){return o=new DefaultMultiaddr(o),new DefaultMultiaddr(this.toString()+o.toString())}decapsulate(o){const i=o.toString(),s=this.toString(),a=s.lastIndexOf(i);if(a<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${o.toString()}`);return new DefaultMultiaddr(s.slice(0,a))}decapsulateCode(o){const i=this.tuples();for(let s=i.length-1;s>=0;s--)if(i[s][0]===o)return new DefaultMultiaddr(tuplesToBytes(i.slice(0,s)));return this}getPeerId(){try{const i=this.stringTuples().filter(s=>s[0]===names.ipfs.code).pop();if((i==null?void 0:i[1])!=null){const s=i[1];return s[0]==="Q"||s[0]==="1"?toString$4(base58btc$2.decode(`z${s}`),"base58btc"):toString$4(CID$1.parse(s).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let o=null;try{o=this.stringTuples().filter(i=>getProtocol(i[0]).path===!0)[0][1],o==null&&(o=null)}catch{o=null}return o}equals(o){return equals$3(this.bytes,o.bytes)}async resolve(o){const i=this.protos().find(c=>c.resolvable);if(i==null)return[this];const s=resolvers$1.get(i.name);if(s==null)throw errCode$1(new Error(`no available resolver for ${i.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await s(this,o)).map(c=>new DefaultMultiaddr(c))}nodeAddress(){const o=this.toOptions();if(o.transport!=="tcp"&&o.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${o.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:o.family,address:o.host,port:o.port}}isThinWaistAddress(o){const i=(o??this).protos();return!(i.length!==2||i[0].code!==4&&i[0].code!==41||i[1].code!==6&&i[1].code!==273)}[(_DefaultMultiaddr_string=new WeakMap,_DefaultMultiaddr_tuples=new WeakMap,_DefaultMultiaddr_stringTuples=new WeakMap,_a=symbol$2,inspect$2)](){return`Multiaddr(${bytesToString$1(this.bytes)})`}}function multiaddr$1(e){return new DefaultMultiaddr(e)}function isElectron$1(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var isElectron_1=isElectron$1;const isElectron=isElectron_1,IS_ENV_WITH_DOM=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,IS_ELECTRON=isElectron(),IS_BROWSER=IS_ENV_WITH_DOM&&!IS_ELECTRON,IS_ELECTRON_MAIN=IS_ELECTRON&&!IS_ENV_WITH_DOM,IS_ELECTRON_RENDERER=IS_ELECTRON&&IS_ENV_WITH_DOM,IS_NODE=typeof commonjsRequire=="function"&&typeof process<"u"&&typeof process.release<"u"&&process.release.name==="node"&&!IS_ELECTRON,IS_WEBWORKER=typeof importScripts=="function"&&typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,IS_TEST=typeof process<"u"&&typeof process.env<"u"&&!1,IS_REACT_NATIVE=typeof navigator<"u"&&navigator.product==="ReactNative";var env={isTest:IS_TEST,isElectron:IS_ELECTRON,isElectronMain:IS_ELECTRON_MAIN,isElectronRenderer:IS_ELECTRON_RENDERER,isNode:IS_NODE,isBrowser:IS_BROWSER,isWebWorker:IS_WEBWORKER,isEnvWithDom:IS_ENV_WITH_DOM,isReactNative:IS_REACT_NATIVE};let durationRE=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;parse.year=parse.yr=parse.y=6e4*60*24*365.25;parse.month=parse.b=6e4*60*24*(365.25/12);parse.week=parse.wk=parse.w=6e4*60*24*7;parse.day=parse.d=6e4*60*24;parse.hour=parse.hr=parse.h=6e4*60;parse.minute=parse.min=parse.m=6e4;parse.second=parse.sec=parse.s=1e3;parse.millisecond=parse.millisec=parse.ms=1;parse.s=parse.s=parse.us=parse.microsecond=1/1e3;parse.nanosecond=parse.ns=1/1e6;function parse(e="",o="ms"){var i=null,s;return e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2"),e.replace(durationRE,function(a,c,d){if(d)d=d.toLowerCase();else if(s){for(var h in parse)if(parse[h]<s){d=h;break}}else d=o;Object.prototype.hasOwnProperty.call(parse,d)?d=parse[d]:Object.prototype.hasOwnProperty.call(parse,d.replace(/s$/,""))?d=parse[d.replace(/s$/,"")]:d=null,d&&(i=(i||0)+Math.abs(parseFloat(c,10))*d,s=d)}),i&&i/(parse[o]||1)*(e[0]==="-"?-1:1)}var browser$1={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var e=1e3,o=e*60,i=o*60,s=i*24,a=s*7,c=s*365.25;ms=function($,j){j=j||{};var tt=typeof $;if(tt==="string"&&$.length>0)return d($);if(tt==="number"&&isFinite($))return j.long?g($):h($);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))};function d($){if($=String($),!($.length>100)){var j=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(j){var tt=parseFloat(j[1]),at=(j[2]||"ms").toLowerCase();switch(at){case"years":case"year":case"yrs":case"yr":case"y":return tt*c;case"weeks":case"week":case"w":return tt*a;case"days":case"day":case"d":return tt*s;case"hours":case"hour":case"hrs":case"hr":case"h":return tt*i;case"minutes":case"minute":case"mins":case"min":case"m":return tt*o;case"seconds":case"second":case"secs":case"sec":case"s":return tt*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return tt;default:return}}}}function h($){var j=Math.abs($);return j>=s?Math.round($/s)+"d":j>=i?Math.round($/i)+"h":j>=o?Math.round($/o)+"m":j>=e?Math.round($/e)+"s":$+"ms"}function g($){var j=Math.abs($);return j>=s?b($,j,s,"day"):j>=i?b($,j,i,"hour"):j>=o?b($,j,o,"minute"):j>=e?b($,j,e,"second"):$+" ms"}function b($,j,tt,at){var _=j>=tt*1.5;return Math.round($/tt)+" "+at+(_?"s":"")}return ms}function setup(e){i.debug=i,i.default=i,i.coerce=g,i.disable=d,i.enable=a,i.enabled=h,i.humanize=requireMs(),i.destroy=b,Object.keys(e).forEach($=>{i[$]=e[$]}),i.names=[],i.skips=[],i.formatters={};function o($){let j=0;for(let tt=0;tt<$.length;tt++)j=(j<<5)-j+$.charCodeAt(tt),j|=0;return i.colors[Math.abs(j)%i.colors.length]}i.selectColor=o;function i($){let j,tt=null,at,_;function ot(...ut){if(!ot.enabled)return;const nt=ot,et=Number(new Date),_e=et-(j||et);nt.diff=_e,nt.prev=j,nt.curr=et,j=et,ut[0]=i.coerce(ut[0]),typeof ut[0]!="string"&&ut.unshift("%O");let rt=0;ut[0]=ut[0].replace(/%([a-zA-Z%])/g,(lt,st)=>{if(lt==="%%")return"%";rt++;const ft=i.formatters[st];if(typeof ft=="function"){const pt=ut[rt];lt=ft.call(nt,pt),ut.splice(rt,1),rt--}return lt}),i.formatArgs.call(nt,ut),(nt.log||i.log).apply(nt,ut)}return ot.namespace=$,ot.useColors=i.useColors(),ot.color=i.selectColor($),ot.extend=s,ot.destroy=i.destroy,Object.defineProperty(ot,"enabled",{enumerable:!0,configurable:!1,get:()=>tt!==null?tt:(at!==i.namespaces&&(at=i.namespaces,_=i.enabled($)),_),set:ut=>{tt=ut}}),typeof i.init=="function"&&i.init(ot),ot}function s($,j){const tt=i(this.namespace+(typeof j>"u"?":":j)+$);return tt.log=this.log,tt}function a($){i.save($),i.namespaces=$,i.names=[],i.skips=[];const j=(typeof $=="string"?$:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const tt of j)tt[0]==="-"?i.skips.push(tt.slice(1)):i.names.push(tt)}function c($,j){let tt=0,at=0,_=-1,ot=0;for(;tt<$.length;)if(at<j.length&&(j[at]===$[tt]||j[at]==="*"))j[at]==="*"?(_=at,ot=tt,at++):(tt++,at++);else if(_!==-1)at=_+1,ot++,tt=ot;else return!1;for(;at<j.length&&j[at]==="*";)at++;return at===j.length}function d(){const $=[...i.names,...i.skips.map(j=>"-"+j)].join(",");return i.enable(""),$}function h($){for(const j of i.skips)if(c($,j))return!1;for(const j of i.names)if(c($,j))return!0;return!1}function g($){return $ instanceof Error?$.stack||$.message:$}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}var common=setup;(function(e,o){o.formatArgs=s,o.save=a,o.load=c,o.useColors=i,o.storage=d(),o.destroy=(()=>{let g=!1;return()=>{g||(g=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),o.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let g;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(g=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(g[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function s(g){if(g[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+g[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const b="color: "+this.color;g.splice(1,0,b,"color: inherit");let $=0,j=0;g[0].replace(/%[a-zA-Z%]/g,tt=>{tt!=="%%"&&($++,tt==="%c"&&(j=$))}),g.splice(j,0,b)}o.log=console.debug||console.log||(()=>{});function a(g){try{g?o.storage.setItem("debug",g):o.storage.removeItem("debug")}catch{}}function c(){let g;try{g=o.storage.getItem("debug")||o.storage.getItem("DEBUG")}catch{}return!g&&typeof process<"u"&&"env"in process&&(g={}.DEBUG),g}function d(){try{return localStorage}catch{}}e.exports=common(o);const{formatters:h}=e.exports;h.j=function(g){try{return JSON.stringify(g)}catch(b){return"[UnexpectedJSONParseError]: "+b.message}}})(browser$1,browser$1.exports);var browserExports=browser$1.exports;const debug=getDefaultExportFromCjs(browserExports);function base$1(e,o){if(e.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),s=0;s<i.length;s++)i[s]=255;for(var a=0;a<e.length;a++){var c=e.charAt(a),d=c.charCodeAt(0);if(i[d]!==255)throw new TypeError(c+" is ambiguous");i[d]=a}var h=e.length,g=e.charAt(0),b=Math.log(h)/Math.log(256),$=Math.log(256)/Math.log(h);function j(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var ot=0,ut=0,nt=0,et=_.length;nt!==et&&_[nt]===0;)nt++,ot++;for(var _e=(et-nt)*$+1>>>0,rt=new Uint8Array(_e);nt!==et;){for(var it=_[nt],lt=0,st=_e-1;(it!==0||lt<ut)&&st!==-1;st--,lt++)it+=256*rt[st]>>>0,rt[st]=it%h>>>0,it=it/h>>>0;if(it!==0)throw new Error("Non-zero carry");ut=lt,nt++}for(var ft=_e-ut;ft!==_e&&rt[ft]===0;)ft++;for(var pt=g.repeat(ot);ft<_e;++ft)pt+=e.charAt(rt[ft]);return pt}function tt(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var ot=0;if(_[ot]!==" "){for(var ut=0,nt=0;_[ot]===g;)ut++,ot++;for(var et=(_.length-ot)*b+1>>>0,_e=new Uint8Array(et);_[ot];){var rt=i[_.charCodeAt(ot)];if(rt===255)return;for(var it=0,lt=et-1;(rt!==0||it<nt)&&lt!==-1;lt--,it++)rt+=h*_e[lt]>>>0,_e[lt]=rt%256>>>0,rt=rt/256>>>0;if(rt!==0)throw new Error("Non-zero carry");nt=it,ot++}if(_[ot]!==" "){for(var st=et-nt;st!==et&&_e[st]===0;)st++;for(var ft=new Uint8Array(ut+(et-st)),pt=ut;st!==et;)ft[pt++]=_e[st++];return ft}}}function at(_){var ot=tt(_);if(ot)return ot;throw new Error(`Non-${o} character`)}return{encode:j,decodeUnsafe:tt,decode:at}}var src$2=base$1,_brrp__multiformats_scope_baseX$1=src$2;const coerce$1=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};let Encoder$1=class{constructor(o,i,s){this.name=o,this.prefix=i,this.baseEncode=s}encode(o){if(o instanceof Uint8Array)return`${this.prefix}${this.baseEncode(o)}`;throw Error("Unknown type, must be binary type")}},Decoder$1=class{constructor(o,i,s){if(this.name=o,this.prefix=i,i.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=i.codePointAt(0),this.baseDecode=s}decode(o){if(typeof o=="string"){if(o.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(o)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(o.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(o){return or$1(this,o)}},ComposedDecoder$1=class{constructor(o){this.decoders=o}or(o){return or$1(this,o)}decode(o){const i=o[0],s=this.decoders[i];if(s)return s.decode(o);throw RangeError(`Unable to decode multibase string ${JSON.stringify(o)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$1=(e,o)=>new ComposedDecoder$1({...e.decoders||{[e.prefix]:e},...o.decoders||{[o.prefix]:o}});let Codec$1=class{constructor(o,i,s,a){this.name=o,this.prefix=i,this.baseEncode=s,this.baseDecode=a,this.encoder=new Encoder$1(o,i,s),this.decoder=new Decoder$1(o,i,a)}encode(o){return this.encoder.encode(o)}decode(o){return this.decoder.decode(o)}};const from$1=({name:e,prefix:o,encode:i,decode:s})=>new Codec$1(e,o,i,s),baseX$1=({prefix:e,name:o,alphabet:i})=>{const{encode:s,decode:a}=_brrp__multiformats_scope_baseX$1(i,o);return from$1({prefix:e,name:o,encode:s,decode:c=>coerce$1(a(c))})},decode$6=(e,o,i,s)=>{const a={};for(let $=0;$<o.length;++$)a[o[$]]=$;let c=e.length;for(;e[c-1]==="=";)--c;const d=new Uint8Array(c*i/8|0);let h=0,g=0,b=0;for(let $=0;$<c;++$){const j=a[e[$]];if(j===void 0)throw new SyntaxError(`Non-${s} character`);g=g<<i|j,h+=i,h>=8&&(h-=8,d[b++]=255&g>>h)}if(h>=i||255&g<<8-h)throw new SyntaxError("Unexpected end of data");return d},encode$3=(e,o,i)=>{const s=o[o.length-1]==="=",a=(1<<i)-1;let c="",d=0,h=0;for(let g=0;g<e.length;++g)for(h=h<<8|e[g],d+=8;d>i;)d-=i,c+=o[a&h>>d];if(d&&(c+=o[a&h<<i-d]),s)for(;c.length*i&7;)c+="=";return c},rfc4648$1=({name:e,prefix:o,bitsPerChar:i,alphabet:s})=>from$1({prefix:o,name:e,encode(a){return encode$3(a,s,i)},decode(a){return decode$6(a,s,i,e)}}),base58btc$1=baseX$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const base32$2=rfc4648$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const base64$4=rfc4648$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});rfc4648$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});debug.formatters.b=e=>e==null?"undefined":base58btc$1.baseEncode(e);debug.formatters.t=e=>e==null?"undefined":base32$2.baseEncode(e);debug.formatters.m=e=>e==null?"undefined":base64$4.baseEncode(e);debug.formatters.p=e=>e==null?"undefined":e.toString();debug.formatters.c=e=>e==null?"undefined":e.toString();debug.formatters.k=e=>e==null?"undefined":e.toString();debug.formatters.a=e=>e==null?"undefined":e.toString();function createDisabledLogger(e){const o=()=>{};return o.enabled=!1,o.color="",o.diff=0,o.log=()=>{},o.namespace=e,o.destroy=()=>!0,o.extend=()=>o,o}function logger(e){let o=createDisabledLogger(`${e}:trace`);return debug.enabled(`${e}:trace`)&&debug.names.map(i=>i.toString()).find(i=>i.includes(":trace"))!=null&&(o=debug(`${e}:trace`)),Object.assign(debug(e),{error:debug(`${e}:error`),trace:o})}var error={};let TimeoutError$2=class extends Error{constructor(o="Request timed out"){super(o),this.name="TimeoutError"}};error.TimeoutError=TimeoutError$2;let AbortError$1=class extends Error{constructor(o="The operation was aborted."){super(o),this.name="AbortError"}};error.AbortError=AbortError$1;let HTTPError$1=class extends Error{constructor(o){super(o.statusText),this.name="HTTPError",this.response=o}};error.HTTPError=HTTPError$1;var src$1={exports:{}},browser={exports:{}},hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,function(e,o){var i=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof commonjsGlobal<"u")return commonjsGlobal;throw new Error("unable to locate global object")},s=i();e.exports=o=s.fetch,s.fetch&&(o.default=s.fetch.bind(s)),o.Headers=s.Headers,o.Request=s.Request,o.Response=s.Response}(browser,browser.exports)),browser.exports}globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?src$1.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:src$1.exports={default:requireBrowser().default,Headers:requireBrowser().Headers,Request:requireBrowser().Request,Response:requireBrowser().Response};var srcExports=src$1.exports,fetch_browser$1=srcExports;const{TimeoutError:TimeoutError$1,AbortError}=error,{Response:Response$1,Request:Request$1,Headers:Headers$1,default:fetch$2}=fetch_browser$1,fetchWithProgress=(e,o={})=>{const i=new XMLHttpRequest;i.open(o.method||"GET",e.toString(),!0);const{timeout:s,headers:a}=o;if(s&&s>0&&s<1/0&&(i.timeout=s),o.overrideMimeType!=null&&i.overrideMimeType(o.overrideMimeType),a)for(const[c,d]of new Headers$1(a))i.setRequestHeader(c,d);return o.signal&&(o.signal.onabort=()=>i.abort()),o.onUploadProgress&&(i.upload.onprogress=o.onUploadProgress),i.responseType="arraybuffer",new Promise((c,d)=>{const h=g=>{switch(g.type){case"error":{c(Response$1.error());break}case"load":{c(new ResponseWithURL(i.responseURL,i.response,{status:i.status,statusText:i.statusText,headers:parseHeaders(i.getAllResponseHeaders())}));break}case"timeout":{d(new TimeoutError$1);break}case"abort":{d(new AbortError);break}}};i.onerror=h,i.onload=h,i.ontimeout=h,i.onabort=h,i.send(o.body)})},fetchWithStreaming=fetch$2,fetchWith=(e,o={})=>o.onUploadProgress!=null?fetchWithProgress(e,o):fetchWithStreaming(e,o),parseHeaders=e=>{const o=new Headers$1;for(const i of e.trim().split(/[\r\n]+/)){const s=i.indexOf(": ");s>0&&o.set(i.slice(0,s),i.slice(s+1))}return o};class ResponseWithURL extends Response$1{constructor(o,i,s){super(i,s),Object.defineProperty(this,"url",{value:o})}}var fetch_browser={fetch:fetchWith,Request:Request$1,Headers:Headers$1},isPlainObj=e=>{if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const o=Object.getPrototypeOf(e);return o===null||o===Object.prototype};const isOptionObject=isPlainObj,{hasOwnProperty}=Object.prototype,{propertyIsEnumerable}=Object,defineProperty=(e,o,i)=>Object.defineProperty(e,o,{value:i,writable:!0,enumerable:!0,configurable:!0}),globalThis$1=commonjsGlobal,defaultMergeOptions={concatArrays:!1,ignoreUndefined:!1},getEnumerableOwnPropertyKeys=e=>{const o=[];for(const i in e)hasOwnProperty.call(e,i)&&o.push(i);if(Object.getOwnPropertySymbols){const i=Object.getOwnPropertySymbols(e);for(const s of i)propertyIsEnumerable.call(e,s)&&o.push(s)}return o};function clone(e){return Array.isArray(e)?cloneArray(e):isOptionObject(e)?cloneOptionObject(e):e}function cloneArray(e){const o=e.slice(0,0);return getEnumerableOwnPropertyKeys(e).forEach(i=>{defineProperty(o,i,clone(e[i]))}),o}function cloneOptionObject(e){const o=Object.getPrototypeOf(e)===null?Object.create(null):{};return getEnumerableOwnPropertyKeys(e).forEach(i=>{defineProperty(o,i,clone(e[i]))}),o}const mergeKeys=(e,o,i,s)=>(i.forEach(a=>{typeof o[a]>"u"&&s.ignoreUndefined||(a in e&&e[a]!==Object.getPrototypeOf(e)?defineProperty(e,a,merge$2(e[a],o[a],s)):defineProperty(e,a,clone(o[a])))}),e),concatArrays=(e,o,i)=>{let s=e.slice(0,0),a=0;return[e,o].forEach(c=>{const d=[];for(let h=0;h<c.length;h++)hasOwnProperty.call(c,h)&&(d.push(String(h)),c===e?defineProperty(s,a++,c[h]):defineProperty(s,a++,clone(c[h])));s=mergeKeys(s,c,getEnumerableOwnPropertyKeys(c).filter(h=>!d.includes(h)),i)}),s};function merge$2(e,o,i){return i.concatArrays&&Array.isArray(e)&&Array.isArray(o)?concatArrays(e,o,i):!isOptionObject(o)||!isOptionObject(e)?clone(o):mergeKeys(e,o,getEnumerableOwnPropertyKeys(o),i)}var mergeOptions=function(...e){const o=merge$2(clone(defaultMergeOptions),this!==globalThis$1&&this||{},defaultMergeOptions);let i={_:{}};for(const s of e)if(s!==void 0){if(!isOptionObject(s))throw new TypeError("`"+s+"` is not an Option Object");i=merge$2(i,{_:s},o)}return i._};const mergeOpts=getDefaultExportFromCjs(mergeOptions),isReactNative=typeof navigator<"u"&&navigator.product==="ReactNative";function getDefaultBase(){return isReactNative?"http://localhost":self.location?self.location.protocol+"//"+self.location.host:""}const URL$2=self.URL,defaultBase$1=getDefaultBase();let URLWithLegacySupport$2=class{constructor(o="",i=defaultBase$1){this.super=new URL$2(o,i),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(o){this.super.hash=o}set host(o){this.super.host=o}set hostname(o){this.super.hostname=o}set href(o){this.super.href=o}set password(o){this.super.password=o}set pathname(o){this.super.pathname=o}set port(o){this.super.port=o}set protocol(o){this.super.protocol=o}set search(o){this.super.search=o}set username(o){this.super.username=o}static createObjectURL(o){return URL$2.createObjectURL(o)}static revokeObjectURL(o){URL$2.revokeObjectURL(o)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function format$3(e){if(typeof e=="string")return new URL$2(e).toString();if(!(e instanceof URL$2)){const o=e.username&&e.password?`${e.username}:${e.password}@`:"",i=e.auth?e.auth+"@":"",s=e.port?":"+e.port:"",a=e.protocol?e.protocol+"//":"",c=e.host||"",d=e.hostname||"",h=e.search||(e.query?"?"+e.query:""),g=e.hash||"",b=e.pathname||"",$=e.path||b+h;return`${a}${o||i}${c||d+s}${$}${g}`}}var urlBrowser={URLWithLegacySupport:URLWithLegacySupport$2,URLSearchParams:self.URLSearchParams,defaultBase:defaultBase$1,format:format$3};const{URLWithLegacySupport:URLWithLegacySupport$1,format:format$2}=urlBrowser;var relative$1=(e,o={},i={},s)=>{let a=o.protocol?o.protocol.replace(":",""):"http";a=(i[a]||s||a)+":";let c;try{c=new URLWithLegacySupport$1(e)}catch{c={}}const d=Object.assign({},o,{protocol:a||c.protocol,host:o.host||c.host});return new URLWithLegacySupport$1(e,format$2(d)).toString()};const{URLWithLegacySupport,format:format$1,URLSearchParams:URLSearchParams$2,defaultBase}=urlBrowser,relative=relative$1;var isoUrl={URL:URLWithLegacySupport,URLSearchParams:URLSearchParams$2,format:format$1,relative,defaultBase},anySignal$2={exports:{}};function anySignal$1(e){const o=new globalThis.AbortController;function i(){o.abort();for(const s of e)!s||!s.removeEventListener||s.removeEventListener("abort",i)}for(const s of e)if(!(!s||!s.addEventListener)){if(s.aborted){i();break}s.addEventListener("abort",i)}return o.signal}anySignal$2.exports=anySignal$1;var anySignal_2=anySignal$2.exports.anySignal=anySignal$1,anySignalExports=anySignal$2.exports;async function*browserReadableStreamToIt$1(e,o={}){const i=e.getReader();try{for(;;){const s=await i.read();if(s.done)return;yield s.value}}finally{o.preventCancel!==!0&&i.cancel(),i.releaseLock()}}var browserReadablestreamToIt=browserReadableStreamToIt$1;const all$2=async e=>{const o=[];for await(const i of e)o.push(i);return o};var itAll=all$2;const{fetch:fetch$1,Request,Headers}=fetch_browser,{TimeoutError,HTTPError}=error,merge$1=mergeOptions.bind({ignoreUndefined:!0}),{URL:URL$1,URLSearchParams:URLSearchParams$1}=isoUrl,anySignal=anySignalExports,browserReableStreamToIt=browserReadablestreamToIt,{isBrowser,isWebWorker}=env,all$1=itAll,timeout=(e,o,i)=>{if(o===void 0)return e;const s=Date.now(),a=()=>Date.now()-s>=o;return new Promise((c,d)=>{const h=setTimeout(()=>{a()&&(d(new TimeoutError),i.abort())},o),g=b=>j=>{if(clearTimeout(h),a()){d(new TimeoutError);return}b(j)};e.then(g(c),g(d))})},defaults={throwHttpErrors:!0,credentials:"same-origin"};class HTTP{constructor(o={}){this.opts=merge$1(defaults,o)}async fetch(o,i={}){const s=merge$1(this.opts,i),a=new Headers(s.headers);if(typeof o!="string"&&!(o instanceof URL$1||o instanceof Request))throw new TypeError("`resource` must be a string, URL, or Request");const c=new URL$1(o.toString(),s.base),{searchParams:d,transformSearchParams:h,json:g}=s;d&&(typeof h=="function"?c.search=h(new URLSearchParams$1(s.searchParams)):c.search=new URLSearchParams$1(s.searchParams)),g&&(s.body=JSON.stringify(s.json),a.set("content-type","application/json"));const b=new AbortController,$=anySignal([b.signal,s.signal]);globalThis.ReadableStream!=null&&s.body instanceof globalThis.ReadableStream&&(isBrowser||isWebWorker)&&(s.body=new Blob(await all$1(browserReableStreamToIt(s.body))));const j=await timeout(fetch$1(c.toString(),{...s,signal:$,timeout:void 0,headers:a,duplex:"half"}),s.timeout,b);if(!j.ok&&s.throwHttpErrors)throw s.handleError&&await s.handleError(j),new HTTPError(j);return j.iterator=async function*(){yield*fromStream(j.body)},j.ndjson=async function*(){for await(const tt of ndjson(j.iterator()))i.transform?yield i.transform(tt):yield tt},j}post(o,i={}){return this.fetch(o,{...i,method:"POST"})}get(o,i={}){return this.fetch(o,{...i,method:"GET"})}put(o,i={}){return this.fetch(o,{...i,method:"PUT"})}delete(o,i={}){return this.fetch(o,{...i,method:"DELETE"})}options(o,i={}){return this.fetch(o,{...i,method:"OPTIONS"})}}const ndjson=async function*(e){const o=new TextDecoder;let i="";for await(const s of e){i+=o.decode(s,{stream:!0});const a=i.split(/\r?\n/);for(let c=0;c<a.length-1;c++){const d=a[c].trim();d.length>0&&(yield JSON.parse(d))}i=a[a.length-1]}i+=o.decode(),i=i.trim(),i.length!==0&&(yield JSON.parse(i))},fromStream=e=>{if(isAsyncIterable(e))return e;if(isNodeReadableStream(e)){const o=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{next:o.next.bind(o),return(i){return e.destroy(),typeof o.return=="function"?o.return():Promise.resolve({done:!0,value:i})}}}}}if(isWebReadableStream(e)){const o=e.getReader();return async function*(){try{for(;;){const{done:i,value:s}=await o.read();if(i)return;s&&(yield s)}}finally{o.releaseLock()}}()}throw new TypeError("Body can't be converted to AsyncIterable")},isAsyncIterable=e=>typeof e=="object"&&e!==null&&typeof e[Symbol.asyncIterator]=="function",isWebReadableStream=e=>e&&typeof e.getReader=="function",isNodeReadableStream=e=>Object.prototype.hasOwnProperty.call(e,"readable")&&Object.prototype.hasOwnProperty.call(e,"writable");HTTP.HTTPError=HTTPError;HTTP.TimeoutError=TimeoutError;HTTP.streamToAsyncIterator=fromStream;HTTP.post=(e,o)=>new HTTP(o).post(e,o);HTTP.get=(e,o)=>new HTTP(o).get(e,o);HTTP.put=(e,o)=>new HTTP(o).put(e,o);HTTP.delete=(e,o)=>new HTTP(o).delete(e,o);HTTP.options=(e,o)=>new HTTP(o).options(e,o);var http=HTTP;const HTTP$1=getDefaultExportFromCjs(http);function equals$2(e,o){if(e===o)return!0;if(e.byteLength!==o.byteLength)return!1;for(let i=0;i<e.byteLength;i++)if(e[i]!==o[i])return!1;return!0}function coerce(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function fromString$1(e){return new TextEncoder().encode(e)}function toString$1(e){return new TextDecoder().decode(e)}function base(e,o){if(e.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),s=0;s<i.length;s++)i[s]=255;for(var a=0;a<e.length;a++){var c=e.charAt(a),d=c.charCodeAt(0);if(i[d]!==255)throw new TypeError(c+" is ambiguous");i[d]=a}var h=e.length,g=e.charAt(0),b=Math.log(h)/Math.log(256),$=Math.log(256)/Math.log(h);function j(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var ot=0,ut=0,nt=0,et=_.length;nt!==et&&_[nt]===0;)nt++,ot++;for(var _e=(et-nt)*$+1>>>0,rt=new Uint8Array(_e);nt!==et;){for(var it=_[nt],lt=0,st=_e-1;(it!==0||lt<ut)&&st!==-1;st--,lt++)it+=256*rt[st]>>>0,rt[st]=it%h>>>0,it=it/h>>>0;if(it!==0)throw new Error("Non-zero carry");ut=lt,nt++}for(var ft=_e-ut;ft!==_e&&rt[ft]===0;)ft++;for(var pt=g.repeat(ot);ft<_e;++ft)pt+=e.charAt(rt[ft]);return pt}function tt(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var ot=0;if(_[ot]!==" "){for(var ut=0,nt=0;_[ot]===g;)ut++,ot++;for(var et=(_.length-ot)*b+1>>>0,_e=new Uint8Array(et);_[ot];){var rt=i[_.charCodeAt(ot)];if(rt===255)return;for(var it=0,lt=et-1;(rt!==0||it<nt)&&lt!==-1;lt--,it++)rt+=h*_e[lt]>>>0,_e[lt]=rt%256>>>0,rt=rt/256>>>0;if(rt!==0)throw new Error("Non-zero carry");nt=it,ot++}if(_[ot]!==" "){for(var st=et-nt;st!==et&&_e[st]===0;)st++;for(var ft=new Uint8Array(ut+(et-st)),pt=ut;st!==et;)ft[pt++]=_e[st++];return ft}}}function at(_){var ot=tt(_);if(ot)return ot;throw new Error(`Non-${o} character`)}return{encode:j,decodeUnsafe:tt,decode:at}}var src=base,_brrp__multiformats_scope_baseX=src;class Encoder{constructor(o,i,s){kt(this,"name");kt(this,"prefix");kt(this,"baseEncode");this.name=o,this.prefix=i,this.baseEncode=s}encode(o){if(o instanceof Uint8Array)return`${this.prefix}${this.baseEncode(o)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(o,i,s){kt(this,"name");kt(this,"prefix");kt(this,"baseDecode");kt(this,"prefixCodePoint");this.name=o,this.prefix=i;const a=i.codePointAt(0);if(a===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=a,this.baseDecode=s}decode(o){if(typeof o=="string"){if(o.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(o)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(o.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(o){return or(this,o)}}class ComposedDecoder{constructor(o){kt(this,"decoders");this.decoders=o}or(o){return or(this,o)}decode(o){const i=o[0],s=this.decoders[i];if(s!=null)return s.decode(o);throw RangeError(`Unable to decode multibase string ${JSON.stringify(o)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function or(e,o){return new ComposedDecoder({...e.decoders??{[e.prefix]:e},...o.decoders??{[o.prefix]:o}})}class Codec{constructor(o,i,s,a){kt(this,"name");kt(this,"prefix");kt(this,"baseEncode");kt(this,"baseDecode");kt(this,"encoder");kt(this,"decoder");this.name=o,this.prefix=i,this.baseEncode=s,this.baseDecode=a,this.encoder=new Encoder(o,i,s),this.decoder=new Decoder(o,i,a)}encode(o){return this.encoder.encode(o)}decode(o){return this.decoder.decode(o)}}function from({name:e,prefix:o,encode:i,decode:s}){return new Codec(e,o,i,s)}function baseX({name:e,prefix:o,alphabet:i}){const{encode:s,decode:a}=_brrp__multiformats_scope_baseX(i,e);return from({prefix:o,name:e,encode:s,decode:c=>coerce(a(c))})}function decode$5(e,o,i,s){let a=e.length;for(;e[a-1]==="=";)--a;const c=new Uint8Array(a*i/8|0);let d=0,h=0,g=0;for(let b=0;b<a;++b){const $=o[e[b]];if($===void 0)throw new SyntaxError(`Non-${s} character`);h=h<<i|$,d+=i,d>=8&&(d-=8,c[g++]=255&h>>d)}if(d>=i||255&h<<8-d)throw new SyntaxError("Unexpected end of data");return c}function encode$2(e,o,i){const s=o[o.length-1]==="=",a=(1<<i)-1;let c="",d=0,h=0;for(let g=0;g<e.length;++g)for(h=h<<8|e[g],d+=8;d>i;)d-=i,c+=o[a&h>>d];if(d!==0&&(c+=o[a&h<<i-d]),s)for(;c.length*i&7;)c+="=";return c}function createAlphabetIdx(e){const o={};for(let i=0;i<e.length;++i)o[e[i]]=i;return o}function rfc4648({name:e,prefix:o,bitsPerChar:i,alphabet:s}){const a=createAlphabetIdx(s);return from({prefix:o,name:e,encode(c){return encode$2(c,s,i)},decode(c){return decode$5(c,a,i,e)}})}const base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from(""),alphabetBytesToChars=alphabet.reduce((e,o,i)=>(e[i]=o,e),[]),alphabetCharsToBytes=alphabet.reduce((e,o,i)=>{const s=o.codePointAt(0);if(s==null)throw new Error(`Invalid character: ${o}`);return e[s]=i,e},[]);function encode$1(e){return e.reduce((o,i)=>(o+=alphabetBytesToChars[i],o),"")}function decode$4(e){const o=[];for(const i of e){const s=i.codePointAt(0);if(s==null)throw new Error(`Invalid character: ${i}`);const a=alphabetCharsToBytes[s];if(a==null)throw new Error(`Non-base256emoji character: ${i}`);o.push(a)}return new Uint8Array(o)}const base256emoji=from({prefix:"",name:"base256emoji",encode:encode$1,decode:decode$4}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base64$2=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$3=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$2,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),identity=from({prefix:"\0",name:"identity",encode:e=>toString$1(e),decode:e=>fromString$1(e)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;var encode_1=encode,MSB$1=128,REST$1=127,MSBALL=~REST$1,INT=Math.pow(2,31);function encode(e,o,i){o=o||[],i=i||0;for(var s=i;e>=INT;)o[i++]=e&255|MSB$1,e/=128;for(;e&MSBALL;)o[i++]=e&255|MSB$1,e>>>=7;return o[i]=e|0,encode.bytes=i-s+1,o}var decode$3=read,MSB$1$1=128,REST$1$1=127;function read(e,s){var i=0,s=s||0,a=0,c=s,d,h=e.length;do{if(c>=h)throw read.bytes=0,new RangeError("Could not decode varint");d=e[c++],i+=a<28?(d&REST$1$1)<<a:(d&REST$1$1)*Math.pow(2,a),a+=7}while(d>=MSB$1$1);return read.bytes=c-s,i}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(e){return e<N1$1?1:e<N2$1?2:e<N3$1?3:e<N4$1?4:e<N5$1?5:e<N6$1?6:e<N7$1?7:e<N8?8:e<N9?9:10},varint={encode:encode_1,decode:decode$3,encodingLength:length},_brrp_varint=varint;function decode$2(e,o=0){return[_brrp_varint.decode(e,o),_brrp_varint.decode.bytes]}function encodeTo(e,o,i=0){return _brrp_varint.encode(e,o,i),o}function encodingLength$1(e){return _brrp_varint.encodingLength(e)}function create$3(e,o){const i=o.byteLength,s=encodingLength$1(e),a=s+encodingLength$1(i),c=new Uint8Array(a+i);return encodeTo(e,c,0),encodeTo(i,c,s),c.set(o,a),new Digest(e,i,o,c)}function decode$1(e){const o=coerce(e),[i,s]=decode$2(o),[a,c]=decode$2(o.subarray(s)),d=o.subarray(s+c);if(d.byteLength!==a)throw new Error("Incorrect length");return new Digest(i,a,d,o)}function equals$1(e,o){if(e===o)return!0;{const i=o;return e.code===i.code&&e.size===i.size&&i.bytes instanceof Uint8Array&&equals$2(e.bytes,i.bytes)}}class Digest{constructor(o,i,s,a){kt(this,"code");kt(this,"size");kt(this,"digest");kt(this,"bytes");this.code=o,this.size=i,this.digest=s,this.bytes=a}}function format(e,o){const{bytes:i,version:s}=e;switch(s){case 0:return toStringV0(i,baseCache(e),o??base58btc.encoder);default:return toStringV1(i,baseCache(e),o??base32.encoder)}}const cache=new WeakMap;function baseCache(e){const o=cache.get(e);if(o==null){const i=new Map;return cache.set(e,i),i}return o}var Yt;class CID{constructor(o,i,s,a){kt(this,"code");kt(this,"version");kt(this,"multihash");kt(this,"bytes");kt(this,"/");kt(this,Yt,"CID");this.code=i,this.version=o,this.multihash=s,this.bytes=a,this["/"]=a}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:o,multihash:i}=this;if(o!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(i.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(i)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:o,digest:i}=this.multihash,s=create$3(o,i);return CID.createV1(this.code,s)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(o){return CID.equals(this,o)}static equals(o,i){const s=i;return s!=null&&o.code===s.code&&o.version===s.version&&equals$1(o.multihash,s.multihash)}toString(o){return format(this,o)}toJSON(){return{"/":format(this)}}link(){return this}[(Yt=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(o){if(o==null)return null;const i=o;if(i instanceof CID)return i;if(i["/"]!=null&&i["/"]===i.bytes||i.asCID===i){const{version:s,code:a,multihash:c,bytes:d}=i;return new CID(s,a,c,d??encodeCID$1(s,a,c.bytes))}else if(i[cidSymbol]===!0){const{version:s,multihash:a,code:c}=i,d=decode$1(a);return CID.create(s,c,d)}else return null}static create(o,i,s){if(typeof i!="number")throw new Error("String codecs are no longer supported");if(!(s.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(o){case 0:{if(i!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(o,i,s,s.bytes)}case 1:{const a=encodeCID$1(o,i,s.bytes);return new CID(o,i,s,a)}default:throw new Error("Invalid version")}}static createV0(o){return CID.create(0,DAG_PB_CODE,o)}static createV1(o,i){return CID.create(1,o,i)}static decode(o){const[i,s]=CID.decodeFirst(o);if(s.length!==0)throw new Error("Incorrect length");return i}static decodeFirst(o){const i=CID.inspectBytes(o),s=i.size-i.multihashSize,a=coerce(o.subarray(s,s+i.multihashSize));if(a.byteLength!==i.multihashSize)throw new Error("Incorrect length");const c=a.subarray(i.multihashSize-i.digestSize),d=new Digest(i.multihashCode,i.digestSize,c,a);return[i.version===0?CID.createV0(d):CID.createV1(i.codec,d),o.subarray(i.size)]}static inspectBytes(o){let i=0;const s=()=>{const[j,tt]=decode$2(o.subarray(i));return i+=tt,j};let a=s(),c=DAG_PB_CODE;if(a===18?(a=0,i=0):c=s(),a!==0&&a!==1)throw new RangeError(`Invalid CID version ${a}`);const d=i,h=s(),g=s(),b=i+g,$=b-d;return{version:a,codec:c,multihashCode:h,digestSize:g,multihashSize:$,size:b}}static parse(o,i){const[s,a]=parseCIDtoBytes(o,i),c=CID.decode(a);if(c.version===0&&o[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache(c).set(s,o),c}}function parseCIDtoBytes(e,o){switch(e[0]){case"Q":{const i=o??base58btc;return[base58btc.prefix,i.decode(`${base58btc.prefix}${e}`)]}case base58btc.prefix:{const i=o??base58btc;return[base58btc.prefix,i.decode(e)]}case base32.prefix:{const i=o??base32;return[base32.prefix,i.decode(e)]}case base36.prefix:{const i=o??base36;return[base36.prefix,i.decode(e)]}default:{if(o==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],o.decode(e)]}}}function toStringV0(e,o,i){const{prefix:s}=i;if(s!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${i.name} encoding`);const a=o.get(s);if(a==null){const c=i.encode(e).slice(1);return o.set(s,c),c}else return a}function toStringV1(e,o,i){const{prefix:s}=i,a=o.get(s);if(a==null){const c=i.encode(e);return o.set(s,c),c}else return a}const DAG_PB_CODE=112,SHA_256_CODE=18;function encodeCID$1(e,o,i){const s=encodingLength$1(e),a=s+encodingLength$1(o),c=new Uint8Array(a+i.byteLength);return encodeTo(e,c,0),encodeTo(o,c,s),c.set(i,a),c}const cidSymbol=Symbol.for("@ipld/js-cid/CID"),bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$3,...base256emoji$1};function allocUnsafe(e=0){return new Uint8Array(e)}function createCodec(e,o,i,s){return{name:e,prefix:o,encoder:{name:e,prefix:o,encode:i},decoder:{decode:s}}}const string=createCodec("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),ascii=createCodec("ascii","a",e=>{let o="a";for(let i=0;i<e.length;i++)o+=String.fromCharCode(e[i]);return o},e=>{e=e.substring(1);const o=allocUnsafe(e.length);for(let i=0;i<e.length;i++)o[i]=e.charCodeAt(i);return o}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function toString(e,o="utf8"){const i=BASES[o];if(i==null)throw new Error(`Unsupported encoding "${o}"`);return i.encoder.encode(e).substring(1)}class InvalidMultiaddrError extends Error{constructor(){super(...arguments);kt(this,"name","InvalidMultiaddrError")}}kt(InvalidMultiaddrError,"name","InvalidMultiaddrError");class ValidationError extends Error{constructor(){super(...arguments);kt(this,"name","ValidationError")}}kt(ValidationError,"name","ValidationError");class InvalidParametersError extends Error{constructor(){super(...arguments);kt(this,"name","InvalidParametersError")}}kt(InvalidParametersError,"name","InvalidParametersError");class UnknownProtocolError extends Error{constructor(){super(...arguments);kt(this,"name","UnknownProtocolError")}}kt(UnknownProtocolError,"name","UnknownProtocolError");function equals(e,o){if(e===o)return!0;if(e.byteLength!==o.byteLength)return!1;for(let i=0;i<e.byteLength;i++)if(e[i]!==o[i])return!1;return!0}function fromString(e,o="utf8"){const i=BASES[o];if(i==null)throw new Error(`Unsupported encoding "${o}"`);return i.decoder.decode(`${i.prefix}${e}`)}const N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),MSB=128,REST=127;function encodingLength(e){if(e<N1)return 1;if(e<N2)return 2;if(e<N3)return 3;if(e<N4)return 4;if(e<N5)return 5;if(e<N6)return 6;if(e<N7)return 7;if(Number.MAX_SAFE_INTEGER!=null&&e>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function encodeUint8Array(e,o,i=0){switch(encodingLength(e)){case 8:o[i++]=e&255|MSB,e/=128;case 7:o[i++]=e&255|MSB,e/=128;case 6:o[i++]=e&255|MSB,e/=128;case 5:o[i++]=e&255|MSB,e/=128;case 4:o[i++]=e&255|MSB,e>>>=7;case 3:o[i++]=e&255|MSB,e>>>=7;case 2:o[i++]=e&255|MSB,e>>>=7;case 1:{o[i++]=e&255,e>>>=7;break}default:throw new Error("unreachable")}return o}function decodeUint8Array(e,o){let i=e[o],s=0;if(s+=i&REST,i<MSB||(i=e[o+1],s+=(i&REST)<<7,i<MSB)||(i=e[o+2],s+=(i&REST)<<14,i<MSB)||(i=e[o+3],s+=(i&REST)<<21,i<MSB)||(i=e[o+4],s+=(i&REST)*N4,i<MSB)||(i=e[o+5],s+=(i&REST)*N5,i<MSB)||(i=e[o+6],s+=(i&REST)*N6,i<MSB)||(i=e[o+7],s+=(i&REST)*N7,i<MSB))return s;throw new RangeError("Could not decode varint")}function decodeUint8ArrayList(e,o){let i=e.get(o),s=0;if(s+=i&REST,i<MSB||(i=e.get(o+1),s+=(i&REST)<<7,i<MSB)||(i=e.get(o+2),s+=(i&REST)<<14,i<MSB)||(i=e.get(o+3),s+=(i&REST)<<21,i<MSB)||(i=e.get(o+4),s+=(i&REST)*N4,i<MSB)||(i=e.get(o+5),s+=(i&REST)*N5,i<MSB)||(i=e.get(o+6),s+=(i&REST)*N6,i<MSB)||(i=e.get(o+7),s+=(i&REST)*N7,i<MSB))return s;throw new RangeError("Could not decode varint")}function decode(e,o=0){return e instanceof Uint8Array?decodeUint8Array(e,o):decodeUint8ArrayList(e,o)}function asUint8Array(e){return e}function concat(e,o){o==null&&(o=e.reduce((a,c)=>a+c.length,0));const i=allocUnsafe(o);let s=0;for(const a of e)i.set(a,s),s+=a.length;return i}const CODE_IP4=4,CODE_TCP=6,CODE_UDP=273,CODE_DCCP=33,CODE_IP6=41,CODE_IP6ZONE=42,CODE_IPCIDR=43,CODE_DNS=53,CODE_DNS4=54,CODE_DNS6=55,CODE_DNSADDR=56,CODE_SCTP=132,CODE_UDT=301,CODE_UTP=302,CODE_UNIX=400,CODE_P2P=421,CODE_ONION=444,CODE_ONION3=445,CODE_GARLIC64=446,CODE_GARLIC32=447,CODE_TLS=448,CODE_SNI=449,CODE_NOISE=454,CODE_QUIC=460,CODE_QUIC_V1=461,CODE_WEBTRANSPORT=465,CODE_CERTHASH=466,CODE_HTTP=480,CODE_HTTP_PATH=481,CODE_HTTPS=443,CODE_WS=477,CODE_WSS=478,CODE_P2P_WEBSOCKET_STAR=479,CODE_P2P_STARDUST=277,CODE_P2P_WEBRTC_STAR=275,CODE_P2P_WEBRTC_DIRECT=276,CODE_WEBRTC_DIRECT=280,CODE_WEBRTC=281,CODE_P2P_CIRCUIT=290,CODE_MEMORY=777;function bytesToString(e){return o=>toString(o,e)}function stringToBytes(e){return o=>fromString(o,e)}function bytes2port(e){return new DataView(e.buffer).getUint16(e.byteOffset).toString()}function port2bytes(e){const o=new ArrayBuffer(2);return new DataView(o).setUint16(0,typeof e=="string"?parseInt(e):e),new Uint8Array(o)}function onion2bytes(e){const o=e.split(":");if(o.length!==2)throw new Error(`failed to parse onion addr: ["'${o.join('", "')}'"]' does not contain a port number`);if(o[0].length!==16)throw new Error(`failed to parse onion addr: ${o[0]} not a Tor onion address.`);const i=fromString(o[0],"base32"),s=parseInt(o[1],10);if(s<1||s>65536)throw new Error("Port number is not in range(1, 65536)");const a=port2bytes(s);return concat([i,a],i.length+a.length)}function onion32bytes(e){const o=e.split(":");if(o.length!==2)throw new Error(`failed to parse onion addr: ["'${o.join('", "')}'"]' does not contain a port number`);if(o[0].length!==56)throw new Error(`failed to parse onion addr: ${o[0]} not a Tor onion3 address.`);const i=base32.decode(`b${o[0]}`),s=parseInt(o[1],10);if(s<1||s>65536)throw new Error("Port number is not in range(1, 65536)");const a=port2bytes(s);return concat([i,a],i.length+a.length)}function bytes2onion(e){const o=e.subarray(0,e.length-2),i=e.subarray(e.length-2),s=toString(o,"base32"),a=bytes2port(i);return`${s}:${a}`}const ip4ToBytes=function(e){e=e.toString().trim();const o=new Uint8Array(4);return e.split(/\./g).forEach((i,s)=>{const a=parseInt(i,10);if(isNaN(a)||a<0||a>255)throw new InvalidMultiaddrError("Invalid byte value in IP address");o[s]=a}),o},ip6ToBytes=function(e){let o=0;e=e.toString().trim();const i=e.split(":",8);let s;for(s=0;s<i.length;s++){const c=isIPv4(i[s]);let d;c&&(d=ip4ToBytes(i[s]),i[s]=toString(d.subarray(0,2),"base16")),d!=null&&++s<8&&i.splice(s,0,toString(d.subarray(2,4),"base16"))}if(i[0]==="")for(;i.length<8;)i.unshift("0");else if(i[i.length-1]==="")for(;i.length<8;)i.push("0");else if(i.length<8){for(s=0;s<i.length&&i[s]!=="";s++);const c=[s,1];for(s=9-i.length;s>0;s--)c.push("0");i.splice.apply(i,c)}const a=new Uint8Array(o+16);for(s=0;s<i.length;s++){i[s]===""&&(i[s]="0");const c=parseInt(i[s],16);if(isNaN(c)||c<0||c>65535)throw new InvalidMultiaddrError("Invalid byte value in IP address");a[o++]=c>>8&255,a[o++]=c&255}return a},ip4ToString=function(e){if(e.byteLength!==4)throw new InvalidMultiaddrError("IPv4 address was incorrect length");const o=[];for(let i=0;i<e.byteLength;i++)o.push(e[i]);return o.join(".")},ip6ToString=function(e){if(e.byteLength!==16)throw new InvalidMultiaddrError("IPv6 address was incorrect length");const o=[];for(let s=0;s<e.byteLength;s+=2){const a=e[s],c=e[s+1],d=`${a.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}`;o.push(d)}const i=o.join(":");try{const s=new URL(`http://[${i}]`);return s.hostname.substring(1,s.hostname.length-1)}catch{throw new InvalidMultiaddrError(`Invalid IPv6 address "${i}"`)}};function ip6StringToValue(e){try{const o=new URL(`http://[${e}]`);return o.hostname.substring(1,o.hostname.length-1)}catch{throw new InvalidMultiaddrError(`Invalid IPv6 address "${e}"`)}}const decoders=Object.values(bases).map(e=>e.decoder),anybaseDecoder=function(){let e=decoders[0].or(decoders[1]);return decoders.slice(2).forEach(o=>e=e.or(o)),e}();function mb2bytes(e){return anybaseDecoder.decode(e)}function bytes2mb(e){return o=>e.encoder.encode(o)}function integer(e){if(parseInt(e).toString()!==e)throw new ValidationError("Value must be an integer")}function positive(e){if(e<0)throw new ValidationError("Value must be a positive integer, or zero")}function maxValue(e){return o=>{if(o>e)throw new ValidationError(`Value must be smaller than or equal to ${e}`)}}function validate$1(...e){return o=>{for(const i of e)i(o)}}const validatePort=validate$1(integer,positive,maxValue(65535)),V=-1;class Registry{constructor(){kt(this,"protocolsByCode",new Map);kt(this,"protocolsByName",new Map)}getProtocol(o){let i;if(typeof o=="string"?i=this.protocolsByName.get(o):i=this.protocolsByCode.get(o),i==null)throw new UnknownProtocolError(`Protocol ${o} was unknown`);return i}addProtocol(o){var i;this.protocolsByCode.set(o.code,o),this.protocolsByName.set(o.name,o),(i=o.aliases)==null||i.forEach(s=>{this.protocolsByName.set(s,o)})}removeProtocol(o){var s;const i=this.protocolsByCode.get(o);i!=null&&(this.protocolsByCode.delete(i.code),this.protocolsByName.delete(i.name),(s=i.aliases)==null||s.forEach(a=>{this.protocolsByName.delete(a)}))}}const registry=new Registry,codecs=[{code:CODE_IP4,name:"ip4",size:32,valueToBytes:ip4ToBytes,bytesToValue:ip4ToString,validate:e=>{if(!isIPv4(e))throw new ValidationError(`Invalid IPv4 address "${e}"`)}},{code:CODE_TCP,name:"tcp",size:16,valueToBytes:port2bytes,bytesToValue:bytes2port,validate:validatePort},{code:CODE_UDP,name:"udp",size:16,valueToBytes:port2bytes,bytesToValue:bytes2port,validate:validatePort},{code:CODE_DCCP,name:"dccp",size:16,valueToBytes:port2bytes,bytesToValue:bytes2port,validate:validatePort},{code:CODE_IP6,name:"ip6",size:128,valueToBytes:ip6ToBytes,bytesToValue:ip6ToString,stringToValue:ip6StringToValue,validate:e=>{if(!isIPv6(e))throw new ValidationError(`Invalid IPv6 address "${e}"`)}},{code:CODE_IP6ZONE,name:"ip6zone",size:V},{code:CODE_IPCIDR,name:"ipcidr",size:8,bytesToValue:bytesToString("base10"),valueToBytes:stringToBytes("base10")},{code:CODE_DNS,name:"dns",size:V,resolvable:!0},{code:CODE_DNS4,name:"dns4",size:V,resolvable:!0},{code:CODE_DNS6,name:"dns6",size:V,resolvable:!0},{code:CODE_DNSADDR,name:"dnsaddr",size:V,resolvable:!0},{code:CODE_SCTP,name:"sctp",size:16,valueToBytes:port2bytes,bytesToValue:bytes2port,validate:validatePort},{code:CODE_UDT,name:"udt"},{code:CODE_UTP,name:"utp"},{code:CODE_UNIX,name:"unix",size:V,path:!0,stringToValue:e=>decodeURIComponent(e),valueToString:e=>encodeURIComponent(e)},{code:CODE_P2P,name:"p2p",aliases:["ipfs"],size:V,bytesToValue:bytesToString("base58btc"),valueToBytes:e=>e.startsWith("Q")||e.startsWith("1")?stringToBytes("base58btc")(e):CID.parse(e).multihash.bytes},{code:CODE_ONION,name:"onion",size:96,bytesToValue:bytes2onion,valueToBytes:onion2bytes},{code:CODE_ONION3,name:"onion3",size:296,bytesToValue:bytes2onion,valueToBytes:onion32bytes},{code:CODE_GARLIC64,name:"garlic64",size:V},{code:CODE_GARLIC32,name:"garlic32",size:V},{code:CODE_TLS,name:"tls"},{code:CODE_SNI,name:"sni",size:V},{code:CODE_NOISE,name:"noise"},{code:CODE_QUIC,name:"quic"},{code:CODE_QUIC_V1,name:"quic-v1"},{code:CODE_WEBTRANSPORT,name:"webtransport"},{code:CODE_CERTHASH,name:"certhash",size:V,bytesToValue:bytes2mb(base64url),valueToBytes:mb2bytes},{code:CODE_HTTP,name:"http"},{code:CODE_HTTP_PATH,name:"http-path",size:V,stringToValue:e=>`/${decodeURIComponent(e)}`,valueToString:e=>encodeURIComponent(e.substring(1))},{code:CODE_HTTPS,name:"https"},{code:CODE_WS,name:"ws"},{code:CODE_WSS,name:"wss"},{code:CODE_P2P_WEBSOCKET_STAR,name:"p2p-websocket-star"},{code:CODE_P2P_STARDUST,name:"p2p-stardust"},{code:CODE_P2P_WEBRTC_STAR,name:"p2p-webrtc-star"},{code:CODE_P2P_WEBRTC_DIRECT,name:"p2p-webrtc-direct"},{code:CODE_WEBRTC_DIRECT,name:"webrtc-direct"},{code:CODE_WEBRTC,name:"webrtc"},{code:CODE_P2P_CIRCUIT,name:"p2p-circuit"},{code:CODE_MEMORY,name:"memory",size:V}];codecs.forEach(e=>{registry.addProtocol(e)});function bytesToComponents(e){var s;const o=[];let i=0;for(;i<e.length;){const a=decode(e,i),c=registry.getProtocol(a),d=encodingLength(a),h=sizeForAddr(c,e,i+d);let g=0;h>0&&c.size===V&&(g=encodingLength(h));const b=d+g+h,$={code:a,name:c.name,bytes:e.subarray(i,i+b)};if(h>0){const j=i+d+g,tt=e.subarray(j,j+h);$.value=((s=c.bytesToValue)==null?void 0:s.call(c,tt))??toString(tt)}o.push($),i+=b}return o}function componentsToBytes(e){var s;let o=0;const i=[];for(const a of e){if(a.bytes==null){const c=registry.getProtocol(a.code),d=encodingLength(a.code);let h,g=0,b=0;a.value!=null&&(h=((s=c.valueToBytes)==null?void 0:s.call(c,a.value))??fromString(a.value),g=h.byteLength,c.size===V&&(b=encodingLength(g)));const $=new Uint8Array(d+b+g);let j=0;encodeUint8Array(a.code,$,j),j+=d,h!=null&&(c.size===V&&(encodeUint8Array(g,$,j),j+=b),$.set(h,j)),a.bytes=$}i.push(a.bytes),o+=a.bytes.byteLength}return concat(i,o)}function stringToComponents(e){var c;if(e.charAt(0)!=="/")throw new InvalidMultiaddrError('String multiaddr must start with "/"');const o=[];let i="protocol",s="",a="";for(let d=1;d<e.length;d++){const h=e.charAt(d);h!=="/"&&(i==="protocol"?a+=e.charAt(d):s+=e.charAt(d));const g=d===e.length-1;if(h==="/"||g){const b=registry.getProtocol(a);if(i==="protocol"){if(b.size==null||b.size===0){o.push({code:b.code,name:b.name}),s="",a="",i="protocol";continue}else if(g)throw new InvalidMultiaddrError(`Component ${a} was missing value`);i="value"}else if(i==="value"){const $={code:b.code,name:b.name};if(b.size!=null&&b.size!==0){if(s==="")throw new InvalidMultiaddrError(`Component ${a} was missing value`);$.value=((c=b.stringToValue)==null?void 0:c.call(b,s))??s}o.push($),s="",a="",i="protocol"}}}if(a!==""&&s!=="")throw new InvalidMultiaddrError("Incomplete multiaddr");return o}function componentsToString(e){return`/${e.flatMap(o=>{var s;if(o.value==null)return o.name;const i=registry.getProtocol(o.code);if(i==null)throw new InvalidMultiaddrError(`Unknown protocol code ${o.code}`);return[o.name,((s=i.valueToString)==null?void 0:s.call(i,o.value))??o.value]}).join("/")}`}function sizeForAddr(e,o,i){return e.size==null||e.size===0?0:e.size>0?e.size/8:decode(o,i)}const inspect$1=Symbol.for("nodejs.util.inspect.custom"),symbol$1=Symbol.for("@multiformats/multiaddr"),DNS_CODES=[CODE_DNS,CODE_DNS4,CODE_DNS6,CODE_DNSADDR];class NoAvailableResolverError extends Error{constructor(o="No available resolver"){super(o),this.name="NoAvailableResolverError"}}function toComponents(e){if(e==null&&(e="/"),isMultiaddr(e))return e.getComponents();if(e instanceof Uint8Array)return bytesToComponents(e);if(typeof e=="string")return e=e.replace(/\/(\/)+/,"/").replace(/(\/)+$/,""),e===""&&(e="/"),stringToComponents(e);if(Array.isArray(e))return e;throw new InvalidMultiaddrError("Must be a string, Uint8Array, Component[], or another Multiaddr")}var Zt,Pt,zt,Ft;const Lt=class Lt{constructor(o="/",i={}){kt(this,Zt,!0);Wt(this,Pt,void 0);Wt(this,zt,void 0);Wt(this,Ft,void 0);Gt(this,Pt,toComponents(o)),i.validate!==!1&&validate(this)}get bytes(){return _t(this,Ft)==null&&Gt(this,Ft,componentsToBytes(_t(this,Pt))),_t(this,Ft)}toString(){return _t(this,zt)==null&&Gt(this,zt,componentsToString(_t(this,Pt))),_t(this,zt)}toJSON(){return this.toString()}toOptions(){let o,i,s,a,c="";for(const{code:h,name:g,value:b}of _t(this,Pt))h===CODE_IP6ZONE&&(c=`%${b??""}`),DNS_CODES.includes(h)&&(i="tcp",a=443,s=`${b??""}${c}`,o=h===CODE_DNS6?6:4),(h===CODE_TCP||h===CODE_UDP)&&(i=g==="tcp"?"tcp":"udp",a=parseInt(b??"")),(h===CODE_IP4||h===CODE_IP6)&&(i="tcp",s=`${b??""}${c}`,o=h===CODE_IP6?6:4);if(o==null||i==null||s==null||a==null)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:o,host:s,transport:i,port:a}}getComponents(){return[..._t(this,Pt)]}protos(){return _t(this,Pt).map(({code:o,value:i})=>{const s=registry.getProtocol(o);return{code:o,size:s.size??0,name:s.name,resolvable:!!s.resolvable,path:!!s.path}})}protoCodes(){return _t(this,Pt).map(({code:o})=>o)}protoNames(){return _t(this,Pt).map(({name:o})=>o)}tuples(){return _t(this,Pt).map(({code:o,value:i})=>{var c;if(i==null)return[o];const s=registry.getProtocol(o),a=[o];return i!=null&&a.push(((c=s.valueToBytes)==null?void 0:c.call(s,i))??fromString(i)),a})}stringTuples(){return _t(this,Pt).map(({code:o,value:i})=>i==null?[o]:[o,i])}encapsulate(o){const i=new Lt(o);return new Lt([..._t(this,Pt),...i.getComponents()],{validate:!1})}decapsulate(o){const i=o.toString(),s=this.toString(),a=s.lastIndexOf(i);if(a<0)throw new InvalidParametersError(`Address ${this.toString()} does not contain subaddress: ${o.toString()}`);return new Lt(s.slice(0,a),{validate:!1})}decapsulateCode(o){let i;for(let s=_t(this,Pt).length-1;s>-1;s--)if(_t(this,Pt)[s].code===o){i=s;break}return new Lt(_t(this,Pt).slice(0,i),{validate:!1})}getPeerId(){try{let o=[];_t(this,Pt).forEach(({code:s,value:a})=>{s===CODE_P2P&&o.push([s,a]),s===CODE_P2P_CIRCUIT&&(o=[])});const i=o.pop();if((i==null?void 0:i[1])!=null){const s=i[1];return s[0]==="Q"||s[0]==="1"?toString(base58btc.decode(`z${s}`),"base58btc"):toString(CID.parse(s).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){for(const o of _t(this,Pt))if(registry.getProtocol(o.code).path)return o.value??null;return null}equals(o){return equals(this.bytes,o.bytes)}async resolve(o){const i=this.protos().find(c=>c.resolvable);if(i==null)return[this];const s=resolvers.get(i.name);if(s==null)throw new NoAvailableResolverError(`no available resolver for ${i.name}`);return(await s(this,o)).map(c=>multiaddr(c))}nodeAddress(){const o=this.toOptions();if(o.transport!=="tcp"&&o.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${o.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:o.family,address:o.host,port:o.port}}isThinWaistAddress(){return!(_t(this,Pt).length!==2||_t(this,Pt)[0].code!==CODE_IP4&&_t(this,Pt)[0].code!==CODE_IP6||_t(this,Pt)[1].code!==CODE_TCP&&_t(this,Pt)[1].code!==CODE_UDP)}[(Zt=symbol$1,inspect$1)](){return`Multiaddr(${this.toString()})`}};Pt=new WeakMap,zt=new WeakMap,Ft=new WeakMap;let Multiaddr=Lt;function validate(e){e.getComponents().forEach(o=>{var s;const i=registry.getProtocol(o.code);o.value!=null&&((s=i.validate)==null||s.call(i,o.value))})}const resolvers=new Map;function isMultiaddr(e){return!!(e!=null&&e[symbol$1])}function multiaddr(e){return new Multiaddr(e)}function protocols(e){const o=registry.getProtocol(e);return{code:o.code,size:o.size??0,name:o.name,resolvable:!!o.resolvable,path:!!o.path}}function extractSNI(e){let o;try{o=protocols("sni").code}catch{return null}for(const[i,s]of e)if(i===o&&s!==void 0)return s;return null}function hasTLS(e){return e.some(([o,i])=>o===protocols("tls").code)}function interpretNext(e,o,i){const s=interpreters[protocols(e).name];if(s===void 0)throw new Error(`Can't interpret protocol ${protocols(e).name}`);const a=s(o,i);return e===protocols("ip6").code?`[${a}]`:a}const interpreters={ip4:(e,o)=>e,ip6:(e,o)=>o.length===0?e:`[${e}]`,tcp:(e,o)=>{const i=o.pop();if(i===void 0)throw new Error("Unexpected end of multiaddr");return`tcp://${interpretNext(i[0],i[1]??"",o)}:${e}`},udp:(e,o)=>{const i=o.pop();if(i===void 0)throw new Error("Unexpected end of multiaddr");return`udp://${interpretNext(i[0],i[1]??"",o)}:${e}`},dnsaddr:(e,o)=>e,dns4:(e,o)=>e,dns6:(e,o)=>e,dns:(e,o)=>e,ipfs:(e,o)=>{const i=o.pop();if(i===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(i[0],i[1]??"",o)}/ipfs/${e}`},p2p:(e,o)=>{const i=o.pop();if(i===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(i[0],i[1]??"",o)}/p2p/${e}`},http:(e,o)=>{const i=hasTLS(o),s=extractSNI(o);if(i&&s!==null)return`https://${s}`;const a=i?"https://":"http://",c=o.pop();if(c===void 0)throw new Error("Unexpected end of multiaddr");let d=interpretNext(c[0],c[1]??"",o);return d=d.replace("tcp://",""),`${a}${d}`},tls:(e,o)=>{const i=o.pop();if(i===void 0)throw new Error("Unexpected end of multiaddr");return interpretNext(i[0],i[1]??"",o)},sni:(e,o)=>{const i=o.pop();if(i===void 0)throw new Error("Unexpected end of multiaddr");return interpretNext(i[0],i[1]??"",o)},https:(e,o)=>{const i=o.pop();if(i===void 0)throw new Error("Unexpected end of multiaddr");let s=interpretNext(i[0],i[1]??"",o);return s=s.replace("tcp://",""),`https://${s}`},ws:(e,o)=>{const i=hasTLS(o),s=extractSNI(o);if(i&&s!==null)return`wss://${s}`;const a=i?"wss://":"ws://",c=o.pop();if(c===void 0)throw new Error("Unexpected end of multiaddr");let d=interpretNext(c[0],c[1]??"",o);return d=d.replace("tcp://",""),`${a}${d}`},wss:(e,o)=>{const i=o.pop();if(i===void 0)throw new Error("Unexpected end of multiaddr");let s=interpretNext(i[0],i[1]??"",o);return s=s.replace("tcp://",""),`wss://${s}`},"p2p-websocket-star":(e,o)=>{const i=o.pop();if(i===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(i[0],i[1]??"",o)}/p2p-websocket-star`},"p2p-webrtc-star":(e,o)=>{const i=o.pop();if(i===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(i[0],i[1]??"",o)}/p2p-webrtc-star`},"p2p-webrtc-direct":(e,o)=>{const i=o.pop();if(i===void 0)throw new Error("Unexpected end of multiaddr");return`${interpretNext(i[0],i[1]??"",o)}/p2p-webrtc-direct`}};function multiaddrToUri(e,o){const s=multiaddr(e).stringTuples(),a=s.pop();if(a===void 0)throw new Error("Unexpected end of multiaddr");const c=protocols(a[0]),d=interpreters[c.name];if(d==null)throw new Error(`No interpreter found for ${c.name}`);let h=d(a[1]??"",s);return(o==null?void 0:o.assumeHttp)!==!1&&a[0]===protocols("tcp").code&&(h=h.replace("tcp://","http://"),(a[1]==="443"||a[1]==="80")&&(a[1]==="443"&&(h=h.replace("http://","https://")),h=h.substring(0,h.lastIndexOf(":")))),h}function toUrlString(e){try{e=multiaddrToUri(multiaddr$1(e))}catch{}return e=e.toString(),e}const getAgent=()=>{},log$1=logger("ipfs-http-client:lib:error-handler"),merge=mergeOpts.bind({ignoreUndefined:!0}),DEFAULT_PROTOCOL=env.isBrowser||env.isWebWorker?location.protocol:"http",DEFAULT_HOST=env.isBrowser||env.isWebWorker?location.hostname:"localhost",DEFAULT_PORT=env.isBrowser||env.isWebWorker?location.port:"5001",normalizeOptions=(e={})=>{let o,i={},s;if(typeof e=="string"||isMultiaddr$1(e))o=new URL(toUrlString(e));else if(e instanceof URL)o=e;else if(typeof e.url=="string"||isMultiaddr$1(e.url))o=new URL(toUrlString(e.url)),i=e;else if(e.url instanceof URL)o=e.url,i=e;else{i=e||{};const a=(i.protocol||DEFAULT_PROTOCOL).replace(":",""),c=(i.host||DEFAULT_HOST).split(":")[0],d=i.port||DEFAULT_PORT;o=new URL(`${a}://${c}:${d}`)}if(i.apiPath?o.pathname=i.apiPath:(o.pathname==="/"||o.pathname===void 0)&&(o.pathname="api/v0"),env.isNode){const a=getAgent();s=i.agent||new a({keepAlive:!0,maxSockets:6})}return{...i,host:o.host,protocol:o.protocol.replace(":",""),port:Number(o.port),apiPath:o.pathname,url:o,agent:s}},errorHandler=async e=>{let o;try{if((e.headers.get("Content-Type")||"").startsWith("application/json")){const s=await e.json();log$1(s),o=s.Message||s.message}else o=await e.text()}catch(s){log$1("Failed to parse error response",s),o=s.message}let i=new HTTP$1.HTTPError(e);throw o&&(o.includes("deadline has elapsed")&&(i=new HTTP$1.TimeoutError),o&&o.includes("context deadline exceeded")&&(i=new HTTP$1.TimeoutError)),o&&o.includes("request timed out")&&(i=new HTTP$1.TimeoutError),o&&(i.message=o),i},KEBAB_REGEX=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,kebabCase=e=>e.replace(KEBAB_REGEX,function(o){return"-"+o.toLowerCase()}),parseTimeout=e=>typeof e=="string"?parse(e):e;class Client extends HTTP$1{constructor(o={}){const i=normalizeOptions(o);super({timeout:parseTimeout(i.timeout||0)||void 0,headers:i.headers,base:`${i.url}`,handleError:errorHandler,transformSearchParams:a=>{const c=new URLSearchParams;for(const[d,h]of a)h!=="undefined"&&h!=="null"&&d!=="signal"&&c.append(kebabCase(d),h),d==="timeout"&&!isNaN(h)&&c.append(kebabCase(d),h);return c},agent:i.agent}),delete this.get,delete this.put,delete this.delete,delete this.options;const s=this.fetch;this.fetch=(a,c={})=>(typeof a=="string"&&!a.startsWith("/")&&(a=`${i.url}/${a}`),s.call(this,a,merge(c,{method:"POST"})))}}HTTP$1.HTTPError;const configure=e=>o=>e(new Client(o),o);function modeToString$1(e){if(e!=null)return typeof e=="string"?e:e.toString(8).padStart(4,"0")}function parseMtime$1(e){if(e==null)return;let o;if(e.secs!=null&&(o={secs:e.secs,nsecs:e.nsecs}),e.Seconds!=null&&(o={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(o={secs:e[0],nsecs:e[1]}),e instanceof Date){const i=e.getTime(),s=Math.floor(i/1e3);o={secs:s,nsecs:(i-s*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(o,"secs")){if(o!=null&&o.nsecs!=null&&(o.nsecs<0||o.nsecs>999999999))throw errCode$1(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return o}}function toUrlSearchParams({arg:e,searchParams:o,hashAlg:i,mtime:s,mode:a,...c}={}){o&&(c={...c,...o}),i&&(c.hash=i),s!=null&&(s=parseMtime$1(s),c.mtime=s.secs,c.mtimeNsecs=s.nsecs),a!=null&&(c.mode=modeToString$1(a)),c.timeout&&!isNaN(c.timeout)&&(c.timeout=`${c.timeout}ms`),e==null?e=[]:Array.isArray(e)||(e=[e]);const d=new URLSearchParams(c);return e.forEach(h=>d.append("arg",h)),d}const createWantlist=configure(e=>{async function o(i={}){return((await(await e.post("bitswap/wantlist",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers})).json()).Keys||[]).map(a=>CID$2.parse(a["/"]))}return o}),createWantlistForPeer=configure(e=>{async function o(i,s={}){return((await(await e.post("bitswap/wantlist",{signal:s.signal,searchParams:toUrlSearchParams({...s,peer:i.toString()}),headers:s.headers})).json()).Keys||[]).map(c=>CID$2.parse(c["/"]))}return o}),symbol=Symbol.for("@libp2p/peer-id"),inspect=Symbol.for("nodejs.util.inspect.custom"),baseDecoder=Object.values(bases$3).map(e=>e.decoder).reduce((e,o)=>e.or(o),bases$3.identity.decoder),LIBP2P_KEY_CODE=114,MARSHALLED_ED225519_PUBLIC_KEY_LENGTH=36,MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH=37;class PeerIdImpl{constructor(o){this.type=o.type,this.multihash=o.multihash,this.privateKey=o.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}get[symbol](){return!0}toString(){return this.string==null&&(this.string=base58btc$4.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID$2.createV1(LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(o){var i;if(o instanceof Uint8Array)return equals$3(this.multihash.bytes,o);if(typeof o=="string")return peerIdFromString(o).equals(this);if(((i=o==null?void 0:o.multihash)==null?void 0:i.bytes)!=null)return equals$3(this.multihash.bytes,o.multihash.bytes);throw new Error("not valid Id")}[inspect](){return`PeerId(${this.toString()})`}}class RSAPeerIdImpl extends PeerIdImpl{constructor(o){super({...o,type:"RSA"}),this.type="RSA",this.publicKey=o.publicKey}}class Ed25519PeerIdImpl extends PeerIdImpl{constructor(o){super({...o,type:"Ed25519"}),this.type="Ed25519",this.publicKey=o.multihash.digest}}class Secp256k1PeerIdImpl extends PeerIdImpl{constructor(o){super({...o,type:"secp256k1"}),this.type="secp256k1",this.publicKey=o.multihash.digest}}function peerIdFromString(e,o){if(e.charAt(0)==="1"||e.charAt(0)==="Q"){const i=decode$l(base58btc$4.decode(`z${e}`));return e.startsWith("12D")?new Ed25519PeerIdImpl({multihash:i}):e.startsWith("16U")?new Secp256k1PeerIdImpl({multihash:i}):new RSAPeerIdImpl({multihash:i})}return peerIdFromBytes(baseDecoder.decode(e))}function peerIdFromBytes(e){try{const o=decode$l(e);if(o.code===identity$4.code){if(o.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:o});if(o.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:o})}if(o.code===sha256.code)return new RSAPeerIdImpl({multihash:o})}catch{return peerIdFromCID(CID$2.decode(e))}throw new Error("Supplied PeerID CID is invalid")}function peerIdFromCID(e){if(e==null||e.multihash==null||e.version==null||e.version===1&&e.code!==LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const o=e.multihash;if(o.code===sha256.code)return new RSAPeerIdImpl({multihash:e.multihash});if(o.code===identity$4.code){if(o.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:e.multihash});if(o.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}const createStat$4=configure(e=>{async function o(i={}){const s=await e.post("bitswap/stat",{searchParams:toUrlSearchParams(i),signal:i.signal,headers:i.headers});return toCoreInterface$4(await s.json())}return o});function toCoreInterface$4(e){return{provideBufLen:e.ProvideBufLen,wantlist:(e.Wantlist||[]).map(o=>CID$2.parse(o["/"])),peers:(e.Peers||[]).map(o=>peerIdFromString(o)),blocksReceived:BigInt(e.BlocksReceived),dataReceived:BigInt(e.DataReceived),blocksSent:BigInt(e.BlocksSent),dataSent:BigInt(e.DataSent),dupBlksReceived:BigInt(e.DupBlksReceived),dupDataReceived:BigInt(e.DupDataReceived)}}const createUnwant=configure(e=>{async function o(i,s={}){return(await e.post("bitswap/unwant",{signal:s.signal,searchParams:toUrlSearchParams({arg:i.toString(),...s}),headers:s.headers})).json()}return o});function createBitswap(e){return{wantlist:createWantlist(e),wantlistForPeer:createWantlistForPeer(e),unwant:createUnwant(e),stat:createStat$4(e)}}const createGet$5=configure(e=>{async function o(i,s={}){const a=await e.post("block/get",{signal:s.signal,searchParams:toUrlSearchParams({arg:i.toString(),...s}),headers:s.headers});return new Uint8Array(await a.arrayBuffer())}return o});function peekableIterator(e){const[o,i]=e[Symbol.asyncIterator]!=null?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],s=[];return{peek:()=>o.next(),push:a=>{s.push(a)},next:()=>s.length>0?{done:!1,value:s.shift()}:o.next(),[i](){return this}}}async function*browserReadableStreamToIt(e,o={}){const i=e.getReader();try{for(;;){const s=await i.read();if(s.done)return;yield s.value}}finally{o.preventCancel!==!0&&await i.cancel(),i.releaseLock()}}async function all(e){const o=[];for await(const i of e)o.push(i);return o}function isBytes(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function isBlob(e){return e.constructor&&(e.constructor.name==="Blob"||e.constructor.name==="File")&&typeof e.stream=="function"}function isFileObject(e){return typeof e=="object"&&(e.path||e.content)}const isReadableStream=e=>e&&typeof e.getReader=="function";async function normaliseContent$1(e){if(isBytes(e))return new Blob([e]);if(typeof e=="string"||e instanceof String)return new Blob([e.toString()]);if(isBlob(e))return e;if(isReadableStream(e)&&(e=browserReadableStreamToIt(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const o=peekableIterator(e),{value:i,done:s}=await o.peek();if(s)return itToBlob(o);if(o.push(i),Number.isInteger(i))return new Blob([Uint8Array.from(await all(o))]);if(isBytes(i)||typeof i=="string"||i instanceof String)return itToBlob(o)}throw errCode$1(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}async function itToBlob(e){const o=[];for await(const i of e)o.push(i);return new Blob(o)}async function*map(e,o){for await(const i of e)yield o(i)}var indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(e,o){for(var i=new Array(arguments.length-1),s=0,a=2,c=!0;a<arguments.length;)i[s++]=arguments[a++];return new Promise(function(h,g){i[s]=function($){if(c)if(c=!1,$)g($);else{for(var j=new Array(arguments.length-1),tt=0;tt<j.length;)j[tt++]=arguments[tt];h.apply(null,j)}};try{e.apply(o||null,i)}catch(b){c&&(c=!1,g(b))}})}var base64$1={};(function(e){var o=e;o.length=function(h){var g=h.length;if(!g)return 0;for(var b=0;--g%4>1&&h.charAt(g)==="=";)++b;return Math.ceil(h.length*3)/4-b};for(var i=new Array(64),s=new Array(123),a=0;a<64;)s[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;o.encode=function(h,g,b){for(var $=null,j=[],tt=0,at=0,_;g<b;){var ot=h[g++];switch(at){case 0:j[tt++]=i[ot>>2],_=(ot&3)<<4,at=1;break;case 1:j[tt++]=i[_|ot>>4],_=(ot&15)<<2,at=2;break;case 2:j[tt++]=i[_|ot>>6],j[tt++]=i[ot&63],at=0;break}tt>8191&&(($||($=[])).push(String.fromCharCode.apply(String,j)),tt=0)}return at&&(j[tt++]=i[_],j[tt++]=61,at===1&&(j[tt++]=61)),$?(tt&&$.push(String.fromCharCode.apply(String,j.slice(0,tt))),$.join("")):String.fromCharCode.apply(String,j.slice(0,tt))};var c="invalid encoding";o.decode=function(h,g,b){for(var $=b,j=0,tt,at=0;at<h.length;){var _=h.charCodeAt(at++);if(_===61&&j>1)break;if((_=s[_])===void 0)throw Error(c);switch(j){case 0:tt=_,j=1;break;case 1:g[b++]=tt<<2|(_&48)>>4,tt=_,j=2;break;case 2:g[b++]=(tt&15)<<4|(_&60)>>2,tt=_,j=3;break;case 3:g[b++]=(tt&3)<<6|_,j=0;break}}if(j===1)throw Error(c);return b-$},o.test=function(h){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(h)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(o,i,s){return(this._listeners[o]||(this._listeners[o]=[])).push({fn:i,ctx:s||this}),this};EventEmitter.prototype.off=function(o,i){if(o===void 0)this._listeners={};else if(i===void 0)this._listeners[o]=[];else for(var s=this._listeners[o],a=0;a<s.length;)s[a].fn===i?s.splice(a,1):++a;return this};EventEmitter.prototype.emit=function(o){var i=this._listeners[o];if(i){for(var s=[],a=1;a<arguments.length;)s.push(arguments[a++]);for(a=0;a<i.length;)i[a].fn.apply(i[a++].ctx,s)}return this};var float=factory(factory);function factory(e){return typeof Float32Array<"u"?function(){var o=new Float32Array([-0]),i=new Uint8Array(o.buffer),s=i[3]===128;function a(g,b,$){o[0]=g,b[$]=i[0],b[$+1]=i[1],b[$+2]=i[2],b[$+3]=i[3]}function c(g,b,$){o[0]=g,b[$]=i[3],b[$+1]=i[2],b[$+2]=i[1],b[$+3]=i[0]}e.writeFloatLE=s?a:c,e.writeFloatBE=s?c:a;function d(g,b){return i[0]=g[b],i[1]=g[b+1],i[2]=g[b+2],i[3]=g[b+3],o[0]}function h(g,b){return i[3]=g[b],i[2]=g[b+1],i[1]=g[b+2],i[0]=g[b+3],o[0]}e.readFloatLE=s?d:h,e.readFloatBE=s?h:d}():function(){function o(s,a,c,d){var h=a<0?1:0;if(h&&(a=-a),a===0)s(1/a>0?0:2147483648,c,d);else if(isNaN(a))s(2143289344,c,d);else if(a>34028234663852886e22)s((h<<31|2139095040)>>>0,c,d);else if(a<11754943508222875e-54)s((h<<31|Math.round(a/1401298464324817e-60))>>>0,c,d);else{var g=Math.floor(Math.log(a)/Math.LN2),b=Math.round(a*Math.pow(2,-g)*8388608)&8388607;s((h<<31|g+127<<23|b)>>>0,c,d)}}e.writeFloatLE=o.bind(null,writeUintLE),e.writeFloatBE=o.bind(null,writeUintBE);function i(s,a,c){var d=s(a,c),h=(d>>31)*2+1,g=d>>>23&255,b=d&8388607;return g===255?b?NaN:h*(1/0):g===0?h*1401298464324817e-60*b:h*Math.pow(2,g-150)*(b+8388608)}e.readFloatLE=i.bind(null,readUintLE),e.readFloatBE=i.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var o=new Float64Array([-0]),i=new Uint8Array(o.buffer),s=i[7]===128;function a(g,b,$){o[0]=g,b[$]=i[0],b[$+1]=i[1],b[$+2]=i[2],b[$+3]=i[3],b[$+4]=i[4],b[$+5]=i[5],b[$+6]=i[6],b[$+7]=i[7]}function c(g,b,$){o[0]=g,b[$]=i[7],b[$+1]=i[6],b[$+2]=i[5],b[$+3]=i[4],b[$+4]=i[3],b[$+5]=i[2],b[$+6]=i[1],b[$+7]=i[0]}e.writeDoubleLE=s?a:c,e.writeDoubleBE=s?c:a;function d(g,b){return i[0]=g[b],i[1]=g[b+1],i[2]=g[b+2],i[3]=g[b+3],i[4]=g[b+4],i[5]=g[b+5],i[6]=g[b+6],i[7]=g[b+7],o[0]}function h(g,b){return i[7]=g[b],i[6]=g[b+1],i[5]=g[b+2],i[4]=g[b+3],i[3]=g[b+4],i[2]=g[b+5],i[1]=g[b+6],i[0]=g[b+7],o[0]}e.readDoubleLE=s?d:h,e.readDoubleBE=s?h:d}():function(){function o(s,a,c,d,h,g){var b=d<0?1:0;if(b&&(d=-d),d===0)s(0,h,g+a),s(1/d>0?0:2147483648,h,g+c);else if(isNaN(d))s(0,h,g+a),s(2146959360,h,g+c);else if(d>17976931348623157e292)s(0,h,g+a),s((b<<31|2146435072)>>>0,h,g+c);else{var $;if(d<22250738585072014e-324)$=d/5e-324,s($>>>0,h,g+a),s((b<<31|$/4294967296)>>>0,h,g+c);else{var j=Math.floor(Math.log(d)/Math.LN2);j===1024&&(j=1023),$=d*Math.pow(2,-j),s($*4503599627370496>>>0,h,g+a),s((b<<31|j+1023<<20|$*1048576&1048575)>>>0,h,g+c)}}}e.writeDoubleLE=o.bind(null,writeUintLE,0,4),e.writeDoubleBE=o.bind(null,writeUintBE,4,0);function i(s,a,c,d,h){var g=s(d,h+a),b=s(d,h+c),$=(b>>31)*2+1,j=b>>>20&2047,tt=4294967296*(b&1048575)+g;return j===2047?tt?NaN:$*(1/0):j===0?$*5e-324*tt:$*Math.pow(2,j-1075)*(tt+4503599627370496)}e.readDoubleLE=i.bind(null,readUintLE,0,4),e.readDoubleBE=i.bind(null,readUintBE,4,0)}(),e}function writeUintLE(e,o,i){o[i]=e&255,o[i+1]=e>>>8&255,o[i+2]=e>>>16&255,o[i+3]=e>>>24}function writeUintBE(e,o,i){o[i]=e>>>24,o[i+1]=e>>>16&255,o[i+2]=e>>>8&255,o[i+3]=e&255}function readUintLE(e,o){return(e[o]|e[o+1]<<8|e[o+2]<<16|e[o+3]<<24)>>>0}function readUintBE(e,o){return(e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}var utf8$2={};(function(e){var o=e;o.length=function(s){for(var a=0,c=0,d=0;d<s.length;++d)c=s.charCodeAt(d),c<128?a+=1:c<2048?a+=2:(c&64512)===55296&&(s.charCodeAt(d+1)&64512)===56320?(++d,a+=4):a+=3;return a},o.read=function(s,a,c){var d=c-a;if(d<1)return"";for(var h=null,g=[],b=0,$;a<c;)$=s[a++],$<128?g[b++]=$:$>191&&$<224?g[b++]=($&31)<<6|s[a++]&63:$>239&&$<365?($=(($&7)<<18|(s[a++]&63)<<12|(s[a++]&63)<<6|s[a++]&63)-65536,g[b++]=55296+($>>10),g[b++]=56320+($&1023)):g[b++]=($&15)<<12|(s[a++]&63)<<6|s[a++]&63,b>8191&&((h||(h=[])).push(String.fromCharCode.apply(String,g)),b=0);return h?(b&&h.push(String.fromCharCode.apply(String,g.slice(0,b))),h.join("")):String.fromCharCode.apply(String,g.slice(0,b))},o.write=function(s,a,c){for(var d=c,h,g,b=0;b<s.length;++b)h=s.charCodeAt(b),h<128?a[c++]=h:h<2048?(a[c++]=h>>6|192,a[c++]=h&63|128):(h&64512)===55296&&((g=s.charCodeAt(b+1))&64512)===56320?(h=65536+((h&1023)<<10)+(g&1023),++b,a[c++]=h>>18|240,a[c++]=h>>12&63|128,a[c++]=h>>6&63|128,a[c++]=h&63|128):(a[c++]=h>>12|224,a[c++]=h>>6&63|128,a[c++]=h&63|128);return c-d}})(utf8$2);var pool_1=pool;function pool(e,o,i){var s=i||8192,a=s>>>1,c=null,d=s;return function(g){if(g<1||g>a)return e(g);d+g>s&&(c=e(s),d=0);var b=o.call(c,d,d+=g);return d&7&&(d=(d|7)+1),b}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=o;var e=requireMinimal();function o(c,d){this.lo=c>>>0,this.hi=d>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var s=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(d){if(d===0)return i;var h=d<0;h&&(d=-d);var g=d>>>0,b=(d-g)/4294967296>>>0;return h&&(b=~b>>>0,g=~g>>>0,++g>4294967295&&(g=0,++b>4294967295&&(b=0))),new o(g,b)},o.from=function(d){if(typeof d=="number")return o.fromNumber(d);if(e.isString(d))if(e.Long)d=e.Long.fromString(d);else return o.fromNumber(parseInt(d,10));return d.low||d.high?new o(d.low>>>0,d.high>>>0):i},o.prototype.toNumber=function(d){if(!d&&this.hi>>>31){var h=~this.lo+1>>>0,g=~this.hi>>>0;return h||(g=g+1>>>0),-(h+g*4294967296)}return this.lo+this.hi*4294967296},o.prototype.toLong=function(d){return e.Long?new e.Long(this.lo|0,this.hi|0,!!d):{low:this.lo|0,high:this.hi|0,unsigned:!!d}};var a=String.prototype.charCodeAt;return o.fromHash=function(d){return d===s?i:new o((a.call(d,0)|a.call(d,1)<<8|a.call(d,2)<<16|a.call(d,3)<<24)>>>0,(a.call(d,4)|a.call(d,5)<<8|a.call(d,6)<<16|a.call(d,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var d=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^d)>>>0,this.lo=(this.lo<<1^d)>>>0,this},o.prototype.zzDecode=function(){var d=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^d)>>>0,this.hi=(this.hi>>>1^d)>>>0,this},o.prototype.length=function(){var d=this.lo,h=(this.lo>>>28|this.hi<<4)>>>0,g=this.hi>>>24;return g===0?h===0?d<16384?d<128?1:2:d<2097152?3:4:h<16384?h<128?5:6:h<2097152?7:8:g<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(e){var o=e;o.asPromise=aspromise,o.base64=base64$1,o.EventEmitter=eventemitter,o.float=float,o.inquire=inquire_1,o.utf8=utf8$2,o.pool=pool_1,o.LongBits=requireLongbits(),o.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),o.global=o.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,o.emptyArray=Object.freeze?Object.freeze([]):[],o.emptyObject=Object.freeze?Object.freeze({}):{},o.isInteger=Number.isInteger||function(c){return typeof c=="number"&&isFinite(c)&&Math.floor(c)===c},o.isString=function(c){return typeof c=="string"||c instanceof String},o.isObject=function(c){return c&&typeof c=="object"},o.isset=o.isSet=function(c,d){var h=c[d];return h!=null&&c.hasOwnProperty(d)?typeof h!="object"||(Array.isArray(h)?h.length:Object.keys(h).length)>0:!1},o.Buffer=function(){try{var a=o.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}(),o._Buffer_from=null,o._Buffer_allocUnsafe=null,o.newBuffer=function(c){return typeof c=="number"?o.Buffer?o._Buffer_allocUnsafe(c):new o.Array(c):o.Buffer?o._Buffer_from(c):typeof Uint8Array>"u"?c:new Uint8Array(c)},o.Array=typeof Uint8Array<"u"?Uint8Array:Array,o.Long=o.global.dcodeIO&&o.global.dcodeIO.Long||o.global.Long||o.inquire("long"),o.key2Re=/^true|false|0|1$/,o.key32Re=/^-?(?:0|[1-9][0-9]*)$/,o.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,o.longToHash=function(c){return c?o.LongBits.from(c).toHash():o.LongBits.zeroHash},o.longFromHash=function(c,d){var h=o.LongBits.fromHash(c);return o.Long?o.Long.fromBits(h.lo,h.hi,d):h.toNumber(!!d)};function i(a,c,d){for(var h=Object.keys(c),g=0;g<h.length;++g)(a[h[g]]===void 0||!d)&&(a[h[g]]=c[h[g]]);return a}o.merge=i,o.lcFirst=function(c){return c.charAt(0).toLowerCase()+c.substring(1)};function s(a){function c(d,h){if(!(this instanceof c))return new c(d,h);Object.defineProperty(this,"message",{get:function(){return d}}),Error.captureStackTrace?Error.captureStackTrace(this,c):Object.defineProperty(this,"stack",{value:new Error().stack||""}),h&&i(this,h)}return c.prototype=Object.create(Error.prototype,{constructor:{value:c,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return a},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),c}o.newError=s,o.ProtocolError=s("ProtocolError"),o.oneOfGetter=function(c){for(var d={},h=0;h<c.length;++h)d[c[h]]=1;return function(){for(var g=Object.keys(this),b=g.length-1;b>-1;--b)if(d[g[b]]===1&&this[g[b]]!==void 0&&this[g[b]]!==null)return g[b]}},o.oneOfSetter=function(c){return function(d){for(var h=0;h<c.length;++h)c[h]!==d&&delete this[c[h]]}},o.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},o._configure=function(){var a=o.Buffer;if(!a){o._Buffer_from=o._Buffer_allocUnsafe=null;return}o._Buffer_from=a.from!==Uint8Array.from&&a.from||function(d,h){return new a(d,h)},o._Buffer_allocUnsafe=a.allocUnsafe||function(d){return new a(d)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(e,o,i){this.fn=e,this.len=o,this.next=void 0,this.val=i}function noop(){}function State(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$2=function e(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$2();Writer$1.alloc=function e(o){return new util$4.Array(o)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function e(o,i,s){return this.tail=this.tail.next=new Op(o,i,s),this.len+=i,this};function writeByte(e,o,i){o[i]=e&255}function writeVarint32(e,o,i){for(;e>127;)o[i++]=e&127|128,e>>>=7;o[i]=e}function VarintOp(e,o){this.len=e,this.next=void 0,this.val=o}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function e(o){return this.len+=(this.tail=this.tail.next=new VarintOp((o=o>>>0)<128?1:o<16384?2:o<2097152?3:o<268435456?4:5,o)).len,this};Writer$1.prototype.int32=function e(o){return o<0?this._push(writeVarint64,10,LongBits$1.fromNumber(o)):this.uint32(o)};Writer$1.prototype.sint32=function e(o){return this.uint32((o<<1^o>>31)>>>0)};function writeVarint64(e,o,i){for(;e.hi;)o[i++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)o[i++]=e.lo&127|128,e.lo=e.lo>>>7;o[i++]=e.lo}Writer$1.prototype.uint64=function e(o){var i=LongBits$1.from(o);return this._push(writeVarint64,i.length(),i)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function e(o){var i=LongBits$1.from(o).zzEncode();return this._push(writeVarint64,i.length(),i)};Writer$1.prototype.bool=function e(o){return this._push(writeByte,1,o?1:0)};function writeFixed32(e,o,i){o[i]=e&255,o[i+1]=e>>>8&255,o[i+2]=e>>>16&255,o[i+3]=e>>>24}Writer$1.prototype.fixed32=function e(o){return this._push(writeFixed32,4,o>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function e(o){var i=LongBits$1.from(o);return this._push(writeFixed32,4,i.lo)._push(writeFixed32,4,i.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function e(o){return this._push(util$4.float.writeFloatLE,4,o)};Writer$1.prototype.double=function e(o){return this._push(util$4.float.writeDoubleLE,8,o)};var writeBytes=util$4.Array.prototype.set?function e(o,i,s){i.set(o,s)}:function e(o,i,s){for(var a=0;a<o.length;++a)i[s+a]=o[a]};Writer$1.prototype.bytes=function e(o){var i=o.length>>>0;if(!i)return this._push(writeByte,1,0);if(util$4.isString(o)){var s=Writer$1.alloc(i=base64.length(o));base64.decode(o,s,0),o=s}return this.uint32(i)._push(writeBytes,i,o)};Writer$1.prototype.string=function e(o){var i=utf8$1.length(o);return i?this.uint32(i)._push(utf8$1.write,i,o):this._push(writeByte,1,0)};Writer$1.prototype.fork=function e(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function e(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function e(){var o=this.head,i=this.tail,s=this.len;return this.reset().uint32(s),s&&(this.tail.next=o.next,this.tail=i,this.len+=s),this};Writer$1.prototype.finish=function e(){for(var o=this.head.next,i=this.constructor.alloc(this.len),s=0;o;)o.fn(o.val,i,s),s+=o.len,o=o.next;return i};Writer$1._configure=function(e){BufferWriter$1=e,Writer$1.create=create$2(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(o,i,s){i.set(o,s)}:function(o,i,s){if(o.copy)o.copy(i,s,0,o.length);else for(var a=0;a<o.length;)i[s++]=o[a++]}};BufferWriter.prototype.bytes=function e(o){util$3.isString(o)&&(o=util$3._Buffer_from(o,"base64"));var i=o.length>>>0;return this.uint32(i),i&&this._push(BufferWriter.writeBytesBuffer,i,o),this};function writeStringBuffer(e,o,i){e.length<40?util$3.utf8.write(e,o,i):o.utf8Write?o.utf8Write(e,i):o.write(e,i)}BufferWriter.prototype.string=function e(o){var i=util$3.Buffer.byteLength(o);return this.uint32(i),i&&this._push(writeStringBuffer,i,o),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(e,o){return RangeError("index out of range: "+e.pos+" + "+(o||1)+" > "+e.len)}function Reader$1(e){this.buf=e,this.pos=0,this.len=e.length}var create_array=typeof Uint8Array<"u"?function e(o){if(o instanceof Uint8Array||Array.isArray(o))return new Reader$1(o);throw Error("illegal buffer")}:function e(o){if(Array.isArray(o))return new Reader$1(o);throw Error("illegal buffer")},create$1=function e(){return util$2.Buffer?function(i){return(Reader$1.create=function(a){return util$2.Buffer.isBuffer(a)?new BufferReader$1(a):create_array(a)})(i)}:create_array};Reader$1.create=create$1();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function e(){var o=4294967295;return function(){if(o=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(o=(o|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return o;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return o}}();Reader$1.prototype.int32=function e(){return this.uint32()|0};Reader$1.prototype.sint32=function e(){var o=this.uint32();return o>>>1^-(o&1)|0};function readLongVarint(){var e=new LongBits(0,0),o=0;if(this.len-this.pos>4){for(;o<4;++o)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<o*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;o=0}else{for(;o<3;++o){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<o*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<o*7)>>>0,e}if(this.len-this.pos>4){for(;o<5;++o)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<o*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;o<5;++o){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<o*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function e(){return this.uint32()!==0};function readFixed32_end(e,o){return(e[o-4]|e[o-3]<<8|e[o-2]<<16|e[o-1]<<24)>>>0}Reader$1.prototype.fixed32=function e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var o=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,o};Reader$1.prototype.double=function e(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var o=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,o};Reader$1.prototype.bytes=function e(){var o=this.uint32(),i=this.pos,s=this.pos+o;if(s>this.len)throw indexOutOfRange(this,o);if(this.pos+=o,Array.isArray(this.buf))return this.buf.slice(i,s);if(i===s){var a=util$2.Buffer;return a?a.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,i,s)};Reader$1.prototype.string=function e(){var o=this.bytes();return utf8.read(o,0,o.length)};Reader$1.prototype.skip=function e(o){if(typeof o=="number"){if(this.pos+o>this.len)throw indexOutOfRange(this,o);this.pos+=o}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};Reader$1._configure=function(e){BufferReader$1=e,Reader$1.create=create$1(),BufferReader$1._configure();var o=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[o](!1)},uint64:function(){return readLongVarint.call(this)[o](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[o](!1)},fixed64:function(){return readFixed64.call(this)[o](!0)},sfixed64:function(){return readFixed64.call(this)[o](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(e){Reader.call(this,e)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function e(){var o=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+o,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+o,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(e,o,i){if(typeof e!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!o,this.responseDelimited=!!i}Service.prototype.rpcCall=function e(o,i,s,a,c){if(!a)throw TypeError("request must be specified");var d=this;if(!c)return util.asPromise(e,d,o,i,s,a);if(!d.rpcImpl){setTimeout(function(){c(Error("already ended"))},0);return}try{return d.rpcImpl(o,i[d.requestDelimited?"encodeDelimited":"encode"](a).finish(),function(g,b){if(g)return d.emit("error",g,o),c(g);if(b===null){d.end(!0);return}if(!(b instanceof s))try{b=s[d.responseDelimited?"decodeDelimited":"decode"](b)}catch($){return d.emit("error",$,o),c($)}return d.emit("data",b,o),c(null,b)})}catch(h){d.emit("error",h,o),setTimeout(function(){c(h)},0);return}};Service.prototype.end=function e(o){return this.rpcImpl&&(o||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(e){var o=e;o.Service=service})(rpc);var roots={};(function(e){var o=e;o.build="minimal",o.Writer=writer,o.BufferWriter=writer_buffer,o.Reader=reader,o.BufferReader=reader_buffer,o.util=requireMinimal(),o.rpc=rpc,o.roots=roots,o.configure=i;function i(){o.util._configure(),o.Writer._configure(o.BufferWriter),o.Reader._configure(o.BufferReader)}i()})(indexMinimal);var minimal=indexMinimal;const $protobuf=getDefaultExportFromCjs(minimal),$Reader=$protobuf.Reader,$Writer=$protobuf.Writer,$util=$protobuf.util,$root=$protobuf.roots["ipfs-unixfs"]||($protobuf.roots["ipfs-unixfs"]={});$root.Data=(()=>{function e(o){if(this.blocksizes=[],o)for(var i=Object.keys(o),s=0;s<i.length;++s)o[i[s]]!=null&&(this[i[s]]=o[i[s]])}return e.prototype.Type=0,e.prototype.Data=$util.newBuffer([]),e.prototype.filesize=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=$util.emptyArray,e.prototype.hashType=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.fanout=$util.Long?$util.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(i,s){if(s||(s=$Writer.create()),s.uint32(8).int32(i.Type),i.Data!=null&&Object.hasOwnProperty.call(i,"Data")&&s.uint32(18).bytes(i.Data),i.filesize!=null&&Object.hasOwnProperty.call(i,"filesize")&&s.uint32(24).uint64(i.filesize),i.blocksizes!=null&&i.blocksizes.length)for(var a=0;a<i.blocksizes.length;++a)s.uint32(32).uint64(i.blocksizes[a]);return i.hashType!=null&&Object.hasOwnProperty.call(i,"hashType")&&s.uint32(40).uint64(i.hashType),i.fanout!=null&&Object.hasOwnProperty.call(i,"fanout")&&s.uint32(48).uint64(i.fanout),i.mode!=null&&Object.hasOwnProperty.call(i,"mode")&&s.uint32(56).uint32(i.mode),i.mtime!=null&&Object.hasOwnProperty.call(i,"mtime")&&$root.UnixTime.encode(i.mtime,s.uint32(66).fork()).ldelim(),s},e.decode=function(i,s){i instanceof $Reader||(i=$Reader.create(i));for(var a=s===void 0?i.len:i.pos+s,c=new $root.Data;i.pos<a;){var d=i.uint32();switch(d>>>3){case 1:c.Type=i.int32();break;case 2:c.Data=i.bytes();break;case 3:c.filesize=i.uint64();break;case 4:if(c.blocksizes&&c.blocksizes.length||(c.blocksizes=[]),(d&7)===2)for(var h=i.uint32()+i.pos;i.pos<h;)c.blocksizes.push(i.uint64());else c.blocksizes.push(i.uint64());break;case 5:c.hashType=i.uint64();break;case 6:c.fanout=i.uint64();break;case 7:c.mode=i.uint32();break;case 8:c.mtime=$root.UnixTime.decode(i,i.uint32());break;default:i.skipType(d&7);break}}if(!c.hasOwnProperty("Type"))throw $util.ProtocolError("missing required 'Type'",{instance:c});return c},e.fromObject=function(i){if(i instanceof $root.Data)return i;var s=new $root.Data;switch(i.Type){case"Raw":case 0:s.Type=0;break;case"Directory":case 1:s.Type=1;break;case"File":case 2:s.Type=2;break;case"Metadata":case 3:s.Type=3;break;case"Symlink":case 4:s.Type=4;break;case"HAMTShard":case 5:s.Type=5;break}if(i.Data!=null&&(typeof i.Data=="string"?$util.base64.decode(i.Data,s.Data=$util.newBuffer($util.base64.length(i.Data)),0):i.Data.length&&(s.Data=i.Data)),i.filesize!=null&&($util.Long?(s.filesize=$util.Long.fromValue(i.filesize)).unsigned=!0:typeof i.filesize=="string"?s.filesize=parseInt(i.filesize,10):typeof i.filesize=="number"?s.filesize=i.filesize:typeof i.filesize=="object"&&(s.filesize=new $util.LongBits(i.filesize.low>>>0,i.filesize.high>>>0).toNumber(!0))),i.blocksizes){if(!Array.isArray(i.blocksizes))throw TypeError(".Data.blocksizes: array expected");s.blocksizes=[];for(var a=0;a<i.blocksizes.length;++a)$util.Long?(s.blocksizes[a]=$util.Long.fromValue(i.blocksizes[a])).unsigned=!0:typeof i.blocksizes[a]=="string"?s.blocksizes[a]=parseInt(i.blocksizes[a],10):typeof i.blocksizes[a]=="number"?s.blocksizes[a]=i.blocksizes[a]:typeof i.blocksizes[a]=="object"&&(s.blocksizes[a]=new $util.LongBits(i.blocksizes[a].low>>>0,i.blocksizes[a].high>>>0).toNumber(!0))}if(i.hashType!=null&&($util.Long?(s.hashType=$util.Long.fromValue(i.hashType)).unsigned=!0:typeof i.hashType=="string"?s.hashType=parseInt(i.hashType,10):typeof i.hashType=="number"?s.hashType=i.hashType:typeof i.hashType=="object"&&(s.hashType=new $util.LongBits(i.hashType.low>>>0,i.hashType.high>>>0).toNumber(!0))),i.fanout!=null&&($util.Long?(s.fanout=$util.Long.fromValue(i.fanout)).unsigned=!0:typeof i.fanout=="string"?s.fanout=parseInt(i.fanout,10):typeof i.fanout=="number"?s.fanout=i.fanout:typeof i.fanout=="object"&&(s.fanout=new $util.LongBits(i.fanout.low>>>0,i.fanout.high>>>0).toNumber(!0))),i.mode!=null&&(s.mode=i.mode>>>0),i.mtime!=null){if(typeof i.mtime!="object")throw TypeError(".Data.mtime: object expected");s.mtime=$root.UnixTime.fromObject(i.mtime)}return s},e.toObject=function(i,s){s||(s={});var a={};if((s.arrays||s.defaults)&&(a.blocksizes=[]),s.defaults){if(a.Type=s.enums===String?"Raw":0,s.bytes===String?a.Data="":(a.Data=[],s.bytes!==Array&&(a.Data=$util.newBuffer(a.Data))),$util.Long){var c=new $util.Long(0,0,!0);a.filesize=s.longs===String?c.toString():s.longs===Number?c.toNumber():c}else a.filesize=s.longs===String?"0":0;if($util.Long){var c=new $util.Long(0,0,!0);a.hashType=s.longs===String?c.toString():s.longs===Number?c.toNumber():c}else a.hashType=s.longs===String?"0":0;if($util.Long){var c=new $util.Long(0,0,!0);a.fanout=s.longs===String?c.toString():s.longs===Number?c.toNumber():c}else a.fanout=s.longs===String?"0":0;a.mode=0,a.mtime=null}if(i.Type!=null&&i.hasOwnProperty("Type")&&(a.Type=s.enums===String?$root.Data.DataType[i.Type]:i.Type),i.Data!=null&&i.hasOwnProperty("Data")&&(a.Data=s.bytes===String?$util.base64.encode(i.Data,0,i.Data.length):s.bytes===Array?Array.prototype.slice.call(i.Data):i.Data),i.filesize!=null&&i.hasOwnProperty("filesize")&&(typeof i.filesize=="number"?a.filesize=s.longs===String?String(i.filesize):i.filesize:a.filesize=s.longs===String?$util.Long.prototype.toString.call(i.filesize):s.longs===Number?new $util.LongBits(i.filesize.low>>>0,i.filesize.high>>>0).toNumber(!0):i.filesize),i.blocksizes&&i.blocksizes.length){a.blocksizes=[];for(var d=0;d<i.blocksizes.length;++d)typeof i.blocksizes[d]=="number"?a.blocksizes[d]=s.longs===String?String(i.blocksizes[d]):i.blocksizes[d]:a.blocksizes[d]=s.longs===String?$util.Long.prototype.toString.call(i.blocksizes[d]):s.longs===Number?new $util.LongBits(i.blocksizes[d].low>>>0,i.blocksizes[d].high>>>0).toNumber(!0):i.blocksizes[d]}return i.hashType!=null&&i.hasOwnProperty("hashType")&&(typeof i.hashType=="number"?a.hashType=s.longs===String?String(i.hashType):i.hashType:a.hashType=s.longs===String?$util.Long.prototype.toString.call(i.hashType):s.longs===Number?new $util.LongBits(i.hashType.low>>>0,i.hashType.high>>>0).toNumber(!0):i.hashType),i.fanout!=null&&i.hasOwnProperty("fanout")&&(typeof i.fanout=="number"?a.fanout=s.longs===String?String(i.fanout):i.fanout:a.fanout=s.longs===String?$util.Long.prototype.toString.call(i.fanout):s.longs===Number?new $util.LongBits(i.fanout.low>>>0,i.fanout.high>>>0).toNumber(!0):i.fanout),i.mode!=null&&i.hasOwnProperty("mode")&&(a.mode=i.mode),i.mtime!=null&&i.hasOwnProperty("mtime")&&(a.mtime=$root.UnixTime.toObject(i.mtime,s)),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},e.DataType=function(){const o={},i=Object.create(o);return i[o[0]="Raw"]=0,i[o[1]="Directory"]=1,i[o[2]="File"]=2,i[o[3]="Metadata"]=3,i[o[4]="Symlink"]=4,i[o[5]="HAMTShard"]=5,i}(),e})();$root.UnixTime=(()=>{function e(o){if(o)for(var i=Object.keys(o),s=0;s<i.length;++s)o[i[s]]!=null&&(this[i[s]]=o[i[s]])}return e.prototype.Seconds=$util.Long?$util.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(i,s){return s||(s=$Writer.create()),s.uint32(8).int64(i.Seconds),i.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(i,"FractionalNanoseconds")&&s.uint32(21).fixed32(i.FractionalNanoseconds),s},e.decode=function(i,s){i instanceof $Reader||(i=$Reader.create(i));for(var a=s===void 0?i.len:i.pos+s,c=new $root.UnixTime;i.pos<a;){var d=i.uint32();switch(d>>>3){case 1:c.Seconds=i.int64();break;case 2:c.FractionalNanoseconds=i.fixed32();break;default:i.skipType(d&7);break}}if(!c.hasOwnProperty("Seconds"))throw $util.ProtocolError("missing required 'Seconds'",{instance:c});return c},e.fromObject=function(i){if(i instanceof $root.UnixTime)return i;var s=new $root.UnixTime;return i.Seconds!=null&&($util.Long?(s.Seconds=$util.Long.fromValue(i.Seconds)).unsigned=!1:typeof i.Seconds=="string"?s.Seconds=parseInt(i.Seconds,10):typeof i.Seconds=="number"?s.Seconds=i.Seconds:typeof i.Seconds=="object"&&(s.Seconds=new $util.LongBits(i.Seconds.low>>>0,i.Seconds.high>>>0).toNumber())),i.FractionalNanoseconds!=null&&(s.FractionalNanoseconds=i.FractionalNanoseconds>>>0),s},e.toObject=function(i,s){s||(s={});var a={};if(s.defaults){if($util.Long){var c=new $util.Long(0,0,!1);a.Seconds=s.longs===String?c.toString():s.longs===Number?c.toNumber():c}else a.Seconds=s.longs===String?"0":0;a.FractionalNanoseconds=0}return i.Seconds!=null&&i.hasOwnProperty("Seconds")&&(typeof i.Seconds=="number"?a.Seconds=s.longs===String?String(i.Seconds):i.Seconds:a.Seconds=s.longs===String?$util.Long.prototype.toString.call(i.Seconds):s.longs===Number?new $util.LongBits(i.Seconds.low>>>0,i.Seconds.high>>>0).toNumber():i.Seconds),i.FractionalNanoseconds!=null&&i.hasOwnProperty("FractionalNanoseconds")&&(a.FractionalNanoseconds=i.FractionalNanoseconds),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},e})();$root.Metadata=(()=>{function e(o){if(o)for(var i=Object.keys(o),s=0;s<i.length;++s)o[i[s]]!=null&&(this[i[s]]=o[i[s]])}return e.prototype.MimeType="",e.encode=function(i,s){return s||(s=$Writer.create()),i.MimeType!=null&&Object.hasOwnProperty.call(i,"MimeType")&&s.uint32(10).string(i.MimeType),s},e.decode=function(i,s){i instanceof $Reader||(i=$Reader.create(i));for(var a=s===void 0?i.len:i.pos+s,c=new $root.Metadata;i.pos<a;){var d=i.uint32();switch(d>>>3){case 1:c.MimeType=i.string();break;default:i.skipType(d&7);break}}return c},e.fromObject=function(i){if(i instanceof $root.Metadata)return i;var s=new $root.Metadata;return i.MimeType!=null&&(s.MimeType=String(i.MimeType)),s},e.toObject=function(i,s){s||(s={});var a={};return s.defaults&&(a.MimeType=""),i.MimeType!=null&&i.hasOwnProperty("MimeType")&&(a.MimeType=i.MimeType),a},e.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},e})();function parseMode(e){if(e!=null)return typeof e=="number"?e&4095:(e=e.toString(),e.substring(0,1)==="0"?parseInt(e,8)&4095:parseInt(e,10)&4095)}function parseMtime(e){if(e==null)return;let o;if(e.secs!=null&&(o={secs:e.secs,nsecs:e.nsecs}),e.Seconds!=null&&(o={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(o={secs:e[0],nsecs:e[1]}),e instanceof Date){const i=e.getTime(),s=Math.floor(i/1e3);o={secs:s,nsecs:(i-s*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(o,"secs")){if(o!=null&&o.nsecs!=null&&(o.nsecs<0||o.nsecs>999999999))throw errCode$1(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return o}}async function*normaliseCandidateMultiple(e,o){if(typeof e=="string"||e instanceof String||isBytes(e)||isBlob(e)||e._readableState)throw errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(isReadableStream(e)&&(e=browserReadableStreamToIt(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const i=peekableIterator(e),{value:s,done:a}=await i.peek();if(a){yield*[];return}if(i.push(s),Number.isInteger(s))throw errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(s._readableState){yield*map(i,c=>toFileObject$1({content:c},o));return}if(isBytes(s)){yield toFileObject$1({content:i},o);return}if(isFileObject(s)||s[Symbol.iterator]||s[Symbol.asyncIterator]||isReadableStream(s)||isBlob(s)){yield*map(i,c=>toFileObject$1(c,o));return}}throw isFileObject(e)?errCode$1(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT"):errCode$1(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}async function toFileObject$1(e,o){const{path:i,mode:s,mtime:a,content:c}=e,d={path:i||"",mode:parseMode(s),mtime:parseMtime(a)};return c?d.content=await o(c):i||(d.content=await o(e)),d}function normaliseInput$2(e){return normaliseCandidateMultiple(e,normaliseContent$1)}function modeToString(e){if(e!=null)return typeof e=="string"?e:e.toString(8).padStart(4,"0")}async function multipartRequest(e,o,i={}){const s=[],a=new FormData;let c=0,d=0;for await(const{content:h,path:g,mode:b,mtime:$}of normaliseInput$2(e)){let j="";const tt=h?"file":"dir";c>0&&(j=`-${c}`);let at=tt+j;const _=[];if(b!=null&&_.push(`mode=${modeToString(b)}`),$!=null){const{secs:ot,nsecs:ut}=$;_.push(`mtime=${ot}`),ut!=null&&_.push(`mtime-nsecs=${ut}`)}if(_.length&&(at=`${at}?${_.join("&")}`),h){a.set(at,h,g!=null?encodeURIComponent(g):void 0);const ot=d+h.size;s.push({name:g,start:d,end:ot}),d=ot}else if(g!=null)a.set(at,new File([""],encodeURIComponent(g),{type:"application/x-directory"}));else throw new Error("path or content or both must be set");c++}return{total:d,parts:s,headers:i,body:a}}function filter(e){return e.filter(Boolean)}function abortSignal(...e){return anySignal_2(filter(e))}const createPut$3=configure(e=>{async function o(i,s={}){const a=new AbortController,c=abortSignal(a.signal,s.signal);let d;try{d=await(await e.post("block/put",{signal:c,searchParams:toUrlSearchParams(s),...await multipartRequest([i],a,s.headers)})).json()}catch(h){if(s.format==="dag-pb")return o(i,{...s,format:"protobuf"});if(s.format==="dag-cbor")return o(i,{...s,format:"cbor"});throw h}return CID$2.parse(d.Key)}return o}),createRm$6=configure(e=>{async function*o(i,s={}){Array.isArray(i)||(i=[i]);const a=await e.post("block/rm",{signal:s.signal,searchParams:toUrlSearchParams({arg:i.map(c=>c.toString()),"stream-channels":!0,...s}),headers:s.headers});for await(const c of a.ndjson())yield toCoreInterface$3(c)}return o});function toCoreInterface$3(e){const o={cid:CID$2.parse(e.Hash)};return e.Error&&(o.error=new Error(e.Error)),o}const createStat$3=configure(e=>{async function o(i,s={}){const c=await(await e.post("block/stat",{signal:s.signal,searchParams:toUrlSearchParams({arg:i.toString(),...s}),headers:s.headers})).json();return{cid:CID$2.parse(c.Key),size:c.Size}}return o});function createBlock(e){return{get:createGet$5(e),put:createPut$3(e),rm:createRm$6(e),stat:createStat$3(e)}}const createAdd$4=configure(e=>{async function o(i,s={}){const a=await e.post("bootstrap/add",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers}),{Peers:c}=await a.json();return{Peers:c.map(d=>multiaddr$1(d))}}return o}),createClear=configure(e=>{async function o(i={}){const s=await e.post("bootstrap/rm",{signal:i.signal,searchParams:toUrlSearchParams({...i,all:!0}),headers:i.headers}),{Peers:a}=await s.json();return{Peers:a.map(c=>multiaddr$1(c))}}return o}),createList$2=configure(e=>{async function o(i={}){const s=await e.post("bootstrap/list",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers}),{Peers:a}=await s.json();return{Peers:a.map(c=>multiaddr$1(c))}}return o}),createReset=configure(e=>{async function o(i={}){const s=await e.post("bootstrap/add",{signal:i.signal,searchParams:toUrlSearchParams({...i,default:!0}),headers:i.headers}),{Peers:a}=await s.json();return{Peers:a.map(c=>multiaddr$1(c))}}return o}),createRm$5=configure(e=>{async function o(i,s={}){const a=await e.post("bootstrap/rm",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers}),{Peers:c}=await a.json();return{Peers:c.map(d=>multiaddr$1(d))}}return o});function createBootstrap(e){return{add:createAdd$4(e),clear:createClear(e),list:createList$2(e),reset:createReset(e),rm:createRm$5(e)}}const createApply=configure(e=>{async function o(i,s={}){const c=await(await e.post("config/profile/apply",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers})).json();return{original:c.OldCfg,updated:c.NewCfg}}return o});function objectToCamel(e){if(e==null)return e;const o=/^[A-Z]+$/,i={};return Object.keys(e).reduce((s,a)=>(o.test(a)?s[a.toLowerCase()]=e[a]:o.test(a[0])?s[a[0].toLowerCase()+a.slice(1)]=e[a]:s[a]=e[a],s),i)}const createList$1=configure(e=>{async function o(i={}){return(await(await e.post("config/profile/list",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers})).json()).map(c=>objectToCamel(c))}return o});function createProfiles(e){return{apply:createApply(e),list:createList$1(e)}}const createGet$4=configure(e=>async(i,s={})=>{if(!i)throw new Error("key argument is required");return(await(await e.post("config",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers})).json()).Value}),createGetAll=configure(e=>async(i={})=>await(await e.post("config/show",{signal:i.signal,searchParams:toUrlSearchParams({...i}),headers:i.headers})).json()),createReplace=configure(e=>async(i,s={})=>{const a=new AbortController,c=abortSignal(a.signal,s.signal);await(await e.post("config/replace",{signal:c,searchParams:toUrlSearchParams(s),...await multipartRequest([fromString$3(JSON.stringify(i))],a,s.headers)})).text()}),createSet=configure(e=>async(i,s,a={})=>{if(typeof i!="string")throw new Error("Invalid key type");const c={...a,...encodeParam(i,s)};await(await e.post("config",{signal:a.signal,searchParams:toUrlSearchParams(c),headers:a.headers})).text()}),encodeParam=(e,o)=>{switch(typeof o){case"boolean":return{arg:[e,o.toString()],bool:!0};case"string":return{arg:[e,o]};default:return{arg:[e,JSON.stringify(o)],json:!0}}};function createConfig(e){return{getAll:createGetAll(e),get:createGet$4(e),set:createSet(e),replace:createReplace(e),profiles:createProfiles(e)}}const createExport$1=configure(e=>{async function*o(i,s={}){yield*(await e.post("dag/export",{signal:s.signal,searchParams:toUrlSearchParams({arg:i.toString()}),headers:s.headers})).iterator()}return o});async function*resolve(e,o,i,s,a){const c=async b=>{const $=await i.getCodec(b.code),j=await s(b,a);return $.decode(j)},d=o.split("/").filter(Boolean);let h=await c(e),g=e;for(;d.length;){const b=d.shift();if(!b)throw errCode$1(new Error(`Could not resolve path "${o}"`),"ERR_INVALID_PATH");if(Object.prototype.hasOwnProperty.call(h,b))h=h[b],yield{value:h,remainderPath:d.join("/")};else throw errCode$1(new Error(`no link named "${b}" under ${g}`),"ERR_NO_LINK");const $=CID$2.asCID(h);$&&(g=$,h=await c(h))}yield{value:h,remainderPath:""}}async function first(e){for await(const o of e)return o}async function last(e){let o;for await(const i of e)o=i;return o}const createGet$3=(e,o)=>configure((s,a)=>{const c=createGet$5(a);return async(h,g={})=>{if(g.path){const at=g.localResolve?await first(resolve(h,g.path,e,c,g)):await last(resolve(h,g.path,e,c,g));if(!at)throw errCode$1(new Error("Not found"),"ERR_NOT_FOUND");return at}const b=await e.getCodec(h.code),$=await c(h,g);return{value:b.decode($),remainderPath:""}}})(o),createImport$1=configure(e=>{async function*o(i,s={}){const a=new AbortController,c=abortSignal(a.signal,s.signal),{headers:d,body:h}=await multipartRequest(i,a,s.headers),g=await e.post("dag/import",{signal:c,headers:d,body:h,searchParams:toUrlSearchParams({"pin-roots":s.pinRoots})});for await(const{Root:b}of g.ndjson())if(b!==void 0){const{Cid:{"/":$},PinErrorMsg:j}=b;yield{root:{cid:CID$2.parse($),pinErrorMsg:j}}}}return o}),createPut$2=(e,o)=>configure(s=>async(c,d={})=>{const h={storeCodec:"dag-cbor",hashAlg:"sha2-256",...d};let g;if(h.inputCodec){if(!(c instanceof Uint8Array))throw new Error("Can only inputCodec on raw bytes that can be decoded");g=c}else g=(await e.getCodec(h.storeCodec)).encode(c),h.inputCodec=h.storeCodec;const b=new AbortController,$=abortSignal(b.signal,h.signal),tt=await(await s.post("dag/put",{timeout:h.timeout,signal:$,searchParams:toUrlSearchParams(h),...await multipartRequest([g],b,h.headers)})).json();return CID$2.parse(tt.Cid["/"])})(o),createResolve$2=configure(e=>async(i,s={})=>{const c=await(await e.post("dag/resolve",{signal:s.signal,searchParams:toUrlSearchParams({arg:`${i}${s.path?`/${s.path}`.replace(/\/[/]+/g,"/"):""}`,...s}),headers:s.headers})).json();return{cid:CID$2.parse(c.Cid["/"]),remainderPath:c.RemPath}});function createDag(e,o){return{export:createExport$1(o),get:createGet$3(e,o),import:createImport$1(o),put:createPut$2(e,o),resolve:createResolve$2(o)}}const SendingQuery=0,PeerResponse=1,FinalPeer=2,QueryError=3,Provider=4,Value=5,AddingPeer=6,DialingPeer=7,mapEvent=e=>{if(e.Type===SendingQuery)return{name:"SENDING_QUERY",type:e.Type};if(e.Type===PeerResponse)return{from:peerIdFromString(e.ID),name:"PEER_RESPONSE",type:e.Type,messageType:0,messageName:"PUT_VALUE",closer:(e.Responses||[]).map(({ID:o,Addrs:i})=>({id:peerIdFromString(o),multiaddrs:i.map(s=>multiaddr$1(s)),protocols:[]})),providers:(e.Responses||[]).map(({ID:o,Addrs:i})=>({id:peerIdFromString(o),multiaddrs:i.map(s=>multiaddr$1(s)),protocols:[]}))};if(e.Type===FinalPeer){let o={id:e.ID??peerIdFromString(e.ID),multiaddrs:[],protocols:[]};return e.Responses&&e.Responses.length&&(o={id:peerIdFromString(e.Responses[0].ID),multiaddrs:e.Responses[0].Addrs.map(i=>multiaddr$1(i)),protocols:[]}),{name:"FINAL_PEER",type:e.Type,peer:o}}if(e.Type===QueryError)return{name:"QUERY_ERROR",type:e.Type,error:new Error(e.Extra)};if(e.Type===Provider)return{name:"PROVIDER",type:e.Type,providers:e.Responses.map(({ID:o,Addrs:i})=>({id:peerIdFromString(o),multiaddrs:i.map(s=>multiaddr$1(s)),protocols:[]}))};if(e.Type===Value)return{name:"VALUE",type:e.Type,value:fromString$3(e.Extra,"base64pad")};if(e.Type===AddingPeer){const o=e.Responses.map(({ID:i})=>peerIdFromString(i));if(!o.length)throw new Error("No peer found");return{name:"ADDING_PEER",type:e.Type,peer:o[0]}}if(e.Type===DialingPeer)return{name:"DIALING_PEER",type:e.Type,peer:peerIdFromString(e.ID)};throw new Error("Unknown DHT event type")},createFindPeer=configure(e=>{async function*o(i,s={}){const a=await e.post("dht/findpeer",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers});for await(const c of a.ndjson())yield mapEvent(c)}return o}),createFindProvs=configure(e=>{async function*o(i,s={}){const a=await e.post("dht/findprovs",{signal:s.signal,searchParams:toUrlSearchParams({arg:i.toString(),...s}),headers:s.headers});for await(const c of a.ndjson())yield mapEvent(c)}return o}),createGet$2=configure(e=>{async function*o(i,s={}){const a=await e.post("dht/get",{signal:s.signal,searchParams:toUrlSearchParams({arg:i instanceof Uint8Array?toString$4(i):i.toString(),...s}),headers:s.headers});for await(const c of a.ndjson())yield mapEvent(c)}return o}),createProvide=configure(e=>{async function*o(i,s={recursive:!1}){const a=Array.isArray(i)?i:[i],c=await e.post("dht/provide",{signal:s.signal,searchParams:toUrlSearchParams({arg:a.map(d=>d.toString()),...s}),headers:s.headers});for await(const d of c.ndjson())yield mapEvent(d)}return o}),createPut$1=configure(e=>{async function*o(i,s,a={}){const c=new AbortController,d=abortSignal(c.signal,a.signal),h=await e.post("dht/put",{signal:d,searchParams:toUrlSearchParams({arg:i instanceof Uint8Array?toString$4(i):i.toString(),...a}),...await multipartRequest([s],c,a.headers)});for await(const g of h.ndjson())yield mapEvent(g)}return o}),createQuery=configure(e=>{async function*o(i,s={}){const a=await e.post("dht/query",{signal:s.signal,searchParams:toUrlSearchParams({arg:i.toString(),...s}),headers:s.headers});for await(const c of a.ndjson())yield mapEvent(c)}return o});function createDht(e){return{findPeer:createFindPeer(e),findProvs:createFindProvs(e),get:createGet$2(e),provide:createProvide(e),put:createPut$1(e),query:createQuery(e)}}const createCmds=configure(e=>{async function o(i={}){return(await e.post("diag/cmds",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers})).json()}return o}),createNet=configure(e=>{async function o(i={}){return(await e.post("diag/net",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers})).json()}return o}),createSys=configure(e=>{async function o(i={}){return(await e.post("diag/sys",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers})).json()}return o});function createDiag(e){return{cmds:createCmds(e),net:createNet(e),sys:createSys(e)}}const createChmod=configure(e=>{async function o(i,s,a={}){await(await e.post("files/chmod",{signal:a.signal,searchParams:toUrlSearchParams({arg:i,mode:s,...a}),headers:a.headers})).text()}return o}),createCp=configure(e=>{async function o(i,s,a={}){const c=Array.isArray(i)?i:[i];await(await e.post("files/cp",{signal:a.signal,searchParams:toUrlSearchParams({arg:c.concat(s).map(h=>CID$2.asCID(h)?`/ipfs/${h}`:h),...a}),headers:a.headers})).text()}return o}),createFlush=configure(e=>{async function o(i,s={}){if(!i||typeof i!="string")throw new Error("ipfs.files.flush requires a path");const c=await(await e.post("files/flush",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers})).json();return CID$2.parse(c.Cid)}return o});function objectToCamelWithMetadata(e){const o=objectToCamel(e);return Object.prototype.hasOwnProperty.call(o,"mode")&&(o.mode=parseInt(o.mode,8)),Object.prototype.hasOwnProperty.call(o,"mtime")&&(o.mtime={secs:o.mtime,nsecs:o.mtimeNsecs||0},delete o.mtimeNsecs),o}const createLs$6=configure(e=>{async function*o(i,s={}){if(!i)throw new Error("ipfs.files.ls requires a path");const a=await e.post("files/ls",{signal:s.signal,searchParams:toUrlSearchParams({arg:CID$2.asCID(i)?`/ipfs/${i}`:i,long:!0,...s,stream:!0}),headers:s.headers});for await(const c of a.ndjson())if("Entries"in c)for(const d of c.Entries||[])yield toCoreInterface$2(objectToCamelWithMetadata(d));else yield toCoreInterface$2(objectToCamelWithMetadata(c))}return o});function toCoreInterface$2(e){return e.hash&&(e.cid=CID$2.parse(e.hash)),delete e.hash,e.type=e.type===1?"directory":"file",e}const createMkdir=configure(e=>{async function o(i,s={}){await(await e.post("files/mkdir",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers})).text()}return o}),createMv=configure(e=>{async function o(i,s,a={}){Array.isArray(i)||(i=[i]),await(await e.post("files/mv",{signal:a.signal,searchParams:toUrlSearchParams({arg:i.concat(s),...a}),headers:a.headers})).text()}return o});var source=e=>{if(e[Symbol.asyncIterator])return e;if(e.getReader)return async function*(){const o=e.getReader();try{for(;;){const{done:i,value:s}=await o.read();if(i)return;yield s}}finally{o.releaseLock()}}();throw new Error("unknown stream")};const toIterable=getDefaultExportFromCjs(source),createRead=configure(e=>{async function*o(i,s={}){const a=await e.post("files/read",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,count:s.length,...s}),headers:s.headers});yield*toIterable(a.body)}return o}),createRm$4=configure(e=>{async function o(i,s={}){const a=await e.post("files/rm",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers}),c=await a.text();if(c!==""){const d=new HTTP$1.HTTPError(a);throw d.message=c,d}}return o}),createStat$2=configure(e=>{async function o(i,s={}){const c=await(await e.post("files/stat",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers})).json();return c.WithLocality=c.WithLocality||!1,toCoreInterface$1(objectToCamelWithMetadata(c))}return o});function toCoreInterface$1(e){return e.cid=CID$2.parse(e.hash),delete e.hash,e}const createTouch=configure(e=>{async function o(i,s={}){await(await e.post("files/touch",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers})).text()}return o}),createWrite=configure(e=>{async function o(i,s,a={}){const c=new AbortController,d=abortSignal(c.signal,a.signal);await(await e.post("files/write",{signal:d,searchParams:toUrlSearchParams({arg:i,streamChannels:!0,count:a.length,...a}),...await multipartRequest([{content:s,path:"arg",mode:modeToString$1(a.mode),mtime:parseMtime$1(a.mtime)}],c,a.headers)})).text()}return o});function createFiles(e){return{chmod:createChmod(e),cp:createCp(e),flush:createFlush(e),ls:createLs$6(e),mkdir:createMkdir(e),mv:createMv(e),read:createRead(e),rm:createRm$4(e),stat:createStat$2(e),touch:createTouch(e),write:createWrite(e)}}const createExport=configure(e=>async(i,s,a={})=>{throw errCode$1(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}),createGen=configure(e=>{async function o(i,s={type:"Ed25519"}){const c=await(await e.post("key/gen",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers})).json();return objectToCamel(c)}return o}),createImport=configure(e=>{async function o(i,s,a,c={}){const h=await(await e.post("key/import",{signal:c.signal,searchParams:toUrlSearchParams({arg:i,pem:s,password:a,...c}),headers:c.headers})).json();return objectToCamel(h)}return o}),createInfo=configure(e=>async(i,s={})=>{throw errCode$1(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}),createList=configure(e=>{async function o(i={}){return((await(await e.post("key/list",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers})).json()).Keys||[]).map(c=>objectToCamel(c))}return o}),createRename=configure(e=>{async function o(i,s,a={}){const c=await e.post("key/rename",{signal:a.signal,searchParams:toUrlSearchParams({arg:[i,s],...a}),headers:a.headers});return objectToCamel(await c.json())}return o}),createRm$3=configure(e=>{async function o(i,s={}){const c=await(await e.post("key/rm",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers})).json();return objectToCamel(c.Keys[0])}return o});function createKey(e){return{export:createExport(e),gen:createGen(e),import:createImport(e),info:createInfo(e),list:createList(e),rename:createRename(e),rm:createRm$3(e)}}const createLevel=configure(e=>{async function o(i,s,a={}){const c=await e.post("log/level",{signal:a.signal,searchParams:toUrlSearchParams({arg:[i,s],...a}),headers:a.headers});return objectToCamel(await c.json())}return o}),createLs$5=configure(e=>{async function o(i={}){return(await(await e.post("log/ls",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers})).json()).Strings}return o}),createTail=configure(e=>{async function*o(i={}){yield*(await e.post("log/tail",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers})).ndjson()}return o});function createLog(e){return{level:createLevel(e),ls:createLs$5(e),tail:createTail(e)}}const createPublish$1=configure(e=>{async function o(i,s={}){const a=await e.post("name/publish",{signal:s.signal,searchParams:toUrlSearchParams({arg:`${i}`,...s}),headers:s.headers});return objectToCamel(await a.json())}return o}),createResolve$1=configure(e=>{async function*o(i,s={}){const a=await e.post("name/resolve",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,stream:!0,...s}),headers:s.headers});for await(const c of a.ndjson())yield c.Path}return o}),createCancel=configure(e=>{async function o(i,s={}){const a=await e.post("name/pubsub/cancel",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers});return objectToCamel(await a.json())}return o}),createState=configure(e=>{async function o(i={}){const s=await e.post("name/pubsub/state",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers});return objectToCamel(await s.json())}return o}),createSubs=configure(e=>{async function o(i={}){return(await(await e.post("name/pubsub/subs",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers})).json()).Strings||[]}return o});function createPubsub$1(e){return{cancel:createCancel(e),state:createState(e),subs:createSubs(e)}}function createName(e){return{publish:createPublish$1(e),resolve:createResolve$1(e),pubsub:createPubsub$1(e)}}const createData=configure(e=>{async function o(i,s={}){const c=await(await e.post("object/data",{signal:s.signal,searchParams:toUrlSearchParams({arg:`${i instanceof Uint8Array?CID$2.decode(i):i}`,...s}),headers:s.headers})).arrayBuffer();return new Uint8Array(c,0,c.byteLength)}return o}),createGet$1=configure(e=>{async function o(i,s={}){const c=await(await e.post("object/get",{signal:s.signal,searchParams:toUrlSearchParams({arg:`${i instanceof Uint8Array?CID$2.decode(i):i}`,dataEncoding:"base64",...s}),headers:s.headers})).json();return{Data:fromString$3(c.Data,"base64pad"),Links:(c.Links||[]).map(d=>({Name:d.Name,Hash:CID$2.parse(d.Hash),Tsize:d.Size}))}}return o}),createLinks=configure(e=>{async function o(i,s={}){return((await(await e.post("object/links",{signal:s.signal,searchParams:toUrlSearchParams({arg:`${i instanceof Uint8Array?CID$2.decode(i):i}`,...s}),headers:s.headers})).json()).Links||[]).map(d=>({Name:d.Name,Tsize:d.Size,Hash:CID$2.parse(d.Hash)}))}return o}),createNew=configure(e=>{async function o(i={}){const s=await e.post("object/new",{signal:i.signal,searchParams:toUrlSearchParams({arg:i.template,...i}),headers:i.headers}),{Hash:a}=await s.json();return CID$2.parse(a)}return o}),createPut=(e,o)=>configure(s=>{const a=createPut$2(e,o);async function c(d,h={}){return a(d,{...h,storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})}return c})(o),createStat$1=configure(e=>{async function o(i,s={}){const c=await(await e.post("object/stat",{signal:s.signal,searchParams:toUrlSearchParams({arg:`${i}`,...s}),headers:s.headers})).json();return{...c,Hash:CID$2.parse(c.Hash)}}return o}),createAddLink=configure(e=>{async function o(i,s,a={}){const c=await e.post("object/patch/add-link",{signal:a.signal,searchParams:toUrlSearchParams({arg:[`${i}`,s.Name||s.name||"",(s.Hash||s.cid||"").toString()||null],...a}),headers:a.headers}),{Hash:d}=await c.json();return CID$2.parse(d)}return o}),createAppendData=configure(e=>{async function o(i,s,a={}){const c=new AbortController,d=abortSignal(c.signal,a.signal),h=await e.post("object/patch/append-data",{signal:d,searchParams:toUrlSearchParams({arg:`${i}`,...a}),...await multipartRequest([s],c,a.headers)}),{Hash:g}=await h.json();return CID$2.parse(g)}return o}),createRmLink=configure(e=>{async function o(i,s,a={}){const c=await e.post("object/patch/rm-link",{signal:a.signal,searchParams:toUrlSearchParams({arg:[`${i}`,s.Name||s.name||null],...a}),headers:a.headers}),{Hash:d}=await c.json();return CID$2.parse(d)}return o}),createSetData=configure(e=>{async function o(i,s,a={}){const c=new AbortController,d=abortSignal(c.signal,a.signal),h=await e.post("object/patch/set-data",{signal:d,searchParams:toUrlSearchParams({arg:[`${i}`],...a}),...await multipartRequest([s],c,a.headers)}),{Hash:g}=await h.json();return CID$2.parse(g)}return o});function createPatch(e){return{addLink:createAddLink(e),appendData:createAppendData(e),rmLink:createRmLink(e),setData:createSetData(e)}}function createObject(e,o){return{data:createData(o),get:createGet$1(o),links:createLinks(o),new:createNew(o),put:createPut(e,o),stat:createStat$1(o),patch:createPatch(o)}}async function*normaliseInput$1(e){if(e==null)throw errCode$1(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");const o=CID$2.asCID(e);if(o){yield toPin$1({cid:o});return}if(e instanceof String||typeof e=="string"){yield toPin$1({path:e});return}if(e.cid!=null||e.path!=null)return yield toPin$1(e);if(Symbol.iterator in e){const i=e[Symbol.iterator](),s=i.next();if(s.done)return i;if(CID$2.asCID(s.value)||s.value instanceof String||typeof s.value=="string"){yield toPin$1({cid:s.value});for(const a of i)yield toPin$1({cid:a});return}if(s.value.cid!=null||s.value.path!=null){yield toPin$1(s.value);for(const a of i)yield toPin$1(a);return}throw errCode$1(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}if(Symbol.asyncIterator in e){const i=e[Symbol.asyncIterator](),s=await i.next();if(s.done)return i;if(CID$2.asCID(s.value)||s.value instanceof String||typeof s.value=="string"){yield toPin$1({cid:s.value});for await(const a of i)yield toPin$1({cid:a});return}if(s.value.cid!=null||s.value.path!=null){yield toPin$1(s.value);for await(const a of i)yield toPin$1(a);return}throw errCode$1(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}throw errCode$1(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}function toPin$1(e){const o=e.cid||`${e.path}`;if(!o)throw errCode$1(new Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");const i={path:o,recursive:e.recursive!==!1};return e.metadata!=null&&(i.metadata=e.metadata),i}const createAddAll$1=configure(e=>{async function*o(i,s={}){for await(const{path:a,recursive:c,metadata:d}of normaliseInput$1(i)){const h=await e.post("pin/add",{signal:s.signal,searchParams:toUrlSearchParams({...s,arg:a,recursive:c,metadata:d?JSON.stringify(d):void 0,stream:!0}),headers:s.headers});for await(const g of h.ndjson()){if(g.Pins){for(const b of g.Pins)yield CID$2.parse(b);continue}yield CID$2.parse(g)}}}return o});function createAdd$3(e){const o=createAddAll$1(e);return configure(()=>{async function i(s,a={}){return last(o([{path:s,...a}],a))}return i})(e)}function toPin(e,o,i){const s={type:e,cid:CID$2.parse(o)};return i&&(s.metadata=i),s}const createLs$4=configure(e=>{async function*o(i={}){let s=[];i.paths&&(s=Array.isArray(i.paths)?i.paths:[i.paths]);const a=await e.post("pin/ls",{signal:i.signal,searchParams:toUrlSearchParams({...i,arg:s.map(c=>`${c}`),stream:!0}),headers:i.headers});for await(const c of a.ndjson()){if(c.Keys){for(const d of Object.keys(c.Keys))yield toPin(c.Keys[d].Type,d,c.Keys[d].Metadata);return}yield toPin(c.Type,c.Cid,c.Metadata)}}return o}),createRmAll$1=configure(e=>{async function*o(i,s={}){for await(const{path:a,recursive:c}of normaliseInput$1(i)){const d=new URLSearchParams(s.searchParams);d.append("arg",`${a}`),c!=null&&d.set("recursive",String(c));const h=await e.post("pin/rm",{signal:s.signal,headers:s.headers,searchParams:toUrlSearchParams({...s,arg:`${a}`,recursive:c})});for await(const g of h.ndjson()){if(g.Pins){yield*g.Pins.map(b=>CID$2.parse(b));continue}yield CID$2.parse(g)}}}return o}),createRm$2=e=>{const o=createRmAll$1(e);return configure(()=>{async function i(s,a={}){return last(o([{path:s,...a}],a))}return i})(e)},decodePin=({Name:e,Status:o,Cid:i})=>({cid:CID$2.parse(i),name:e,status:o}),encodeService=e=>{if(typeof e=="string"&&e!=="")return e;throw new TypeError("service name must be passed")},encodeCID=e=>{if(CID$2.asCID(e))return e.toString();throw new TypeError(`CID instance expected instead of ${typeof e}`)},encodeQuery=({service:e,cid:o,name:i,status:s,all:a})=>{const c=toUrlSearchParams({service:encodeService(e),name:i,force:a?!0:void 0});if(o)for(const d of o)c.append("cid",encodeCID(d));if(s)for(const d of s)c.append("status",d);return c},encodeAddParams=({cid:e,service:o,background:i,name:s,origins:a})=>{const c=toUrlSearchParams({arg:encodeCID(e),service:encodeService(o),name:s,background:i?!0:void 0});if(a)for(const d of a)c.append("origin",d.toString());return c};function createAdd$2(e){async function o(i,{timeout:s,signal:a,headers:c,...d}){const h=await e.post("pin/remote/add",{timeout:s,signal:a,headers:c,searchParams:encodeAddParams({cid:i,...d})});return decodePin(await h.json())}return o}function createLs$3(e){async function*o({timeout:i,signal:s,headers:a,...c}){const d=await e.post("pin/remote/ls",{timeout:i,signal:s,headers:a,searchParams:encodeQuery(c)});for await(const h of d.ndjson())yield decodePin(h)}return o}function createRm$1(e){async function o({timeout:i,signal:s,headers:a,...c}){await e.post("pin/remote/rm",{timeout:i,signal:s,headers:a,searchParams:encodeQuery({...c,all:!1})})}return o}function createRmAll(e){async function o({timeout:i,signal:s,headers:a,...c}){await e.post("pin/remote/rm",{timeout:i,signal:s,headers:a,searchParams:encodeQuery({...c,all:!0})})}return o}function encodeEndpoint(e){const o=String(e);if(o==="undefined")throw Error("endpoint is required");return o[o.length-1]==="/"?o.slice(0,-1):o}function decodeRemoteService(e){return{service:e.Service,endpoint:new URL(e.ApiEndpoint),...e.Stat&&{stat:decodeStat(e.Stat)}}}function decodeStat(e){switch(e.Status){case"valid":{const{Pinning:o,Pinned:i,Queued:s,Failed:a}=e.PinCount;return{status:"valid",pinCount:{queued:s,pinning:o,pinned:i,failed:a}}}case"invalid":return{status:"invalid"};default:return{status:e.Status}}}function createAdd$1(e){async function o(i,s){const{endpoint:a,key:c,headers:d,timeout:h,signal:g}=s;await e.post("pin/remote/service/add",{timeout:h,signal:g,searchParams:toUrlSearchParams({arg:[i,encodeEndpoint(a),c]}),headers:d})}return o}function createLs$2(e){async function o(i={}){const{stat:s,headers:a,timeout:c,signal:d}=i,h=await e.post("pin/remote/service/ls",{timeout:c,signal:d,headers:a,searchParams:s===!0?toUrlSearchParams({stat:s}):void 0}),{RemoteServices:g}=await h.json();return g.map(decodeRemoteService)}return o}function createRm(e){async function o(i,s={}){await e.post("pin/remote/service/rm",{signal:s.signal,headers:s.headers,searchParams:toUrlSearchParams({arg:i})})}return o}function createService(e){const o=new Client(e);return{add:createAdd$1(o),ls:createLs$2(o),rm:createRm(o)}}function createRemote(e){const o=new Client(e);return{add:createAdd$2(o),ls:createLs$3(o),rm:createRm$1(o),rmAll:createRmAll(o),service:createService(e)}}function createPin(e){return{addAll:createAddAll$1(e),add:createAdd$3(e),ls:createLs$4(e),rmAll:createRmAll$1(e),rm:createRm$2(e),remote:createRemote(e)}}const rpcArrayToTextArray=e=>Array.isArray(e)?e.map(rpcToText):e,rpcToText=e=>toString$4(rpcToBytes(e)),rpcToBytes=e=>base64url$3.decode(e),rpcToBigInt=e=>BigInt(`0x${toString$4(base64url$3.decode(e),"base16")}`),textToUrlSafeRpc=e=>base64url$3.encode(fromString$3(e)),createLs$1=configure(e=>{async function o(i={}){const{Strings:s}=await(await e.post("pubsub/ls",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers})).json();return rpcArrayToTextArray(s)||[]}return o}),createPeers$1=configure(e=>{async function o(i,s={}){const a=await e.post("pubsub/peers",{signal:s.signal,searchParams:toUrlSearchParams({arg:textToUrlSafeRpc(i),...s}),headers:s.headers}),{Strings:c}=await a.json();return c||[]}return o}),createPublish=configure(e=>{async function o(i,s,a={}){const c=toUrlSearchParams({arg:textToUrlSafeRpc(i),...a}),d=new AbortController,h=abortSignal(d.signal,a.signal);await(await e.post("pubsub/pub",{signal:h,searchParams:c,...await multipartRequest([s],d,a.headers)})).text()}return o}),log=logger("ipfs-http-client:pubsub:subscribe"),createSubscribe=(e,o)=>configure(i=>{async function s(a,c,d={}){d.signal=o.subscribe(a,c,d.signal);let h,g;const b=new Promise((j,tt)=>{h=j,g=tt}),$=setTimeout(()=>h(),1e3);return i.post("pubsub/sub",{signal:d.signal,searchParams:toUrlSearchParams({arg:textToUrlSafeRpc(a),...d}),headers:d.headers}).catch(j=>{o.unsubscribe(a,c),g(j)}).then(j=>{clearTimeout($),j&&(readMessages(j,{onMessage:tt=>{if(c){if(typeof c=="function"){c(tt);return}typeof c.handleEvent=="function"&&c.handleEvent(tt)}},onEnd:()=>o.unsubscribe(a,c),onError:d.onError}),h())}),b}return s})(e);async function readMessages(e,{onMessage:o,onEnd:i,onError:s}){s=s||log;try{for await(const a of e.ndjson())try{if(!a.from)continue;a.from!=null&&a.seqno!=null?o({type:"signed",from:peerIdFromString(a.from),data:rpcToBytes(a.data),sequenceNumber:rpcToBigInt(a.seqno),topic:rpcToText(a.topicIDs[0]),key:rpcToBytes(a.key??"u"),signature:rpcToBytes(a.signature??"u")}):o({type:"unsigned",data:rpcToBytes(a.data),topic:rpcToText(a.topicIDs[0])})}catch(c){c.message=`Failed to parse pubsub message: ${c.message}`,s(c,!1,a)}}catch(a){isAbortError(a)||s(a,!0)}finally{i()}}const isAbortError=e=>{switch(e.type){case"aborted":return!0;case"abort":return!0;default:return e.name==="AbortError"}},createUnsubscribe=(e,o)=>{async function i(s,a){o.unsubscribe(s,a)}return i};class SubscriptionTracker{constructor(){this._subs=new Map}subscribe(o,i,s){const a=this._subs.get(o)||[];if(a.find(d=>d.handler===i))throw new Error(`Already subscribed to ${o} with this handler`);const c=new AbortController;return this._subs.set(o,[{handler:i,controller:c}].concat(a)),s&&s.addEventListener("abort",()=>this.unsubscribe(o,i)),c.signal}unsubscribe(o,i){const s=this._subs.get(o)||[];let a;i?(this._subs.set(o,s.filter(c=>c.handler!==i)),a=s.filter(c=>c.handler===i)):(this._subs.set(o,[]),a=s),(this._subs.get(o)||[]).length||this._subs.delete(o),a.forEach(c=>c.controller.abort())}}function createPubsub(e){const o=new SubscriptionTracker;return{ls:createLs$1(e),peers:createPeers$1(e),publish:createPublish(e),subscribe:createSubscribe(e,o),unsubscribe:createUnsubscribe(e,o)}}const createLocal=configure(e=>{async function*o(i={}){yield*(await e.post("refs/local",{signal:i.signal,transform:objectToCamel,searchParams:toUrlSearchParams(i),headers:i.headers})).ndjson()}return o}),createRefs=configure((e,o)=>Object.assign(async function*(s,a={}){const c=Array.isArray(s)?s:[s];yield*(await e.post("refs",{signal:a.signal,searchParams:toUrlSearchParams({arg:c.map(h=>`${h instanceof Uint8Array?CID$2.decode(h):h}`),...a}),headers:a.headers,transform:objectToCamel})).ndjson()},{local:createLocal(o)})),createGc=configure(e=>{async function*o(i={}){yield*(await e.post("repo/gc",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers,transform:a=>({err:a.Error?new Error(a.Error):null,cid:(a.Key||{})["/"]?CID$2.parse(a.Key["/"]):null})})).ndjson()}return o}),createStat=configure(e=>{async function o(i={}){const a=await(await e.post("repo/stat",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers})).json();return{numObjects:BigInt(a.NumObjects),repoSize:BigInt(a.RepoSize),repoPath:a.RepoPath,version:a.Version,storageMax:BigInt(a.StorageMax)}}return o}),createVersion$1=configure(e=>{async function o(i={}){return(await(await e.post("repo/version",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers})).json()).Version}return o});function createRepo(e){return{gc:createGc(e),stat:createStat(e),version:createVersion$1(e)}}const createBw=configure(e=>{async function*o(i={}){yield*(await e.post("stats/bw",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers,transform:a=>({totalIn:BigInt(a.TotalIn),totalOut:BigInt(a.TotalOut),rateIn:parseFloat(a.RateIn),rateOut:parseFloat(a.RateOut)})})).ndjson()}return o});function createStats(e){return{bitswap:createStat$4(e),repo:createStat(e),bw:createBw(e)}}const createAddrs=configure(e=>{async function o(i={}){const s=await e.post("swarm/addrs",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers}),{Addrs:a}=await s.json();return Object.keys(a).map(c=>({id:peerIdFromString(c),addrs:(a[c]||[]).map(d=>multiaddr$1(d))}))}return o}),createConnect=configure(e=>{async function o(i,s={}){const a=await e.post("swarm/connect",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers}),{Strings:c}=await a.json();return c||[]}return o}),createDisconnect=configure(e=>{async function o(i,s={}){const a=await e.post("swarm/disconnect",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers}),{Strings:c}=await a.json();return c||[]}return o}),createLocalAddrs=configure(e=>{async function o(i={}){const s=await e.post("swarm/addrs/local",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers}),{Strings:a}=await s.json();return(a||[]).map(c=>multiaddr$1(c))}return o}),createPeers=configure(e=>{async function o(i={}){const s=await e.post("swarm/peers",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers}),{Peers:a}=await s.json();return(a||[]).map(c=>({addr:multiaddr$1(c.Addr),peer:peerIdFromString(c.Peer),muxer:c.Muxer,latency:c.Latency,streams:c.Streams,direction:c.Direction==null?void 0:c.Direction===0?"inbound":"outbound"}))}return o});function createSwarm(e){return{addrs:createAddrs(e),connect:createConnect(e),disconnect:createDisconnect(e),localAddrs:createLocalAddrs(e),peers:createPeers(e)}}const createAddAll=configure(e=>{async function*o(i,s={}){const a=new AbortController,c=abortSignal(a.signal,s.signal),{headers:d,body:h,total:g,parts:b}=await multipartRequest(i,a,s.headers),[$,j]=typeof s.progress=="function"?createProgressHandler(g,b,s.progress):[void 0,void 0],tt=await e.post("add",{searchParams:toUrlSearchParams({"stream-channels":!0,...s,progress:!!$}),onUploadProgress:j,signal:c,headers:d,body:h});for await(let at of tt.ndjson())at=objectToCamel(at),at.hash!==void 0?yield toCoreInterface(at):$&&$(at.bytes||0,at.name)}return o}),createProgressHandler=(e,o,i)=>o?[void 0,createOnUploadProgress(e,o,i)]:[i,void 0],createOnUploadProgress=(e,o,i)=>{let s=0;const a=o.length;return({loaded:c,total:d})=>{const h=Math.floor(c/d*e);for(;s<a;){const{start:g,end:b,name:$}=o[s];if(h<b){i(h-g,$);break}else i(b-g,$),s+=1}}};function toCoreInterface({name:e,hash:o,size:i,mode:s,mtime:a,mtimeNsecs:c}){const d={path:e,cid:CID$2.parse(o),size:parseInt(i)};return s!=null&&(d.mode=parseInt(s,8)),a!=null&&(d.mtime={secs:a,nsecs:c||0}),d}function blobToIt(e){return typeof e.stream=="function"?browserReadableStreamToIt(e.stream()):browserReadableStreamToIt(new Response(e).body)}async function*toAsyncIterable(e){yield e}async function normaliseContent(e){if(isBytes(e))return toAsyncIterable(toBytes(e));if(typeof e=="string"||e instanceof String)return toAsyncIterable(toBytes(e.toString()));if(isBlob(e))return blobToIt(e);if(isReadableStream(e)&&(e=browserReadableStreamToIt(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const o=peekableIterator(e),{value:i,done:s}=await o.peek();if(s)return toAsyncIterable(new Uint8Array(0));if(o.push(i),Number.isInteger(i))return toAsyncIterable(Uint8Array.from(await all(o)));if(isBytes(i)||typeof i=="string"||i instanceof String)return map(o,toBytes)}throw errCode$1(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function toBytes(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):fromString$3(e.toString())}async function*normaliseCandidateSingle(e,o){if(e==null)throw errCode$1(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if(typeof e=="string"||e instanceof String){yield toFileObject(e.toString(),o);return}if(isBytes(e)||isBlob(e)){yield toFileObject(e,o);return}if(isReadableStream(e)&&(e=browserReadableStreamToIt(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const i=peekableIterator(e),{value:s,done:a}=await i.peek();if(a){yield{content:[]};return}if(i.push(s),Number.isInteger(s)||isBytes(s)||typeof s=="string"||s instanceof String){yield toFileObject(i,o);return}throw errCode$1(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(isFileObject(e)){yield toFileObject(e,o);return}throw errCode$1(new Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT")}async function toFileObject(e,o){const{path:i,mode:s,mtime:a,content:c}=e,d={path:i||"",mode:parseMode(s),mtime:parseMtime(a)};return c?d.content=await o(c):i||(d.content=await o(e)),d}function normaliseInput(e){return normaliseCandidateSingle(e,normaliseContent)}function createAdd(e){const o=createAddAll(e);return configure(()=>{async function i(s,a={}){return await last(o(normaliseInput(s),a))}return i})(e)}const createCat=configure(e=>{async function*o(i,s={}){yield*(await e.post("cat",{signal:s.signal,searchParams:toUrlSearchParams({arg:i.toString(),...s}),headers:s.headers})).iterator()}return o}),createCommands=configure(e=>async(i={})=>(await e.post("commands",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers})).json()),createDns=configure(e=>async(i,s={})=>(await(await e.post("dns",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers})).json()).Path),createGetEndpointConfig=configure(e=>()=>{const o=new URL(e.opts.base||"");return{host:o.hostname,port:o.port,protocol:o.protocol,pathname:o.pathname,"api-path":o.pathname}}),createGet=configure(e=>{async function*o(i,s={}){const a={arg:`${i instanceof Uint8Array?CID$2.decode(i):i}`,...s};a.compressionLevel&&(a["compression-level"]=a.compressionLevel,delete a.compressionLevel),yield*(await e.post("get",{signal:s.signal,searchParams:toUrlSearchParams(a),headers:s.headers})).iterator()}return o}),createId=configure(e=>{async function o(i={}){const a=await(await e.post("id",{signal:i.signal,searchParams:toUrlSearchParams({arg:i.peerId?i.peerId.toString():void 0,...i}),headers:i.headers})).json(),c={...objectToCamel(a)};return c.id=peerIdFromString(c.id),c.addresses&&(c.addresses=c.addresses.map(d=>multiaddr$1(d))),c}return o}),createIsOnline=e=>{const o=createId(e);async function i(s={}){const a=await o(s);return!!(a&&a.addresses&&a.addresses.length)}return i},createLs=configure((e,o)=>{async function*i(s,a={}){const c=`${s instanceof Uint8Array?CID$2.decode(s):s}`;async function d(g){let b=g.Hash;if(b.includes("/")){const j=b.startsWith("/ipfs/")?b:`/ipfs/${b}`;b=(await createStat$2(o)(j)).cid}else b=CID$2.parse(b);const $={name:g.Name,path:c+(g.Name?`/${g.Name}`:""),size:g.Size,cid:b,type:typeOf(g)};return g.Mode&&($.mode=parseInt(g.Mode,8)),g.Mtime!==void 0&&g.Mtime!==null&&($.mtime={secs:g.Mtime},g.MtimeNsecs!==void 0&&g.MtimeNsecs!==null&&($.mtime.nsecs=g.MtimeNsecs)),$}const h=await e.post("ls",{signal:a.signal,searchParams:toUrlSearchParams({arg:c,...a}),headers:a.headers});for await(let g of h.ndjson()){if(g=g.Objects,!g)throw new Error("expected .Objects in results");if(g=g[0],!g)throw new Error("expected one array in results.Objects");const b=g.Links;if(!Array.isArray(b))throw new Error("expected one array in results.Objects[0].Links");if(!b.length){yield d(g);return}yield*b.map(d)}}return i});function typeOf(e){switch(e.Type){case 1:case 5:return"dir";case 2:return"file";default:return"file"}}const createMount=configure(e=>{async function o(i={}){const s=await e.post("dns",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers});return objectToCamel(await s.json())}return o}),createPing=configure(e=>{async function*o(i,s={}){yield*(await e.post("ping",{signal:s.signal,searchParams:toUrlSearchParams({arg:`${i}`,...s}),headers:s.headers,transform:objectToCamel})).ndjson()}return o}),createResolve=configure(e=>{async function o(i,s={}){const a=await e.post("resolve",{signal:s.signal,searchParams:toUrlSearchParams({arg:i,...s}),headers:s.headers}),{Path:c}=await a.json();return c}return o}),createStart=configure(e=>async(i={})=>{throw errCode$1(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}),createStop=configure(e=>{async function o(i={}){await(await e.post("shutdown",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers})).text()}return o}),createVersion=configure(e=>{async function o(i={}){const s=await e.post("version",{signal:i.signal,searchParams:toUrlSearchParams(i),headers:i.headers});return{...objectToCamel(await s.json()),"ipfs-http-client":"1.0.0"}}return o});function create(e={}){const o={name:identity$4.name,code:identity$4.code,encode:b=>b,decode:b=>b},i=Object.values(bases$3);(e.ipld&&e.ipld.bases?e.ipld.bases:[]).forEach(b=>i.push(b));const s=new Multibases({bases:i,loadBase:e.ipld&&e.ipld.loadBase}),a=Object.values(codecs$1);[dagPB,dagCBOR,dagJSON,dagJOSE,o].concat(e.ipld&&e.ipld.codecs||[]).forEach(b=>a.push(b));const c=new Multicodecs({codecs:a,loadCodec:e.ipld&&e.ipld.loadCodec}),d=Object.values(hashes);(e.ipld&&e.ipld.hashers?e.ipld.hashers:[]).forEach(b=>d.push(b));const h=new Multihashes({hashers:d,loadHasher:e.ipld&&e.ipld.loadHasher});return{add:createAdd(e),addAll:createAddAll(e),bitswap:createBitswap(e),block:createBlock(e),bootstrap:createBootstrap(e),cat:createCat(e),commands:createCommands(e),config:createConfig(e),dag:createDag(c,e),dht:createDht(e),diag:createDiag(e),dns:createDns(e),files:createFiles(e),get:createGet(e),getEndpointConfig:createGetEndpointConfig(e),id:createId(e),isOnline:createIsOnline(e),key:createKey(e),log:createLog(e),ls:createLs(e),mount:createMount(e),name:createName(e),object:createObject(c,e),pin:createPin(e),ping:createPing(e),pubsub:createPubsub(e),refs:createRefs(e),repo:createRepo(e),resolve:createResolve(e),start:createStart(e),stats:createStats(e),stop:createStop(e),swarm:createSwarm(e),version:createVersion(e),bases:s,codecs:c,hashers:h}}const client=create({url:"https://ipfs.infura.io:5001/api/v0"});async function uploadFile(e){const o=await client.add(e);return o.path||o.cid.toString()}function Chat(){const e=reactExports.useContext(GunContext),[o,i]=reactExports.useState([]),[s,a]=reactExports.useState(""),c=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>await generateAndStoreKeys())();const g=e.get("chat/room/general");return g.map().on(async(b,$)=>{if(!b)return;let j=b;if(b.encrypted)try{j=await decryptMessageFromPeer(b)}catch{return}i(tt=>[...tt.filter(at=>at.id!==$),{id:$,...j}])}),()=>{g.off()}},[]),reactExports.useEffect(()=>{var g;(g=c.current)==null||g.scrollTo({top:c.current.scrollHeight})},[o]);async function d(){if(!s)return;const g=e.get("chat/room/general"),b=await encryptMessageForPeer({type:"text",text:s});g.set({encrypted:!0,data:b,ts:Date.now()}),a("")}async function h(g){const b=g.target.files[0];if(!b)return;const $=await uploadFile(b),j=e.get("chat/room/general"),tt=await encryptMessageForPeer({type:"file",name:b.name,cid:$});j.set({encrypted:!0,data:tt,ts:Date.now()})}return jsxRuntimeExports.jsxs("main",{className:"flex-1 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"border-b p-4 flex items-center justify-between bg-white dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold",children:"General"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"Group chat"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("button",{className:"px-3 py-1 bg-green-500 text-white rounded",children:"Call"})})]}),jsxRuntimeExports.jsx("div",{ref:c,className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50 dark:bg-gray-900",children:o.map(g=>jsxRuntimeExports.jsx("div",{className:"max-w-xl",children:jsxRuntimeExports.jsxs("div",{className:"px-3 py-2 bg-white dark:bg-gray-800 rounded shadow-sm",children:[g.type==="text"&&jsxRuntimeExports.jsx("div",{children:g.text}),g.type==="file"&&jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("a",{className:"text-blue-500",href:`https://ipfs.io/ipfs/${g.cid}`,target:"_blank",rel:"noreferrer",children:g.name})}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(g.ts||0).toLocaleString()})]})},g.id))}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t bg-white dark:bg-gray-800 flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"file",onChange:h}),jsxRuntimeExports.jsx("input",{value:s,onChange:g=>a(g.target.value),className:"flex-1 px-3 py-2 rounded border",placeholder:"Type a message"}),jsxRuntimeExports.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Send"})]})]})}function Auth({onAuth:e}){const o=reactExports.useContext(GunContext),[i,s]=reactExports.useState("login"),[a,c]=reactExports.useState(""),[d,h]=reactExports.useState(""),[g,b]=reactExports.useState(!1),[$,j]=reactExports.useState(null),[tt,at]=reactExports.useState("checking"),[_,ot]=reactExports.useState(0);useEffect(()=>{if(!(o!=null&&o.gun))return;at("connecting");let nt=!1;const et=rt=>{console.log("Connected to peer:",rt),at("connected"),j(null),nt=!0},_e=rt=>{console.log("Disconnected from peer:",rt),nt&&(at("reconnecting"),ot(it=>it+1))};return o.gun.on("hi",et),o.gun.on("bye",_e),setTimeout(()=>{nt||(console.log("Initial connection timeout, retrying..."),at("retrying"),o.gun.opt({peers:["https://nepalconnect-n6xx.onrender.com/gun","https://gun-manhattan.herokuapp.com/gun"]}))},5e3),()=>{o.gun.off("hi",et),o.gun.off("bye",_e)}},[o]);async function ut(nt){if(nt.preventDefault(),tt!=="connected"){j("Please wait for connection to establish...");return}b(!0),j(null);try{i==="signup"?await createUser(o.gun,a,d):await authUser(o.gun,a,d),e&&e(a)}catch(et){j(String(et))}finally{b(!1)}}return jsxRuntimeExports.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:jsxRuntimeExports.jsxs("form",{onSubmit:ut,className:"w-full max-w-md p-6 bg-white dark:bg-gray-800 rounded shadow",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl mb-4",children:i==="signup"?"Create account":"Login"}),jsxRuntimeExports.jsx("div",{className:`text-sm mb-4 ${tt==="connected"?"text-green-500":tt==="connecting"?"text-yellow-500":"text-blue-500"}`,children:tt==="connected"?" Connected to network":tt==="connecting"?" Connecting to network...":" Reconnecting..."}),$&&jsxRuntimeExports.jsx("div",{className:"text-red-500 mb-2",children:$}),jsxRuntimeExports.jsxs("label",{className:"block mb-2",children:["Username",jsxRuntimeExports.jsx("input",{value:a,onChange:nt=>c(nt.target.value),className:"w-full mt-1 px-3 py-2 rounded border"})]}),jsxRuntimeExports.jsxs("label",{className:"block mb-4",children:["Password",jsxRuntimeExports.jsx("input",{type:"password",value:d,onChange:nt=>h(nt.target.value),className:"w-full mt-1 px-3 py-2 rounded border"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("button",{disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded",children:g?"Please wait...":i==="signup"?"Create":"Login"}),jsxRuntimeExports.jsx("button",{type:"button",className:"text-sm text-gray-500",onClick:()=>s(i==="signup"?"login":"signup"),children:i==="signup"?"Have an account? Login":"Create an account"})]})]})})}function App(){const[e,o]=reactExports.useState(null),[i,s]=reactExports.useState(()=>{const a=localStorage.getItem("nc_user");return a?JSON.parse(a):null});return reactExports.useEffect(()=>{const a=createGun();o(a),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(()=>{})},[]),e?jsxRuntimeExports.jsx(GunContext.Provider,{value:e,children:i?jsxRuntimeExports.jsxs("div",{className:"h-screen flex bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[jsxRuntimeExports.jsx(Sidebar,{currentUser:i,onLogout:()=>{localStorage.removeItem("nc_user"),s(null),e&&e.gun.user().leave()}}),jsxRuntimeExports.jsx(Chat,{})]}):jsxRuntimeExports.jsx(Auth,{onAuth:a=>{localStorage.setItem("nc_user",JSON.stringify(a)),s(a)}})}):jsxRuntimeExports.jsx("div",{className:"h-screen flex items-center justify-center",children:"Starting Nepal Connect..."})}const index="",root=document.getElementById("root");if(!root)throw new Error("Failed to find the root element");const app=createRoot(root);app.render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
//# sourceMappingURL=index-d469d6db.js.map
